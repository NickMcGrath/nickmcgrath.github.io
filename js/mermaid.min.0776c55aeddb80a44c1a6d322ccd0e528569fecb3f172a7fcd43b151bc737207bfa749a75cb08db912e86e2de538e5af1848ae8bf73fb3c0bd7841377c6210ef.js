(()=>{Aw=Object.create,Yl=Object.defineProperty,hS=Object.getOwnPropertyDescriptor,T3=Object.getOwnPropertyNames,uS=Object.getPrototypeOf,dS=Object.prototype.hasOwnProperty,lS=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),ql=(e,t)=>function(){return t||(0,e[T3(e)[0]])((t={exports:{}}).exports,t),t.exports},A3=(e,t)=>{for(var n in t)Yl(e,n,{get:t[n],enumerable:!0})},cS=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of T3(t))!dS.call(e,o)&&o!==n&&Yl(e,o,{get:()=>t[o],enumerable:!(s=hS(t,o))||s.enumerable});return e},Wl=(e,t,n)=>(n=e!=null?Aw(uS(e)):{},cS(t||!e||!e.__esModule?Yl(n,"default",{value:e,enumerable:!0}):n,e)),rS=ql({"node_modules/moment-mini/moment.min.js"(e,t){!function(n,s){typeof e=="object"&&typeof t!="undefined"?t.exports=s():typeof define=="function"&&define.amd?define(s):n.moment=s()}(e,function(){"use strict";function n(){return Ot.apply(null,arguments)}function x(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Y(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ft(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;for(var t in e)if(l(e,t))return;return 1}function j(e){return e===void 0}function D(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function pe(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function bt(e,t){for(var s=[],o=e.length,n=0;n<o;++n)s.push(t(e[n],n));return s}function V(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function A(e,t,n,s){return St(e,t,n,s,!0).utc()}function a(e){return e._pf==null&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function ht(e){if(e._isValid==null){var t=a(e),n=Sn.call(t.parsedDateParts,function(e){return e!=null}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen!=null&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function Ce(e){var t=A(NaN);return e!=null?V(a(t),e):a(t).userInvalidated=!0,t}var Sn=Array.prototype.some||function(e){for(var n=Object(this),s=n.length>>>0,t=0;t<s;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1},jt=n.momentProperties=[],dt=!1;function lt(e,t){var n,s,o,i=jt.length;if(j(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),j(t._i)||(e._i=t._i),j(t._f)||(e._f=t._f),j(t._l)||(e._l=t._l),j(t._strict)||(e._strict=t._strict),j(t._tzm)||(e._tzm=t._tzm),j(t._isUTC)||(e._isUTC=t._isUTC),j(t._offset)||(e._offset=t._offset),j(t._pf)||(e._pf=a(t)),j(t._locale)||(e._locale=t._locale),0<i)for(n=0;n<i;n++)j(o=t[s=jt[n]])||(e[s]=o);return e}function je(e){lt(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),dt===!1&&(dt=!0,n.updateOffset(this),dt=!1)}function k(e){return e instanceof je||e!=null&&e._isAMomentObject!=null}function yt(e){n.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function _(e,t){var s=!0;return V(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,e),s){for(var o,a,r=[],c=arguments.length,i=0;i<c;i++){if(o="",typeof arguments[i]=="object"){for(a in o+=`
[`+i+"] ",arguments[0])l(arguments[0],a)&&(o+=a+": "+arguments[0][a]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}yt(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+(new Error).stack),s=!1}return t.apply(this,arguments)},t)}rt={};function _t(e,t){n.deprecationHandler!=null&&n.deprecationHandler(e,t),rt[e]||(yt(t),rt[e]=!0)}function S(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function at(e,t){var n,s=V({},e);for(n in t)l(t,n)&&(Y(e[n])&&Y(t[n])?(s[n]={},V(s[n],e[n]),V(s[n],t[n])):t[n]!=null?s[n]=t[n]:delete s[n]);for(n in e)l(e,n)&&!l(t,n)&&Y(e[n])&&(s[n]=V({},s[n]));return s}function it(e){e!=null&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,kt=Object.keys||function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};function T(e,t,n){var s=""+Math.abs(e);return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t-s.length)).toString().substr(1)+s}var ot=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Te=/(\[[^[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,st={},te={};function o(e,t,n,s){var o=typeof s=="string"?function(){return this[s]()}:s;e&&(te[e]=o),t&&(te[t[0]]=function(){return T(o.apply(this,arguments),t[1],t[2])}),n&&(te[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function De(e,t){return e.isValid()?(t=zt(t,e.localeData()),st[t]=st[t]||function(e){for(var s,t=e.match(ot),n=0,o=t.length;n<o;n++)te[t[n]]?t[n]=te[t[n]]:t[n]=(s=t[n]).match(/\[[\s\S]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"");return function(n){for(var i="",s=0;s<o;s++)i+=S(t[s])?t[s].call(n,e):t[s];return i}}(t),st[t](e)):e.localeData().invalidDate()}function zt(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(Te.lastIndex=0;0<=n&&Te.test(e);)e=e.replace(Te,s),Te.lastIndex=0,--n;return e}J={};function v(e,t){var n=e.toLowerCase();J[n]=J[n+"s"]=J[t]=e}function w(e){return typeof e=="string"?J[e]||J[e.toLowerCase()]:void 0}function nt(e){var t,n,s={};for(t in e)l(e,t)&&(n=w(t))&&(s[n]=e[t]);return s}tt={};function b(e,t){tt[e]=t}function Ie(e){return e%4==0&&e%100!=0||e%400==0}function O(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function r(e){var e=+e,t=0;return t=e!=0&&isFinite(e)?O(e):t}function ce(e,t){return function(s){return s!=null?(Nt(this,e,s),n.updateOffset(this,t),this):ze(this,e)}}function ze(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Nt(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&Ie(e.year())&&e.month()===1&&e.date()===29?(n=r(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),xe(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var c,F,B,J,Ot,rt,kt,tt,e=/\d/,i=/\d\d/,Ne=/\d{3}/,Q=/\d{4}/,W=/[+-]?\d{6}/,u=/\d\d?/,ne=/\d\d\d\d?/,se=/\d\d\d\d\d\d?/,oe=/\d{1,3}/,K=/\d{1,4}/,U=/[+-]?\d{1,6}/,re=/\d+/,Oe=/[+-]?\d+/,pn=/Z|[+-]\d\d:?\d\d/gi,Fe=/Z|[+-]\d\d(?::?\d\d)?/gi,N=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Se,Ee,ge,le,Rt,Vt,$t,We,we;function s(e,t,n){Se[e]=S(t)?t:function(e){return e&&n?n:t}}function fn(e,t){return l(Se,e)?Se[e](t._strict,t._locale):new RegExp(y(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\][]*)\]|\\(.)/g,function(e,t,n,s,o){return t||n||s||o})))}function y(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}Se={},Ee={};function d(e,t){var n,s,o=t;for(typeof e=="string"&&(e=[e]),D(t)&&(o=function(e,n){n[t]=r(e)}),s=e.length,n=0;n<s;n++)Ee[e[n]]=o}function ye(e,t){d(e,function(e,n,s,o){s._w=s._w||{},t(e,s._w,s,o)})}var f,g=0,P=1,M=2,p=3,C=4,L=5,G=6,hn=7,ln=8;function xe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%(n=12)+n)%n;return e+=(t-n)/12,n==1?Ie(e)?29:28:31-n%7%2}f=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},o("M",["MM",2],"Mo",function(){return this.month()+1}),o("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),o("MMMM",0,0,function(e){return this.localeData().months(this,e)}),v("month","M"),b("month",8),s("M",u),s("MM",u,i),s("MMM",function(e,t){return t.monthsShortRegex(e)}),s("MMMM",function(e,t){return t.monthsRegex(e)}),d(["M","MM"],function(e,t){t[P]=r(e)-1}),d(["MMM","MMMM"],function(e,t,n,s){s=n._locale.monthsParse(e,s,n._strict),s!=null?t[P]=s:a(n).invalidMonth=e});var me="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),vt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),an=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/,cn=N,un=N;function en(e,t){var n;if(e.isValid()){if(typeof t=="string")if(/^\d+$/.test(t))t=r(t);else if(!D(t=e.localeData().monthsParse(t)))return;n=Math.min(e.date(),xe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n)}}function Qt(e){return e!=null?(en(this,e),n.updateOffset(this,!0),this):ze(this,"Month")}function Ut(){function i(e,t){return t.length-e.length}for(var n,s=[],o=[],t=[],e=0;e<12;e++)n=A([2e3,e]),s.push(this.monthsShort(n,"")),o.push(this.months(n,"")),t.push(this.months(n,"")),t.push(this.monthsShort(n,""));for(s.sort(i),o.sort(i),t.sort(i),e=0;e<12;e++)s[e]=y(s[e]),o[e]=y(o[e]);for(e=0;e<24;e++)t[e]=y(t[e]);this._monthsRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function be(e){return Ie(e)?366:365}o("Y",0,0,function(){var e=this.year();return e<=9999?T(e,4):"+"+e}),o(0,["YY",2],0,function(){return this.year()%100}),o(0,["YYYY",4],0,"year"),o(0,["YYYYY",5],0,"year"),o(0,["YYYYYY",6,!0],0,"year"),v("year","y"),b("year",1),s("Y",Oe),s("YY",u,i),s("YYYY",K,Q),s("YYYYY",U,W),s("YYYYYY",U,W),d(["YYYYY","YYYYYY"],g),d("YYYY",function(e,t){t[g]=e.length===2?n.parseTwoDigitYear(e):r(e)}),d("YY",function(e,t){t[g]=n.parseTwoDigitYear(e)}),d("Y",function(e,t){t[g]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return r(e)+(68<r(e)?1900:2e3)},ge=ce("FullYear",!0);function gn(e,t,n,s,o,i,a){var r;return e<100&&0<=e?(r=new Date(e+400,t,n,s,o,i,a),isFinite(r.getFullYear())&&r.setFullYear(e)):r=new Date(e,t,n,s,o,i,a),r}function ve(e){var t;return e<100&&0<=e?((t=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ve(e,t,n){return n=7+t-n,n-(7+ve(e,0,n).getUTCDay()-t)%7-1}function Et(e,t,n,s,o){var i,t=1+7*(t-1)+(7+n-s)%7+Ve(e,s,o),n=t<=0?be(i=e-1)+t:t>be(e)?(i=e+1,t-be(e)):(i=e,t);return{year:i,dayOfYear:n}}function he(e,t,n){var o,i,s=Ve(e.year(),t,n),s=Math.floor((e.dayOfYear()-s-1)/7)+1;return s<1?o=s+z(i=e.year()-1,t,n):s>z(e.year(),t,n)?(o=s-z(e.year(),t,n),i=e.year()+1):(i=e.year(),o=s),{week:o,year:i}}function z(e,t,n){var s=Ve(e,t,n),t=Ve(e+1,t,n);return(be(e)-s+t)/7}o("w",["ww",2],"wo","week"),o("W",["WW",2],"Wo","isoWeek"),v("week","w"),v("isoWeek","W"),b("week",5),b("isoWeek",5),s("w",u),s("ww",u,i),s("W",u),s("WW",u,i),ye(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=r(e)});function Ke(e,t){return e.slice(t,7).concat(e.slice(0,t))}o("d",0,"do","day"),o("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),o("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),o("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),o("e",0,0,"weekday"),o("E",0,0,"isoWeekday"),v("day","d"),v("weekday","e"),v("isoWeekday","E"),b("day",11),b("weekday",11),b("isoWeekday",11),s("d",u),s("e",u),s("E",u),s("dd",function(e,t){return t.weekdaysMinRegex(e)}),s("ddd",function(e,t){return t.weekdaysShortRegex(e)}),s("dddd",function(e,t){return t.weekdaysRegex(e)}),ye(["dd","ddd","dddd"],function(e,t,n,s){s=n._locale.weekdaysParse(e,s,n._strict),s!=null?t.d=s:a(n).invalidWeekday=e}),ye(["d","e","E"],function(e,t,n,s){t[s]=r(e)});var ue="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),It="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Me="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vn=N,bn=N,jn=N;function Je(){function n(e,t){return t.length-e.length}for(var e,s,r,o=[],i=[],a=[],t=[],c=0;c<7;c++)e=A([2e3,1]).day(c),r=y(this.weekdaysMin(e,"")),s=y(this.weekdaysShort(e,"")),e=y(this.weekdays(e,"")),o.push(r),i.push(s),a.push(e),t.push(r),t.push(s),t.push(e);o.sort(n),i.sort(n),a.sort(n),t.sort(n),this._weekdaysRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function pt(){return this.hours()%12||12}function Dt(e,t){o(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ct(e,t){return t._meridiemParse}o("H",["HH",2],0,"hour"),o("h",["hh",2],0,pt),o("k",["kk",2],0,function(){return this.hours()||24}),o("hmm",0,0,function(){return""+pt.apply(this)+T(this.minutes(),2)}),o("hmmss",0,0,function(){return""+pt.apply(this)+T(this.minutes(),2)+T(this.seconds(),2)}),o("Hmm",0,0,function(){return""+this.hours()+T(this.minutes(),2)}),o("Hmmss",0,0,function(){return""+this.hours()+T(this.minutes(),2)+T(this.seconds(),2)}),Dt("a",!0),Dt("A",!1),v("hour","h"),b("hour",13),s("a",Ct),s("A",Ct),s("H",u),s("h",u),s("k",u),s("HH",u,i),s("hh",u,i),s("kk",u,i),s("hmm",ne),s("hmmss",se),s("Hmm",ne),s("Hmmss",se),d(["H","HH"],p),d(["k","kk"],function(e,t){e=r(e),t[p]=e===24?0:e}),d(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),d(["h","hh"],function(e,t,n){t[p]=r(e),a(n).bigHour=!0}),d("hmm",function(e,t,n){var s=e.length-2;t[p]=r(e.substr(0,s)),t[C]=r(e.substr(s)),a(n).bigHour=!0}),d("hmmss",function(e,t,n){var s=e.length-4,o=e.length-2;t[p]=r(e.substr(0,s)),t[C]=r(e.substr(s,2)),t[L]=r(e.substr(o)),a(n).bigHour=!0}),d("Hmm",function(e,t){var s=e.length-2;t[p]=r(e.substr(0,s)),t[C]=r(e.substr(s))}),d("Hmmss",function(e,t){var s=e.length-4,o=e.length-2;t[p]=r(e.substr(0,s)),t[C]=r(e.substr(s,2)),t[L]=r(e.substr(o))});var N=ce("Hours",!0),de,Tt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:me,monthsShort:vt,week:{dow:0,doy:6},weekdays:ue,weekdaysMin:Me,weekdaysShort:It,meridiemParse:/[ap]\.?m?\.?/i},m={},fe={};function Mt(e){return e&&e.toLowerCase().replace("_","-")}function _n(e){for(var t,n,o,i,s=0;s<e.length;){for(t=(o=Mt(e[s]).split("-")).length,n=(n=Mt(e[s+1]))?n.split("-"):null;0<t;){if(i=_e(o.slice(0,t).join("-")))return i;if(n&&n.length>=t&&function(e,t){for(var s=Math.min(e.length,t.length),n=0;n<s;n+=1)if(e[n]!==t[n])return n;return s}(o,n)>=t-1)break;t--}s++}return de}function _e(e){var n;if(m[e]===void 0&&typeof t!="undefined"&&t&&t.exports&&e.match("^[^/\\\\]*$")!=null)try{n=de._abbr,lS("./locale/"+e),$(n)}catch{m[e]=null}return m[e]}function $(e,t){return e&&((t=j(t)?I(e):ut(e,t))?de=t:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),de._abbr}function ut(e,t){if(t===null)return delete m[e],null;var s,n=Tt;if(t.abbr=e,m[e]!=null)_t("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=m[e]._config;else if(t.parentLocale!=null)if(m[t.parentLocale]!=null)n=m[t.parentLocale]._config;else{if((s=_e(t.parentLocale))==null)return fe[t.parentLocale]||(fe[t.parentLocale]=[]),fe[t.parentLocale].push({name:e,config:t}),null;n=s._config}return m[e]=new it(at(n,t)),fe[e]&&fe[e].forEach(function(e){ut(e.name,e.config)}),$(e),m[e]}function I(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return de;if(!x(e)){if(t=_e(e))return t;e=[e]}return _n(e)}function gt(e){var t=e._a;return t&&a(e).overflow===-2&&(t=t[P]<0||11<t[P]?P:t[M]<1||t[M]>xe(t[g],t[P])?M:t[p]<0||24<t[p]||t[p]===24&&(t[C]!==0||t[L]!==0||t[G]!==0)?p:t[C]<0||59<t[C]?C:t[L]<0||59<t[L]?L:t[G]<0||999<t[G]?G:-1,a(e)._overflowDayOfYear&&(t<g||M<t)&&(t=M),a(e)._overflowWeeks&&t===-1&&(t=hn),a(e)._overflowWeekday&&t===-1&&(t=ln),a(e).overflow=t),e}var rn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yn=/Z|[+-]\d\d(?::?\d\d)?/,Be=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],$e=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],An=/^\/?Date\((-?\d+)/i,En=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wt(e){var t,s,i,r,c,l,o=e._i,n=rn.exec(o)||Mn.exec(o),o=Be.length,d=$e.length;if(n){for(a(e).iso=!0,t=0,i=o;t<i;t++)if(Be[t][1].exec(n[1])){r=Be[t][0],c=Be[t][2]!==!1;break}if(r==null)e._isValid=!1;else{if(n[3]){for(t=0,i=d;t<i;t++)if($e[t][1].exec(n[3])){s=(n[2]||" ")+$e[t][0];break}if(s==null)return void(e._isValid=!1)}if(c||s==null){if(n[4]){if(!yn.exec(n[4]))return void(e._isValid=!1);l="Z"}e._f=r+(s||"")+(l||""),ct(e)}else e._isValid=!1}}else e._isValid=!1}function On(e,t,n,s,o,i){return e=[function(e){e=parseInt(e,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(e),vt.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(o,10)],i&&e.push(parseInt(i,10)),e}function xt(e){var n,s,o,i,t=En.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));t?(i=On(t[4],t[3],t[2],t[5],t[6],t[7]),n=t[1],s=i,o=e,n&&It.indexOf(n)!==new Date(s[0],s[1],s[2]).getDay()?(a(o).weekdayMismatch=!0,o._isValid=!1):(e._a=i,e._tzm=(n=t[8],s=t[9],o=t[10],n?Cn[n]:s?0:60*(((n=parseInt(o,10))-(s=n%100))/100)+s),e._d=ve.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),a(e).rfc2822=!0)):e._isValid=!1}function Z(e,t,n){return e??t??n}function mt(e){var t,s,o,i,r,c,l,d,u,m,f,v=[];if(!e._d){for(o=e,t=new Date(n.now()),f=o._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()],e._w&&e._a[M]==null&&e._a[P]==null&&((t=(o=e)._w).GG!=null||t.W!=null||t.E!=null?(i=1,m=4,l=Z(t.GG,o._a[g],he(h(),1,4).year),u=Z(t.W,1),((r=Z(t.E,1))<1||7<r)&&(c=!0)):(i=o._locale._week.dow,m=o._locale._week.doy,d=he(h(),i,m),l=Z(t.gg,o._a[g],d.year),u=Z(t.w,d.week),t.d!=null?((r=t.d)<0||6<r)&&(c=!0):t.e!=null?(r=t.e+i,(t.e<0||6<t.e)&&(c=!0)):r=i),u<1||u>z(l,i,m)?a(o)._overflowWeeks=!0:c!=null?a(o)._overflowWeekday=!0:(d=Et(l,u,r,i,m),o._a[g]=d.year,o._dayOfYear=d.dayOfYear)),e._dayOfYear!=null&&(t=Z(e._a[g],f[g]),(e._dayOfYear>be(t)||e._dayOfYear===0)&&(a(e)._overflowDayOfYear=!0),c=ve(t,0,e._dayOfYear),e._a[P]=c.getUTCMonth(),e._a[M]=c.getUTCDate()),s=0;s<3&&e._a[s]==null;++s)e._a[s]=v[s]=f[s];for(;s<7;s++)e._a[s]=v[s]=e._a[s]==null?s===2?1:0:e._a[s];e._a[p]===24&&e._a[C]===0&&e._a[L]===0&&e._a[G]===0&&(e._nextDay=!0,e._a[p]=0),e._d=(e._useUTC?ve:gn).apply(null,v),l=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[p]=24),e._w&&e._w.d!==void 0&&e._w.d!==l&&(a(e).weekdayMismatch=!0)}}function ct(e){if(e._f===n.ISO_8601)wt(e);else if(e._f===n.RFC_2822)xt(e);else{e._a=[],a(e).empty=!0;for(var s,o,i,r,u,t=""+e._i,c=t.length,h=0,m=zt(e._f,e._locale).match(ot)||[],f=m.length,d=0;d<f;d++)o=m[d],(s=(t.match(fn(o,e))||[])[0])&&(0<(i=t.substr(0,t.indexOf(s))).length&&a(e).unusedInput.push(i),t=t.slice(t.indexOf(s)+s.length),h+=s.length),te[o]?(s?a(e).empty=!1:a(e).unusedTokens.push(o),i=o,r=e,(u=s)!=null&&l(Ee,i)&&Ee[i](u,r._a,r,i)):e._strict&&!s&&a(e).unusedTokens.push(o);a(e).charsLeftOver=c-h,0<t.length&&a(e).unusedInput.push(t),e._a[p]<=12&&a(e).bigHour===!0&&0<e._a[p]&&(a(e).bigHour=void 0),a(e).parsedDateParts=e._a.slice(0),a(e).meridiem=e._meridiem,e._a[p]=function(e,t,n){return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):e.isPM!=null?((e=e.isPM(n))&&t<12&&(t+=12),t=e||t!==12?t:0):t}(e._locale,e._a[p],e._meridiem),(c=a(e).era)!==null&&(e._a[g]=e._locale.erasConvertYear(c,e._a[g])),mt(e),gt(e)}}function At(e){var t,i,r,s=e._i,o=e._f;return e._locale=e._locale||I(e._l),s===null||o===void 0&&s===""?Ce({nullInput:!0}):(typeof s=="string"&&(e._i=s=e._locale.preparse(s)),k(s)?new je(gt(s)):(pe(s)?e._d=s:x(o)?!function(e){var t,n,s,o,i,r,c=!1,l=e._f.length;if(l===0)return a(e).invalidFormat=!0,e._d=new Date(NaN);for(o=0;o<l;o++)n=0,i=!1,t=lt({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],ct(t),ht(t)&&(i=!0),n=(n+=a(t).charsLeftOver)+10*a(t).unusedTokens.length,a(t).score=n,c?n<s&&(s=n,r=t):(s==null||n<s||i)&&(s=n,r=t,i&&(c=!0));V(e,r||t)}(e):o?ct(e):j(o=(s=e)._i)?s._d=new Date(n.now()):pe(o)?s._d=new Date(o.valueOf()):typeof o=="string"?(t=s,(i=An.exec(t._i))!==null?t._d=new Date(+i[1]):(wt(t),t._isValid===!1&&(delete t._isValid,xt(t),t._isValid===!1&&(delete t._isValid,t._strict?t._isValid=!1:n.createFromInputFallback(t))))):x(o)?(s._a=bt(o.slice(0),function(e){return parseInt(e,10)}),mt(s)):Y(o)?(i=s)._d||(r=(t=nt(i._i)).day===void 0?t.date:t.day,i._a=bt([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),mt(i)):D(o)?s._d=new Date(o):n.createFromInputFallback(s),ht(e)||(e._d=null),e))}function St(e,t,n,s,o){var i={};return t!==!0&&t!==!1||(s=t,t=void 0),n!==!0&&n!==!1||(s=n,n=void 0),(Y(e)&&ft(e)||x(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=s,(o=new je(gt(At(o=i))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function h(e,t,n,s){return St(e,t,n,s,!1)}n.createFromInputFallback=_("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){},ne=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=h.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Ce()}),se=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=h.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:Ce()});function Ft(e,t){var n,s;if(!(t=t.length===1&&x(t[0])?t[0]:t).length)return h();for(s=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](s)||(s=t[n]);return s}le=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Re(e){var e=nt(e),t=e.year||0,n=e.quarter||0,s=e.month||0,o=e.week||e.isoWeek||0,i=e.day||0,a=e.hour||0,c=e.minute||0,d=e.second||0,u=e.millisecond||0;this._isValid=function(e){var t,n,s=!1,o=le.length;for(n in e)if(l(e,n)&&(f.call(le,n)===-1||e[n]!=null&&isNaN(e[n])))return!1;for(t=0;t<o;++t)if(e[le[t]]){if(s)return!1;parseFloat(e[le[t]])!==r(e[le[t]])&&(s=!0)}return!0}(e),this._milliseconds=+u+1e3*d+6e4*c+1e3*a*60*60,this._days=+i+7*o,this._months=+s+3*n+12*t,this._data={},this._locale=I(),this._bubble()}function Pe(e){return e instanceof Re}function Ze(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Lt(e,t){o(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+T(~~(e/60),2)+t+T(~~e%60,2)})}Lt("Z",":"),Lt("ZZ",""),s("Z",Fe),s("ZZ",Fe),d(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Qe(Fe,e)}),Rt=/([+-]|\d\d)/gi;function Qe(e,t){var t=(t||"").match(e);return t===null?null:(t=60*(e=((t[t.length-1]||[])+"").match(Rt)||["-",0,0])[1]+r(e[2]))===0?0:e[0]==="+"?t:-t}function Xe(e,t){var s;return t._isUTC?(t=t.clone(),s=(k(e)||pe(e)?e:h(e)).valueOf()-t.valueOf(),t._d.setTime(t._d.valueOf()+s),n.updateOffset(t,!1),t):h(e).local()}function Ye(e){return-Math.round(e._d.getTimezoneOffset())}function Bt(){return!!this.isValid()&&this._isUTC&&this._offset===0}n.updateOffset=function(){},Vt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,$t=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function E(e,t){var o,s=e,n=null;return Pe(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:D(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(n=Vt.exec(e))?(o=n[1]==="-"?-1:1,s={y:0,d:r(n[M])*o,h:r(n[p])*o,m:r(n[C])*o,s:r(n[L])*o,ms:r(Ze(1e3*n[G]))*o}):(n=$t.exec(e))?(o=n[1]==="-"?-1:1,s={y:X(n[2],o),M:X(n[3],o),w:X(n[4],o),d:X(n[5],o),h:X(n[6],o),m:X(n[7],o),s:X(n[8],o)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(t=function(e,t){var n;return!e.isValid()||!t.isValid()?{milliseconds:0,months:0}:(t=Xe(t,e),e.isBefore(t)?n=Kt(e,t):((n=Kt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n)}(h(s.from),h(s.to)),(s={}).ms=t.milliseconds,s.M=t.months),n=new Re(s),Pe(e)&&l(e,"_locale")&&(n._locale=e._locale),Pe(e)&&l(e,"_isValid")&&(n._isValid=e._isValid),n}function X(e,t){return e=e&&parseFloat(e.replace(",",".")),(isNaN(e)?0:e)*t}function Kt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function qt(e,t){return function(n,s){var o;return s===null||isNaN(+s)||(_t(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=s,s=o),Yt(this,E(n,s),e),this}}function Yt(e,t,s,o){var a=t._milliseconds,i=Ze(t._days),t=Ze(t._months);e.isValid()&&(o=o==null||o,t&&en(e,ze(e,"Month")+t*s),i&&Nt(e,"Date",ze(e,"Date")+i*s),a&&e._d.setTime(e._d.valueOf()+a*s),o&&n.updateOffset(e,i||t))}E.fn=Re.prototype,E.invalid=function(){return E(NaN)},me=qt(1,"add"),ue=qt(-1,"subtract");function Gt(e){return typeof e=="string"||e instanceof String}function mn(e){return k(e)||pe(e)||Gt(e)||D(e)||function(e){var t=x(e),n=!1;return t&&(n=e.filter(function(t){return!D(t)&&Gt(e)}).length===0),t&&n}(e)||function(e){var t,s,i=Y(e)&&!ft(e),n=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=o.length;for(t=0;t<a;t+=1)s=o[t],n=n||l(e,s);return i&&n}(e)||e==null}function Le(e,t){if(e.date()<t.date())return-Le(t,e);var s=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(s,"months"),t=t-n<0?(t-n)/(n-e.clone().add(s-1,"months")):(t-n)/(e.clone().add(1+s,"months")-n);return-(s+t)||0}function Zt(e){return e===void 0?this._locale._abbr:((e=I(e))!=null&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",Me=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Jt(){return this._locale}We=126227808e5;function ee(e,t){return(e%t+t)%t}function nn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-We:new Date(e,t,n).valueOf()}function sn(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-We:Date.UTC(e,t,n)}function Ue(e,t){return t.erasAbbrRegex(e)}function qe(){for(var s=[],o=[],i=[],n=[],t=this.eras(),e=0,a=t.length;e<a;++e)o.push(y(t[e].name)),s.push(y(t[e].abbr)),i.push(y(t[e].narrow)),n.push(y(t[e].name)),n.push(y(t[e].abbr)),n.push(y(t[e].narrow));this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+o.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function He(e,t){o(0,[e,e.length],0,t)}function on(e,t,n,s,o){var i;return e==null?he(this,s,o).year:(i=z(e,s,o),function(e,t,n,s,o){return e=Et(e,t,n,s,o),t=ve(e.year,0,e.dayOfYear),this.year(t.getUTCFullYear()),this.month(t.getUTCMonth()),this.date(t.getUTCDate()),this}.call(this,e,t=i<t?i:t,n,s,o))}o("N",0,0,"eraAbbr"),o("NN",0,0,"eraAbbr"),o("NNN",0,0,"eraAbbr"),o("NNNN",0,0,"eraName"),o("NNNNN",0,0,"eraNarrow"),o("y",["y",1],"yo","eraYear"),o("y",["yy",2],0,"eraYear"),o("y",["yyy",3],0,"eraYear"),o("y",["yyyy",4],0,"eraYear"),s("N",Ue),s("NN",Ue),s("NNN",Ue),s("NNNN",function(e,t){return t.erasNameRegex(e)}),s("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),d(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,s){s=n._locale.erasParse(e,s,n._strict),s?a(n).era=s:a(n).invalidEra=e}),s("y",re),s("yy",re),s("yyy",re),s("yyyy",re),s("yo",function(e,t){return t._eraYearOrdinalRegex||re}),d(["y","yy","yyy","yyyy"],g),d(["yo"],function(e,t,n){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[g]=n._locale.eraYearOrdinalParse(e,o):t[g]=parseInt(e,10)}),o(0,["gg",2],0,function(){return this.weekYear()%100}),o(0,["GG",2],0,function(){return this.isoWeekYear()%100}),He("gggg","weekYear"),He("ggggg","weekYear"),He("GGGG","isoWeekYear"),He("GGGGG","isoWeekYear"),v("weekYear","gg"),v("isoWeekYear","GG"),b("weekYear",1),b("isoWeekYear",1),s("G",Oe),s("g",Oe),s("GG",u,i),s("gg",u,i),s("GGGG",K,Q),s("gggg",K,Q),s("GGGGG",U,W),s("ggggg",U,W),ye(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=r(e)}),ye(["gg","GG"],function(e,t,s,o){t[o]=n.parseTwoDigitYear(e)}),o("Q",0,"Qo","quarter"),v("quarter","Q"),b("quarter",7),s("Q",e),d("Q",function(e,t){t[P]=3*(r(e)-1)}),o("D",["DD",2],"Do","date"),v("date","D"),b("date",9),s("D",u),s("DD",u,i),s("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),d(["D","DD"],M),d("Do",function(e,t){t[M]=r(e.match(u)[0])}),K=ce("Date",!0),o("DDD",["DDDD",3],"DDDo","dayOfYear"),v("dayOfYear","DDD"),b("dayOfYear",4),s("DDD",oe),s("DDDD",Ne),d(["DDD","DDDD"],function(e,t,n){n._dayOfYear=r(e)}),o("m",["mm",2],0,"minute"),v("minute","m"),b("minute",14),s("m",u),s("mm",u,i),d(["m","mm"],C),Q=ce("Minutes",!1),U=(o("s",["ss",2],0,"second"),v("second","s"),b("second",15),s("s",u),s("ss",u,i),d(["s","ss"],L),ce("Seconds",!1));for(o("S",0,0,function(){return~~(this.millisecond()/100)}),o(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),o(0,["SSS",3],0,"millisecond"),o(0,["SSSS",4],0,function(){return 10*this.millisecond()}),o(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),o(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),o(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),o(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),o(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),v("millisecond","ms"),b("millisecond",16),s("S",oe,e),s("SS",oe,i),s("SSS",oe,Ne),B="SSSS";B.length<=9;B+="S")s(B,re);function dn(e,t){t[G]=r(1e3*("0."+e))}for(B="S";B.length<=9;B+="S")d(B,dn);W=ce("Milliseconds",!1),o("z",0,0,"zoneAbbr"),o("zz",0,0,"zoneName"),e=je.prototype;function tn(e){return e}e.add=me,e.calendar=function(e,t){arguments.length===1&&(arguments[0]?mn(arguments[0])?(e=arguments[0],t=void 0):function(e){for(var o=Y(e)&&!ft(e),t=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],n=0;n<s.length;n+=1)t=t||l(e,s[n]);return o&&t}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var e=e||h(),s=Xe(e,this).startOf("day"),s=n.calendarFormat(this,s)||"sameElse",t=t&&(S(t[s])?t[s].call(this,e):t[s]);return this.format(t||this.localeData().calendar(s,this,h(e)))},e.clone=function(){return new je(this)},e.diff=function(e,t,n){var s,o,i;if(!this.isValid())return NaN;if(!(s=Xe(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=w(t)){case"year":o=Le(this,s)/12;break;case"month":o=Le(this,s);break;case"quarter":o=Le(this,s)/3;break;case"second":o=(this-s)/1e3;break;case"minute":o=(this-s)/6e4;break;case"hour":o=(this-s)/36e5;break;case"day":o=(this-s-i)/864e5;break;case"week":o=(this-s-i)/6048e5;break;default:o=this-s}return n?o:O(o)},e.endOf=function(e){var t,s;if((e=w(e))===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?sn:nn,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-ee(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-ee(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-ee(t,1e3)-1;break}return this._d.setTime(t),n.updateOffset(this,!0),this},e.format=function(e){return e=e||(this.isUtc()?n.defaultFormatUtc:n.defaultFormat),e=De(this,e),this.localeData().postformat(e)},e.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||h(e).isValid())?E({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},e.fromNow=function(e){return this.from(h(),e)},e.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||h(e).isValid())?E({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},e.toNow=function(e){return this.to(h(),e)},e.get=function(e){return S(this[e=w(e)])?this[e]():this},e.invalidAt=function(){return a(this).overflow},e.isAfter=function(e,t){return e=k(e)?e:h(e),!!this.isValid()&&!!e.isValid()&&((t=w(t)||"millisecond")==="millisecond"?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},e.isBefore=function(e,t){return e=k(e)?e:h(e),!!this.isValid()&&!!e.isValid()&&((t=w(t)||"millisecond")==="millisecond"?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},e.isBetween=function(e,t,n,s){return e=k(e)?e:h(e),t=k(t)?t:h(t),!!(this.isValid()&&e.isValid()&&t.isValid())&&((s=s||"()")[0]==="("?this.isAfter(e,n):!this.isBefore(e,n))&&(s[1]===")"?this.isBefore(t,n):!this.isAfter(t,n))},e.isSame=function(e,t){var e=k(e)?e:h(e);return!!this.isValid()&&!!e.isValid()&&((t=w(t)||"millisecond")==="millisecond"?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},e.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},e.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},e.isValid=function(){return ht(this)},e.lang=Me,e.locale=Zt,e.localeData=Jt,e.max=se,e.min=ne,e.parsingFlags=function(){return V({},a(this))},e.set=function(e,t){if(typeof e=="object")for(var s=function(e){var t,n=[];for(t in e)l(e,t)&&n.push({unit:t,priority:tt[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=nt(e)),o=s.length,n=0;n<o;n++)this[s[n].unit](e[s[n].unit]);else if(S(this[e=w(e)]))return this[e](t);return this},e.startOf=function(e){var t,s;if((e=w(e))===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?sn:nn,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ee(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=ee(t,6e4);break;case"second":t=this._d.valueOf(),t-=ee(t,1e3);break}return this._d.setTime(t),n.updateOffset(this,!0),this},e.subtract=ue,e.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},e.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},e.toDate=function(){return new Date(this.valueOf())},e.toISOString=function(e){if(!this.isValid())return null;var t=(e=e!==!0)?this.clone().utc():this;return t.year()<0||9999<t.year()?De(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):S(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",De(t,"Z")):De(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},e.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e="moment",n="";return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",n="Z"),e="["+e+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+(n+'[")]'))},typeof Symbol!="undefined"&&Symbol.for!=null&&(e[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},e.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},e.eraName=function(){for(var n,t=this.localeData().eras(),e=0,s=t.length;e<s;++e){if(n=this.clone().startOf("day").valueOf(),t[e].since<=n&&n<=t[e].until)return t[e].name;if(t[e].until<=n&&n<=t[e].since)return t[e].name}return""},e.eraNarrow=function(){for(var n,t=this.localeData().eras(),e=0,s=t.length;e<s;++e){if(n=this.clone().startOf("day").valueOf(),t[e].since<=n&&n<=t[e].until)return t[e].narrow;if(t[e].until<=n&&n<=t[e].since)return t[e].narrow}return""},e.eraAbbr=function(){for(var n,t=this.localeData().eras(),e=0,s=t.length;e<s;++e){if(n=this.clone().startOf("day").valueOf(),t[e].since<=n&&n<=t[e].until)return t[e].abbr;if(t[e].until<=n&&n<=t[e].since)return t[e].abbr}return""},e.eraYear=function(){for(var s,o,t=this.localeData().eras(),e=0,i=t.length;e<i;++e)if(o=t[e].since<=t[e].until?1:-1,s=this.clone().startOf("day").valueOf(),t[e].since<=s&&s<=t[e].until||t[e].until<=s&&s<=t[e].since)return(this.year()-n(t[e].since).year())*o+t[e].offset;return this.year()},e.year=ge,e.isLeapYear=function(){return Ie(this.year())},e.weekYear=function(e){return on.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},e.isoWeekYear=function(e){return on.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},e.quarter=e.quarters=function(e){return e==null?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},e.month=Qt,e.daysInMonth=function(){return xe(this.year(),this.month())},e.week=e.weeks=function(e){var t=this.localeData().week(this);return e==null?t:this.add(7*(e-t),"d")},e.isoWeek=e.isoWeeks=function(e){var t=he(this,1,4).week;return e==null?t:this.add(7*(e-t),"d")},e.weeksInYear=function(){var e=this.localeData()._week;return z(this.year(),e.dow,e.doy)},e.weeksInWeekYear=function(){var e=this.localeData()._week;return z(this.weekYear(),e.dow,e.doy)},e.isoWeeksInYear=function(){return z(this.year(),1,4)},e.isoWeeksInISOWeekYear=function(){return z(this.isoWeekYear(),1,4)},e.date=K,e.day=e.days=function(e){if(!this.isValid())return e!=null?this:NaN;var t,n,s=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(t=e,n=this.localeData(),e=typeof t!="string"?t:isNaN(t)?typeof(t=n.weekdaysParse(t))=="number"?t:null:parseInt(t,10),this.add(e-s,"d")):s},e.weekday=function(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")},e.isoWeekday=function(e){return this.isValid()?e!=null?(t=e,n=this.localeData(),n=typeof t=="string"?n.weekdaysParse(t)%7||7:isNaN(t)?null:t,this.day(this.day()%7?n:n-7)):this.day()||7:e!=null?this:NaN;var t,n},e.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")},e.hour=e.hours=N,e.minute=e.minutes=Q,e.second=e.seconds=U,e.millisecond=e.milliseconds=W,e.utcOffset=function(e,t,s){var o,i=this._offset||0;if(!this.isValid())return e!=null?this:NaN;if(e==null)return this._isUTC?i:Ye(this);if(typeof e=="string"){if((e=Qe(Fe,e))===null)return this}else Math.abs(e)<16&&!s&&(e*=60);return!this._isUTC&&t&&(o=Ye(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),i!==e&&(!t||this._changeInProgress?Yt(this,E(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this},e.utc=function(e){return this.utcOffset(0,e)},e.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ye(this),"m")),this},e.parseZone=function(){var e;return this._tzm!=null?this.utcOffset(this._tzm,!1,!0):typeof this._i=="string"&&((e=Qe(pn,this._i))!=null?this.utcOffset(e):this.utcOffset(0,!0)),this},e.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?h(e).utcOffset():0,(this.utcOffset()-e)%60==0)},e.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},e.isLocal=function(){return!!this.isValid()&&!this._isUTC},e.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},e.isUtc=Bt,e.isUTC=Bt,e.zoneAbbr=function(){return this._isUTC?"UTC":""},e.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},e.dates=_("dates accessor is deprecated. Use date instead.",K),e.months=_("months accessor is deprecated. Use month instead",Qt),e.years=_("years accessor is deprecated. Use year instead",ge),e.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return e!=null?(this.utcOffset(e=typeof e!="string"?-e:e,t),this):-this.utcOffset()}),e.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!j(this._isDSTShifted))return this._isDSTShifted;var t,e={};return lt(e,this),(e=At(e))._a?(t=(e._isUTC?A:h)(e._a),this._isDSTShifted=this.isValid()&&0<function(e,t,n){for(var i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0,s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&r(e[s])!==r(t[s]))&&o++;return o+a}(e._a,t.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),i=it.prototype;function ke(e,t,n,s){var o=I(),s=A().set(s,t);return o[n](s,e)}function Xt(e,t,n){if(D(e)&&(t=e,e=void 0),e=e||"",t!=null)return ke(e,t,n,"month");for(var o=[],s=0;s<12;s++)o[s]=ke(e,s,n,"month");return o}function Ge(e,t,n,s){t=(typeof e=="boolean"?D(t)&&(n=t,t=void 0):(t=e,e=!1,D(n=t)&&(n=t,t=void 0)),t||"");var o,r=I(),i=e?r._week.dow:0,a=[];if(n!=null)return ke(t,(n+i)%7,s,"day");for(o=0;o<7;o++)a[o]=ke(t,(o+i)%7,s,"day");return a}i.calendar=function(e,t,n){return S(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,n):e},i.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(ot).map(function(e){return e==="MMMM"||e==="MM"||e==="DD"||e==="dddd"?e.slice(1):e}).join(""),this._longDateFormat[e])},i.invalidDate=function(){return this._invalidDate},i.ordinal=function(e){return this._ordinal.replace("%d",e)},i.preparse=tn,i.postformat=tn,i.relativeTime=function(e,t,n,s){var o=this._relativeTime[n];return S(o)?o(e,t,n,s):o.replace(/%d/i,e)},i.pastFuture=function(e,t){return S(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},i.set=function(e){var t,n;for(t in e)l(e,t)&&(S(n=e[t])?this[t]=n:this["_"+t]=n);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},i.eras=function(){for(var i,s=this._eras||I("en")._eras,o=0,a=s.length;o<a;++o){switch(typeof s[o].since){case"string":i=n(s[o].since).startOf("day"),s[o].since=i.valueOf();break}switch(typeof s[o].until){case"undefined":s[o].until=1/0;break;case"string":i=n(s[o].until).startOf("day").valueOf(),s[o].until=i.valueOf();break}}return s},i.erasParse=function(e,t,n){var s,i,a,r,c,o=this.eras();for(e=e.toUpperCase(),s=0,c=o.length;s<c;++s)if(i=o[s].name.toUpperCase(),a=o[s].abbr.toUpperCase(),r=o[s].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return o[s];break;case"NNNN":if(i===e)return o[s];break;case"NNNNN":if(r===e)return o[s];break}else if(0<=[i,a,r].indexOf(e))return o[s]},i.erasConvertYear=function(e,t){var s=e.since<=e.until?1:-1;return t===void 0?n(e.since).year():n(e.since).year()+(t-e.offset)*s},i.erasAbbrRegex=function(e){return l(this,"_erasAbbrRegex")||qe.call(this),e?this._erasAbbrRegex:this._erasRegex},i.erasNameRegex=function(e){return l(this,"_erasNameRegex")||qe.call(this),e?this._erasNameRegex:this._erasRegex},i.erasNarrowRegex=function(e){return l(this,"_erasNarrowRegex")||qe.call(this),e?this._erasNarrowRegex:this._erasRegex},i.months=function(e,t){return e?(x(this._months)?this._months:this._months[(this._months.isFormat||an).test(t)?"format":"standalone"])[e.month()]:x(this._months)?this._months:this._months.standalone},i.monthsShort=function(e,t){return e?(x(this._monthsShort)?this._monthsShort:this._monthsShort[an.test(t)?"format":"standalone"])[e.month()]:x(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},i.monthsParse=function(e,t,n){var s,o;if(this._monthsParseExact)return function(e,t,n){var s,o,i,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)i=A([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(s=f.call(this._shortMonthsParse,e))!==-1?s:null:(s=f.call(this._longMonthsParse,e))!==-1?s:null:t==="MMM"?(s=f.call(this._shortMonthsParse,e))!==-1||(s=f.call(this._longMonthsParse,e))!==-1?s:null:(s=f.call(this._longMonthsParse,e))!==-1||(s=f.call(this._shortMonthsParse,e))!==-1?s:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(o=A([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(o="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[s]=new RegExp(o.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[s].test(e))return s;if(n&&t==="MMM"&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},i.monthsRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||Ut.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=un),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},i.monthsShortRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||Ut.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=cn),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},i.week=function(e){return he(e,this._week.dow,this._week.doy).week},i.firstDayOfYear=function(){return this._week.doy},i.firstDayOfWeek=function(){return this._week.dow},i.weekdays=function(e,t){return t=x(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"],e===!0?Ke(t,this._week.dow):e?t[e.day()]:t},i.weekdaysMin=function(e){return e===!0?Ke(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},i.weekdaysShort=function(e){return e===!0?Ke(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},i.weekdaysParse=function(e,t,n){var s,o;if(this._weekdaysParseExact)return function(e,t,n){var s,o,i,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)i=A([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(s=f.call(this._weekdaysParse,e))!==-1?s:null:t==="ddd"?(s=f.call(this._shortWeekdaysParse,e))!==-1?s:null:(s=f.call(this._minWeekdaysParse,e))!==-1?s:null:t==="dddd"?(s=f.call(this._weekdaysParse,e))!==-1||(s=f.call(this._shortWeekdaysParse,e))!==-1||(s=f.call(this._minWeekdaysParse,e))!==-1?s:null:t==="ddd"?(s=f.call(this._shortWeekdaysParse,e))!==-1||(s=f.call(this._weekdaysParse,e))!==-1||(s=f.call(this._minWeekdaysParse,e))!==-1?s:null:(s=f.call(this._minWeekdaysParse,e))!==-1||(s=f.call(this._weekdaysParse,e))!==-1||(s=f.call(this._shortWeekdaysParse,e))!==-1?s:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(o=A([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(o="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[s]=new RegExp(o.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[s].test(e))return s;if(n&&t==="ddd"&&this._shortWeekdaysParse[s].test(e))return s;if(n&&t==="dd"&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},i.weekdaysRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=vn),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},i.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=bn),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},i.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=jn),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},i.isPM=function(e){return(e+"").toLowerCase().charAt(0)==="p"},i.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},$("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(r(e%100/10)===1?"th":t==1?"st":t==2?"nd":t==3?"rd":"th")}}),n.lang=_("moment.lang is deprecated. Use moment.locale instead.",$),n.langData=_("moment.langData is deprecated. Use moment.localeData instead.",I),F=Math.abs;function Wt(e,t,n,s){return t=E(t,n),e._milliseconds+=s*t._milliseconds,e._days+=s*t._days,e._months+=s*t._months,e._bubble()}function Ht(e){return e<0?Math.floor(e):Math.ceil(e)}function Pt(e){return 4800*e/146097}function et(e){return 146097*e/4800}function R(e){return function(){return this.as(e)}}oe=R("ms"),Ne=R("s"),me=R("m"),se=R("h"),ne=R("d"),ue=R("w"),N=R("M"),Q=R("Q"),U=R("y");function q(e){return function(){return this.isValid()?this._data[e]:NaN}}var W=q("milliseconds"),K=q("seconds"),ge=q("minutes"),i=q("hours"),wn=q("days"),Fn=q("months"),xn=q("years"),H=Math.round,ae={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function kn(e,t,n,s){var i=E(e).abs(),o=H(i.as("s")),a=H(i.as("m")),r=H(i.as("h")),c=H(i.as("d")),l=H(i.as("M")),d=H(i.as("w")),i=H(i.as("y")),o=(o<=n.ss?["s",o]:o<n.s&&["ss",o])||a<=1&&["m"]||a<n.m&&["mm",a]||r<=1&&["h"]||r<n.h&&["hh",r]||c<=1&&["d"]||c<n.d&&["dd",c];return(o=(o=n.w!=null?o||d<=1&&["w"]||d<n.w&&["ww",d]:o)||l<=1&&["M"]||l<n.M&&["MM",l]||i<=1&&["y"]||["yy",i])[2]=t,o[3]=0<+e,o[4]=s,function(e,t,n,s,o){return o.relativeTime(t||1,!!n,e,s)}.apply(null,o)}we=Math.abs;function ie(e){return(0<e)-(e<0)||+e}function Ae(){if(!this.isValid())return this.localeData().invalidDate();var e,o,i,a,r,c,d,t=we(this._milliseconds)/1e3,l=we(this._days),s=we(this._months),n=this.asSeconds();return n?(e=O(t/60),i=O(e/60),t%=60,e%=60,a=O(s/12),s%=12,d=t?t.toFixed(3).replace(/\.?0+$/,""):"",r=ie(this._months)!==ie(n)?"-":"",c=ie(this._days)!==ie(n)?"-":"",o=ie(this._milliseconds)!==ie(n)?"-":"",(n<0?"-":"")+"P"+(a?r+a+"Y":"")+(s?r+s+"M":"")+(l?c+l+"D":"")+(i||e||t?"T":"")+(i?o+i+"H":"")+(e?o+e+"M":"")+(t?o+d+"S":"")):"P0D"}return c=Re.prototype,c.isValid=function(){return this._isValid},c.abs=function(){var e=this._data;return this._milliseconds=F(this._milliseconds),this._days=F(this._days),this._months=F(this._months),e.milliseconds=F(e.milliseconds),e.seconds=F(e.seconds),e.minutes=F(e.minutes),e.hours=F(e.hours),e.months=F(e.months),e.years=F(e.years),this},c.add=function(e,t){return Wt(this,e,t,1)},c.subtract=function(e,t){return Wt(this,e,t,-1)},c.as=function(e){if(!this.isValid())return NaN;var t,s,n=this._milliseconds;if((e=w(e))==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,s=this._months+Pt(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(et(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},c.asMilliseconds=oe,c.asSeconds=Ne,c.asMinutes=me,c.asHours=se,c.asDays=ne,c.asWeeks=ue,c.asMonths=N,c.asQuarters=Q,c.asYears=U,c.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*r(this._months/12):NaN},c._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,s=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*Ht(et(n)+t),n=t=0),s.milliseconds=e%1e3,e=O(e/1e3),s.seconds=e%60,e=O(e/60),s.minutes=e%60,e=O(e/60),s.hours=e%24,t+=O(e/24),n+=e=O(Pt(t)),t-=Ht(et(e)),e=O(n/12),n%=12,s.days=t,s.months=n,s.years=e,this},c.clone=function(){return E(this)},c.get=function(e){return e=w(e),this.isValid()?this[e+"s"]():NaN},c.milliseconds=W,c.seconds=K,c.minutes=ge,c.hours=i,c.days=wn,c.weeks=function(){return O(this.days()/7)},c.months=Fn,c.years=xn,c.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=ae;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(s=Object.assign({},ae,t),t.s!=null&&t.ss==null&&(s.ss=t.s-1)),e=this.localeData(),t=kn(this,!n,s,e),n&&(t=e.pastFuture(+this,t)),e.postformat(t)},c.toISOString=Ae,c.toString=Ae,c.toJSON=Ae,c.locale=Zt,c.localeData=Jt,c.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ae),c.lang=Me,o("X",0,0,"unix"),o("x",0,0,"valueOf"),s("x",Oe),s("X",/[+-]?\d+(\.\d{1,3})?/),d("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),d("x",function(e,t,n){n._d=new Date(r(e))}),n.version="2.29.4",Ot=h,n.fn=e,n.min=function(){return Ft("isBefore",[].slice.call(arguments,0))},n.max=function(){return Ft("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=A,n.unix=function(e){return h(1e3*e)},n.months=function(e,t){return Xt(e,t,"months")},n.isDate=pe,n.locale=$,n.invalid=Ce,n.duration=E,n.isMoment=k,n.weekdays=function(e,t,n){return Ge(e,t,n,"weekdays")},n.parseZone=function(){return h.apply(null,arguments).parseZone()},n.localeData=I,n.isDuration=Pe,n.monthsShort=function(e,t){return Xt(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return Ge(e,t,n,"weekdaysMin")},n.defineLocale=ut,n.updateLocale=function(e,t){var n,s;return t!=null?(n=Tt,m[e]!=null&&m[e].parentLocale!=null?m[e].set(at(m[e]._config,t)):(t=at(n=(s=_e(e))!=null?s._config:n,t),s==null&&(t.abbr=e),(n=new it(t)).parentLocale=m[e],m[e]=n),$(e)):m[e]!=null&&(m[e].parentLocale!=null?(m[e]=m[e].parentLocale,e===$()&&$(e)):m[e]!=null&&delete m[e]),m[e]},n.locales=function(){return kt(m)},n.weekdaysShort=function(e,t,n){return Ge(e,t,n,"weekdaysShort")},n.normalizeUnits=w,n.relativeTimeRounding=function(e){return e===void 0?H:typeof e=="function"&&(H=e,!0)},n.relativeTimeThreshold=function(e,t){return ae[e]!==void 0&&(t===void 0?ae[e]:(ae[e]=t,e==="s"&&(ae.ss=t-1),!0))},n.calendarFormat=function(e,t){return(e=e.diff(t,"days",!0))<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},n.prototype=e,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})}}),aS=ql({"node_modules/@braintree/sanitize-url/dist/index.js"(e){"use strict",Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=void 0;var t=/^([^\w]*)(javascript|data|vbscript)/im,n=/&#(\w+)(^\w|;)?/g,s=/&(newline|tab);/gi,o=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,i=/^.+(:|&colon;)/gim,a=[".","/"];function r(e){return a.indexOf(e[0])>-1}function c(e){return e.replace(n,function(e,t){return String.fromCharCode(t)})}function l(e){var a,l,n=c(e||"").replace(s,"").replace(o,"").trim();return n?r(n)?n:(a=n.match(i),a?(l=a[0],t.test(l)?"about:blank":n):n):"about:blank"}e.sanitizeUrl=l}}),sS=ql({"node_modules/dompurify/dist/purify.js"(e,t){(function(n,s){typeof e=="object"&&typeof t!="undefined"?t.exports=s():typeof define=="function"&&define.amd?define(s):(n=typeof globalThis!="undefined"?globalThis:n||self,n.DOMPurify=s())})(e,function(){"use strict";function r(e){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function _(e,t){return _=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},_(e,t)}function ie(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y(){return ie()?y=Reflect.construct:y=function(t,n,s){var i,a,o=[null];return o.push.apply(o,n),a=Function.bind.apply(t,o),i=new a,s&&_(i,s.prototype),i},y.apply(null,arguments)}function i(e){return oe(e)||se(e)||ae(e)||ne()}function oe(e){if(Array.isArray(e))return O(e)}function se(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ae(e,t){if(!e)return;if(typeof e=="string")return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}function O(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,o,l,d,u,h,m,f,g,v,b,w,x,C,E,k,S,F,T,z,N,L,R,P,H,I,B,V,$,U,K,q,Y,G,te=Object.hasOwnProperty,W=Object.setPrototypeOf,ee=Object.isFrozen,J=Object.getPrototypeOf,Z=Object.getOwnPropertyDescriptor,n=Object.freeze,a=Object.seal,Q=Object.create,M=typeof Reflect!="undefined"&&Reflect,j=M.apply,A=M.construct;j||(j=function(t,n,s){return t.apply(n,s)}),n||(n=function(t){return t}),a||(a=function(t){return t}),A||(A=function(t,n){return y(t,i(n))}),P=s(Array.prototype.forEach),w=s(Array.prototype.pop),l=s(Array.prototype.push),d=s(String.prototype.toLowerCase),g=s(String.prototype.toString),L=s(String.prototype.match),o=s(String.prototype.replace),T=s(String.prototype.indexOf),F=s(String.prototype.trim),t=s(RegExp.prototype.test),h=X(TypeError);function s(e){return function(t){for(var s=arguments.length,o=new Array(s>1?s-1:0),n=1;n<s;n++)o[n-1]=arguments[n];return j(e,t,o)}}function X(e){return function(){for(var n=arguments.length,s=new Array(n),t=0;t<n;t++)s[t]=arguments[t];return A(e,s)}}function e(e,t,n){n=n||d,W&&W(e,null);for(var s,o,i=t.length;i--;)s=t[i],typeof s=="string"&&(o=n(s),o!==s&&(ee(t)||(t[i]=o),s=o)),e[s]=!0;return e}function c(e){var t,n=Q(null);for(t in e)j(te,e,[t])&&(n[t]=e[t]);return n}function p(e,t){for(;e!==null;){var n=Z(e,t);if(n){if(n.get)return s(n.get);if(typeof n.value=="function")return s(n.value)}e=J(e)}function o(e){return console.warn("fallback value for",e),null}return o}x=n(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),v=n(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),b=n(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I=n(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),m=n(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),V=n(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),C=n(["#text"]),E=n(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),f=n(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),k=n(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),u=n(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),G=a(/<%[\w\W]*|[\w\W]*%>/gm),z=a(/\${[\w\W]*}/gm),B=a(/^data-[-\w.\u00B7-\uFFFF]/),U=a(/^aria-[-\w]+$/),Y=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.-]+(?:[^a-z+.\-:]|$))/i),S=a(/^(?:\w+script|data):/i),$=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),H=a(/^html$/i),R=function(){return typeof window=="undefined"?null:window},N=function(t,n){if(r(t)!=="object"||typeof t.createPolicy!="function")return null;var o,s=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(s=n.currentScript.getAttribute(i)),o="dompurify"+(s?"#"+s:"");try{return t.createPolicy(o,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function D(){if(a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R(),s=function(t){return D(t)},s.version="2.4.1",s.removed=[],!a||!a.document||a.document.nodeType!==9)return s.isSupported=!1,s;var s,a,_,A,W,K,J,Ie=a.document,Q=a.document,ct=a.DocumentFragment,Mt=a.HTMLTemplateElement,Ne=a.Node,at=a.Element,De=a.NodeFilter,ot=a.NamedNodeMap,St=ot===void 0?a.NamedNodeMap||a.MozNamedAttrMap:ot,At=a.HTMLFormElement,Ft=a.DOMParser,he=a.trustedTypes,le,fe,et,me,xe,Ce,nt,se,Se,Fe,ze,Pe,dt,ue=at.prototype,kt=p(ue,"cloneNode"),Et=p(ue,"nextSibling"),Ct=p(ue,"childNodes"),$e=p(ue,"parentNode");typeof Mt=="function"&&(le=Q.createElement("template"),le.content&&le.content.ownerDocument&&(Q=le.content.ownerDocument));var M=N(he,Ie),st=M?M.createHTML(""):"",be=Q,Ee=be.implementation,xt=be.createNodeIterator,Ot=be.createDocumentFragment,wt=be.getElementsByTagName,_t=Ie.importNode,tt={};try{tt=c(Q).documentMode?Q.documentMode:{}}catch{}A={},s.isSupported=typeof $e=="function"&&Ee&&typeof Ee.createHTMLDocument!="undefined"&&tt!==9;var Ve=q,we=G,ye=z,yt=B,jt=U,bt=S,We=$,Oe=Y,y=null,Ue=e({},[].concat(i(x),i(v),i(b),i(m),i(C))),O=null,Qe=e({},[].concat(i(E),i(f),i(k),i(u))),j=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),re=null,Me=null,qe=!0,Te=!0,Ke=!1,oe=!1,Z=!1,Le=!1,Re=!1,ee=!1,de=!1,pe=!1,Je=!0,lt=!1,vt="user-content-",Be=!0,ce=!1,ie={},ne=null,Ye=e({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ge=null,Xe=e({},["audio","video","img","source","image","track"]),ke=null,Ze=e({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ve="http://www.w3.org/1998/Math/MathML",ge="http://www.w3.org/2000/svg",X="http://www.w3.org/1999/xhtml",te=X,_e=!1,Ae=null,pt=e({},[ve,ge,X],g),ft=["application/xhtml+xml","text/html"],mt="text/html",ae=null,ht=Q.createElement("form"),ut=function(t){return t instanceof RegExp||t instanceof Function},He=function(s){if(ae&&ae===s)return;(!s||r(s)!=="object")&&(s={}),s=c(s),J=ft.indexOf(s.PARSER_MEDIA_TYPE)===-1?J=mt:J=s.PARSER_MEDIA_TYPE,_=J==="application/xhtml+xml"?g:d,y="ALLOWED_TAGS"in s?e({},s.ALLOWED_TAGS,_):Ue,O="ALLOWED_ATTR"in s?e({},s.ALLOWED_ATTR,_):Qe,Ae="ALLOWED_NAMESPACES"in s?e({},s.ALLOWED_NAMESPACES,g):pt,ke="ADD_URI_SAFE_ATTR"in s?e(c(Ze),s.ADD_URI_SAFE_ATTR,_):Ze,Ge="ADD_DATA_URI_TAGS"in s?e(c(Xe),s.ADD_DATA_URI_TAGS,_):Xe,ne="FORBID_CONTENTS"in s?e({},s.FORBID_CONTENTS,_):Ye,re="FORBID_TAGS"in s?e({},s.FORBID_TAGS,_):{},Me="FORBID_ATTR"in s?e({},s.FORBID_ATTR,_):{},ie="USE_PROFILES"in s&&s.USE_PROFILES,qe=s.ALLOW_ARIA_ATTR!==!1,Te=s.ALLOW_DATA_ATTR!==!1,Ke=s.ALLOW_UNKNOWN_PROTOCOLS||!1,oe=s.SAFE_FOR_TEMPLATES||!1,Z=s.WHOLE_DOCUMENT||!1,ee=s.RETURN_DOM||!1,de=s.RETURN_DOM_FRAGMENT||!1,pe=s.RETURN_TRUSTED_TYPE||!1,Re=s.FORCE_BODY||!1,Je=s.SANITIZE_DOM!==!1,lt=s.SANITIZE_NAMED_PROPS||!1,Be=s.KEEP_CONTENT!==!1,ce=s.IN_PLACE||!1,Oe=s.ALLOWED_URI_REGEXP||Oe,te=s.NAMESPACE||X,s.CUSTOM_ELEMENT_HANDLING&&ut(s.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=s.CUSTOM_ELEMENT_HANDLING.tagNameCheck),s.CUSTOM_ELEMENT_HANDLING&&ut(s.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=s.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),s.CUSTOM_ELEMENT_HANDLING&&typeof s.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(j.allowCustomizedBuiltInElements=s.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),oe&&(Te=!1),de&&(ee=!0),ie&&(y=e({},i(C)),O=[],ie.html===!0&&(e(y,x),e(O,E)),ie.svg===!0&&(e(y,v),e(O,f),e(O,u)),ie.svgFilters===!0&&(e(y,b),e(O,f),e(O,u)),ie.mathMl===!0&&(e(y,m),e(O,k),e(O,u))),s.ADD_TAGS&&(y===Ue&&(y=c(y)),e(y,s.ADD_TAGS,_)),s.ADD_ATTR&&(O===Qe&&(O=c(O)),e(O,s.ADD_ATTR,_)),s.ADD_URI_SAFE_ATTR&&e(ke,s.ADD_URI_SAFE_ATTR,_),s.FORBID_CONTENTS&&(ne===Ye&&(ne=c(ne)),e(ne,s.FORBID_CONTENTS,_)),Be&&(y["#text"]=!0),Z&&e(y,["html","head","body"]),y.table&&(e(y,["tbody"]),delete re.tbody),n&&n(s),ae=s},rt=e({},["mi","mo","mn","ms","mtext"]),it=e({},["foreignobject","desc","title","annotation-xml"]),gt=e({},["title","style","font","a","script"]),je=e({},v);return e(je,b),e(je,I),fe=e({},m),e(fe,V),et=function(t){var s,o,n=$e(t);return(!n||!n.tagName)&&(n={namespaceURI:te,tagName:"template"}),s=d(t.tagName),o=d(n.tagName),!!Ae[t.namespaceURI]&&(t.namespaceURI===ge?n.namespaceURI===X?s==="svg":n.namespaceURI===ve?s==="svg"&&(o==="annotation-xml"||rt[o]):Boolean(je[s]):t.namespaceURI===ve?n.namespaceURI===X?s==="math":n.namespaceURI===ge?s==="math"&&it[o]:Boolean(fe[s]):t.namespaceURI===X?!(n.namespaceURI===ge&&!it[o])&&!(n.namespaceURI===ve&&!rt[o])&&!fe[s]&&(gt[s]||!je[s]):!!(J==="application/xhtml+xml"&&Ae[t.namespaceURI]))},K=function(t){l(s.removed,{element:t});try{t.parentNode.removeChild(t)}catch{try{t.outerHTML=st}catch{t.remove()}}},me=function(t,n){try{l(s.removed,{attribute:n.getAttributeNode(t),from:n})}catch{l(s.removed,{attribute:null,from:n})}if(n.removeAttribute(t),t==="is"&&!O[t])if(ee||de)try{K(n)}catch{}else try{n.setAttribute(t,"")}catch{}},xe=function(t){if(Re)t="<remove></remove>"+t;else{var n,s,o,i,a=L(t,/^[\r\n\t ]+/);o=a&&a[0]}if(J==="application/xhtml+xml"&&te===X&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>"),i=M?M.createHTML(t):t,te===X)try{n=(new Ft).parseFromString(i,J)}catch{}if(!n||!n.documentElement){n=Ee.createDocument(te,"template",null);try{n.documentElement.innerHTML=_e?"":i}catch{}}return s=n.body||n.documentElement,t&&o&&s.insertBefore(Q.createTextNode(o),s.childNodes[0]||null),te===X?wt.call(n,Z?"html":"body")[0]:Z?n.documentElement:s},Ce=function(t){return xt.call(t.ownerDocument||t,t,De.SHOW_ELEMENT|De.SHOW_COMMENT|De.SHOW_TEXT,null,!1)},nt=function(t){return t instanceof At&&(typeof t.nodeName!="string"||typeof t.textContent!="string"||typeof t.removeChild!="function"||!(t.attributes instanceof St)||typeof t.removeAttribute!="function"||typeof t.setAttribute!="function"||typeof t.namespaceURI!="string"||typeof t.insertBefore!="function"||typeof t.hasChildNodes!="function")},se=function(t){return r(Ne)==="object"?t instanceof Ne:t&&r(t)==="object"&&typeof t.nodeType=="number"&&typeof t.nodeName=="string"},W=function(t,n,o){if(!A[t])return;P(A[t],function(e){e.call(s,n,o,ae)})},Se=function(n){if(W("beforeSanitizeElements",n,null),nt(n))return K(n),!0;if(t(/[\u0080-\uFFFF]/,n.nodeName))return K(n),!0;var a,r,c,d,u,i=_(n.nodeName);if(W("uponSanitizeElement",n,{tagName:i,allowedTags:y}),n.hasChildNodes()&&!se(n.firstElementChild)&&(!se(n.content)||!se(n.content.firstElementChild))&&t(/<[/\w]/g,n.innerHTML)&&t(/<[/\w]/g,n.textContent))return K(n),!0;if(i==="select"&&t(/<template/i,n.innerHTML))return K(n),!0;if(!y[i]||re[i]){if(!re[i]&&ze(i)){if(j.tagNameCheck instanceof RegExp&&t(j.tagNameCheck,i))return!1;if(j.tagNameCheck instanceof Function&&j.tagNameCheck(i))return!1}if(Be&&!ne[i]&&(d=$e(n)||n.parentNode,r=Ct(n)||n.childNodes,r&&d)){u=r.length;for(c=u-1;c>=0;--c)d.insertBefore(kt(r[c],!0),Et(n))}return K(n),!0}return n instanceof at&&!et(n)?(K(n),!0):(i==="noscript"||i==="noembed")&&t(/<\/no(script|embed)/i,n.innerHTML)?(K(n),!0):(oe&&n.nodeType===3&&(a=n.textContent,a=o(a,Ve," "),a=o(a,we," "),a=o(a,ye," "),n.textContent!==a&&(l(s.removed,{element:n.cloneNode()}),n.textContent=a)),W("afterSanitizeElements",n,null),!1)},Fe=function(n,s,i){if(Je&&(s==="id"||s==="name")&&(i in Q||i in ht))return!1;if(Te&&!Me[s]&&t(yt,s));else if(qe&&t(jt,s));else if(!O[s]||Me[s])if(ze(n)&&(j.tagNameCheck instanceof RegExp&&t(j.tagNameCheck,n)||j.tagNameCheck instanceof Function&&j.tagNameCheck(n))&&(j.attributeNameCheck instanceof RegExp&&t(j.attributeNameCheck,s)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(s))||s==="is"&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&t(j.tagNameCheck,i)||j.tagNameCheck instanceof Function&&j.tagNameCheck(i)));else return!1;else if(ke[s]);else if(t(Oe,o(i,We,"")));else if((s==="src"||s==="xlink:href"||s==="href")&&n!=="script"&&T(i,"data:")===0&&Ge[n]);else if(Ke&&!t(bt,o(i,We,"")));else if(i)return!1;return!0},ze=function(t){return t.indexOf("-")>0},Pe=function(n){if(W("beforeSanitizeAttributes",n,null),u=n.attributes,!u)return;for(a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:O},h=u.length;h--;){d=u[h];var i,a,l,d,u,h,f,p=d,c=p.name,m=p.namespaceURI;if(i=c==="value"?d.value:F(d.value),l=_(c),a.attrName=l,a.attrValue=i,a.keepAttr=!0,a.forceKeepAttr=void 0,W("uponSanitizeAttribute",n,a),i=a.attrValue,a.forceKeepAttr)continue;if(me(c,n),!a.keepAttr)continue;if(t(/\/>/i,i)){me(c,n);continue}if(oe&&(i=o(i,Ve," "),i=o(i,we," "),i=o(i,ye," ")),f=_(n.nodeName),!Fe(f,l,i))continue;if(lt&&(l==="id"||l==="name")&&(me(c,n),i=vt+i),M&&r(he)==="object"&&typeof he.getAttributeType=="function")if(m);else switch(he.getAttributeType(f,l)){case"TrustedHTML":i=M.createHTML(i);break;case"TrustedScriptURL":i=M.createScriptURL(i);break}try{m?n.setAttributeNS(m,c,i):n.setAttribute(c,i),w(s.removed)}catch{}}W("afterSanitizeAttributes",n,null)},dt=function e(t){var n,s=Ce(t);for(W("beforeSanitizeShadowDOM",t,null);n=s.nextNode();){if(W("uponSanitizeShadowNode",n,null),Se(n))continue;n.content instanceof ct&&e(n.content),Pe(n)}W("afterSanitizeShadowDOM",t,null)},s.sanitize=function(e){var n,i,c,l,d,u,m,f,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_e=!e,_e&&(e="<!-->"),typeof e!="string"&&!se(e)){if(typeof e.toString!="function")throw h("toString is not a function");if(e=e.toString(),typeof e!="string")throw h("dirty is not a string, aborting")}if(!s.isSupported){if(r(a.toStaticHTML)==="object"||typeof a.toStaticHTML=="function"){if(typeof e=="string")return a.toStaticHTML(e);if(se(e))return a.toStaticHTML(e.outerHTML)}return e}if(Le||He(p),s.removed=[],typeof e=="string"&&(ce=!1),ce){if(e.nodeName&&(u=_(e.nodeName),!y[u]||re[u]))throw h("root node is forbidden and cannot be sanitized in-place")}else if(e instanceof Ne)n=xe("<!---->"),l=n.ownerDocument.importNode(e,!0),l.nodeType===1&&l.nodeName==="BODY"?n=l:l.nodeName==="HTML"?n=l:n.appendChild(l);else{if(!ee&&!oe&&!Z&&e.indexOf("<")===-1)return M&&pe?M.createHTML(e):e;if(n=xe(e),!n)return ee?null:pe?st:""}for(n&&Re&&K(n.firstChild),f=Ce(ce?e:n);c=f.nextNode();){if(c.nodeType===3&&c===m)continue;if(Se(c))continue;c.content instanceof ct&&dt(c.content),Pe(c),m=c}if(m=null,ce)return e;if(ee){if(de)for(d=Ot.call(n.ownerDocument);n.firstChild;)d.appendChild(n.firstChild);else d=n;return O.shadowroot&&(d=_t.call(Ie,d,!0)),d}return i=Z?n.outerHTML:n.innerHTML,Z&&y["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&t(H,n.ownerDocument.doctype.name)&&(i="<!DOCTYPE "+n.ownerDocument.doctype.name+`>
`+i),oe&&(i=o(i,Ve," "),i=o(i,we," "),i=o(i,ye," ")),M&&pe?M.createHTML(i):i},s.setConfig=function(e){He(e),Le=!0},s.clearConfig=function(){ae=null,Le=!1},s.isValidAttribute=function(e,t,n){ae||He({});var s=_(e),o=_(t);return Fe(s,o,n)},s.addHook=function(e,t){if(typeof t!="function")return;A[e]=A[e]||[],l(A[e],t)},s.removeHook=function(e){if(A[e])return w(A[e])},s.removeHooks=function(e){A[e]&&(A[e]=[])},s.removeAllHooks=function(){A={}},s}return K=D(),K})}}),Ne=Wl(rS(),1),Ut=Wl(aS(),1);function Il(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rP(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function y3(e){let t,n,s;e.length!==2?(t=Il,n=(t,n)=>Il(e(t),n),s=(t,n)=>e(t)-n):(t=e===Il||e===rP?e:cP,n=e,s=e);function o(e,s,o=0,i=e.length){if(o<i){if(t(s,s)!==0)return i;do{const t=o+i>>>1;n(e[t],s)<0?o=t+1:i=t}while(o<i)}return o}function i(e,s,o=0,i=e.length){if(o<i){if(t(s,s)!==0)return i;do{const t=o+i>>>1;n(e[t],s)<=0?o=t+1:i=t}while(o<i)}return o}function a(e,t,n=0,i=e.length){const a=o(e,t,n,i-1);return a>n&&s(e[a-1],t)>-s(e[a],t)?a-1:a}return{left:o,center:a,right:i}}function cP(){return 0}function fH(e){return e===null?NaN:+e}b3=y3(Il),XA=b3.right,pH=b3.left,gH=y3(fH).center,GA=XA,m3=class extends Map{constructor(e,t=KV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(YA(this,e))}has(e){return super.has(YA(this,e))}set(e,t){return super.set(YV(this,e),t)}delete(e){return super.delete(cL(this,e))}};function YA({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function YV({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function cL({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function KV(e){return e!==null&&typeof e=="object"?e.valueOf():e}WA=Math.sqrt(50),$A=Math.sqrt(10),VA=Math.sqrt(2);function zl(e,t,n){const l=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(l)),r=l/Math.pow(10,a),c=r>=WA?10:r>=$A?5:r>=VA?2:1;let o,i,s;return a<0?(s=Math.pow(10,-a)/c,o=Math.round(e*s),i=Math.round(t*s),o/s<e&&++o,i/s>t&&--i,s=-s):(s=Math.pow(10,a)*c,o=Math.round(e/s),i=Math.round(t/s),o*s<e&&++o,i*s>t&&--i),i<o&&.5<=n&&n<2?zl(e,t,n*2):[o,i,s]}function UV(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const c=t<e,[a,r,s]=c?zl(t,e,n):zl(e,t,n);if(!(r>=a))return[];const o=r-a+1,i=new Array(o);if(c)if(s<0)for(let e=0;e<o;++e)i[e]=(r-e)/-s;else for(let e=0;e<o;++e)i[e]=(r-e)*s;else if(s<0)for(let e=0;e<o;++e)i[e]=(a+e)/-s;else for(let e=0;e<o;++e)i[e]=(a+e)*s;return i}function c3(e,t,n){return t=+t,e=+e,n=+n,zl(e,t,n)[2]}function a3(e,t,n){t=+t,e=+e,n=+n;const o=t<e,s=o?c3(t,e,n):c3(e,t,n);return(o?-1:1)*(s<0?1/-s:s)}function WV(e,t){let n;if(t===void 0)for(const t of e)t!=null&&(n<t||n===void 0&&t>=t)&&(n=t);else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function $V(e,t){let n;if(t===void 0)for(const t of e)t!=null&&(n>t||n===void 0&&t>=t)&&(n=t);else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function VV(e){return e}Ji=1,Ml=2,Al=3,Gi=4,n3=1e-6;function BV(e){return"translate("+e+",0)"}function IV(e){return"translate(0,"+e+")"}function HV(e){return t=>+e(t)}function PV(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function RV(){return!this.__axis}function LA(e,t){var r=[],c=null,l=null,a=6,o=6,u=3,s=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,i=e===Ji||e===Gi?-1:1,d=e===Gi||e===Ml?"x":"y",h=e===Ji||e===Al?BV:IV;function n(n){var E=c??(t.ticks?t.ticks.apply(t,r):t.domain()),C=l??(t.tickFormat?t.tickFormat.apply(t,r):VV),x=Math.max(a,0)+u,w=t.range(),y=+w[0]+s,b=+w[w.length-1]+s,j=(t.bandwidth?PV:HV)(t.copy(),s),p=n.selection?n.selection():n,f=p.selectAll(".domain").data([null]),m=p.selectAll(".tick").data(E,t).order(),O=m.exit(),_=m.enter().append("g").attr("class","tick"),g=m.select("line"),v=m.select("text"),f=f.merge(f.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),m=m.merge(_),g=g.merge(_.append("line").attr("stroke","currentColor").attr(d+"2",i*a)),v=v.merge(_.append("text").attr("fill","currentColor").attr(d,i*x).attr("dy",e===Ji?"0em":e===Al?"0.71em":"0.32em"));n!==p&&(f=f.transition(n),m=m.transition(n),g=g.transition(n),v=v.transition(n),O=O.transition(n).attr("opacity",n3).attr("transform",function(e){return isFinite(e=j(e))?h(e+s):this.getAttribute("transform")}),_.attr("opacity",n3).attr("transform",function(e){var t=this.parentNode.__axis;return h((t&&isFinite(t=t(e))?t:j(e))+s)})),O.remove(),f.attr("d",e===Gi||e===Ml?o?"M"+i*o+","+y+"H"+s+"V"+b+"H"+i*o:"M"+s+","+y+"V"+b:o?"M"+y+","+i*o+"V"+s+"H"+b+"V"+i*o:"M"+y+","+s+"H"+b),m.attr("opacity",1).attr("transform",function(e){return h(j(e)+s)}),g.attr(d+"2",i*a),v.attr(d,i*x).text(C),p.filter(RV).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Ml?"start":e===Gi?"end":"middle"),p.each(function(){this.__axis=j})}return n.scale=function(e){return arguments.length?(t=e,n):t},n.ticks=function(){return r=Array.from(arguments),n},n.tickArguments=function(e){return arguments.length?(r=e==null?[]:Array.from(e),n):r.slice()},n.tickValues=function(e){return arguments.length?(c=e==null?null:Array.from(e),n):c&&c.slice()},n.tickFormat=function(e){return arguments.length?(l=e,n):l},n.tickSize=function(e){return arguments.length?(a=o=+e,n):a},n.tickSizeInner=function(e){return arguments.length?(a=+e,n):a},n.tickSizeOuter=function(e){return arguments.length?(o=+e,n):o},n.tickPadding=function(e){return arguments.length?(u=+e,n):u},n.offset=function(e){return arguments.length?(s=+e,n):s},n}function LV(e){return LA(Ji,e)}function NV(e){return LA(Al,e)}NA={value:()=>{}};function DA(){for(var e,t=0,s=arguments.length,n={};t<s;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new xl(n)}function xl(e){this._=e}function DV(e,t){return e.trim().split(/^|\s+/).map(function(e){var s="",n=e.indexOf(".");if(n>=0&&(s=e.slice(n+1),e=e.slice(0,n)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:s}})}xl.prototype=DA.prototype={constructor:xl,on:function(e,t){var n,s=this._,i=DV(e+"",s),o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((n=(e=i[o]).type)&&(n=TV(s[n],e.name)))return n;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)s[n]=jA(s[n],e.name,t);else if(t==null)for(n in s)s[n]=jA(s[n],e.name,null);return this},copy:function(){var n,e={},t=this._;for(n in t)e[n]=t[n].slice();return new xl(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var s,o,i=new Array(s),n=0;n<s;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,s=o.length;n<s;++n)o[n].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],s=0,i=o.length;s<i;++s)o[s].value.apply(t,n)}};function TV(e,t){for(var s,n=0,o=e.length;n<o;++n)if((s=e[n]).name===t)return s.value}function jA(e,t,n){for(var s=0,o=e.length;s<o;++s)if(e[s].name===t){e[s]=NA,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:t,value:n}),e}bA=DA,_l="http://www.w3.org/1999/xhtml",I2={svg:"http://www.w3.org/2000/svg",xhtml:_l,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),I2.hasOwnProperty(t)?{space:I2[t],local:e}:e}function FV(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===_l&&t.documentElement.namespaceURI===_l?t.createElement(e):t.createElementNS(n,e)}}function MV(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function iA(e){var t=jl(e);return(t.local?MV:FV)(t)}function SV(){}function N2(e){return e==null?SV:function(){return this.querySelector(e)}}function AV(e){typeof e!="function"&&(e=N2(e));for(var a=this._groups,c=a.length,l=new Array(c),s=0;s<c;++s)for(var t,o,i=a[s],r=i.length,d=l[s]=new Array(r),n=0;n<r;++n)(t=i[n])&&(o=e.call(t,t.__data__,n,i))&&("__data__"in t&&(o.__data__=t.__data__),d[n]=o);return new ae(l,this._parents)}function Rk(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function kV(){return[]}function Lk(e){return e==null?kV:function(){return this.querySelectorAll(e)}}function EV(e){return function(){return Rk(e.apply(this,arguments))}}function CV(e){typeof e=="function"?e=EV(e):e=Lk(e);for(var i=this._groups,l=i.length,r=[],a=[],s=0;s<l;++s)for(var t,o=i[s],c=o.length,n=0;n<c;++n)(t=o[n])&&(r.push(e.call(t,t.__data__,n,o)),a.push(t));return new ae(r,a)}function Nk(e){return function(){return this.matches(e)}}function Dk(e){return function(t){return t.matches(e)}}zk=Array.prototype.find;function xV(e){return function(){return zk.call(this.children,e)}}function OV(){return this.firstElementChild}function wV(e){return this.select(e==null?OV:xV(typeof e=="function"?e:Dk(e)))}Tk=Array.prototype.filter;function _V(){return Array.from(this.children)}function yV(e){return function(){return Tk.call(this.children,e)}}function jV(e){return this.selectAll(e==null?_V:yV(typeof e=="function"?e:Dk(e)))}function bV(e){typeof e!="function"&&(e=Nk(e));for(var i=this._groups,a=i.length,r=new Array(a),s=0;s<a;++s)for(var t,o=i[s],c=o.length,l=r[s]=[],n=0;n<c;++n)(t=o[n])&&e.call(t,t.__data__,n,o)&&l.push(t);return new ae(r,this._parents)}function Mk(e){return new Array(e.length)}function pV(){return new ae(this._enter||this._groups.map(Mk),this._parents)}function al(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}al.prototype={constructor:al,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function fV(e){return function(){return e}}function mV(e,t,n,s,o,i){for(var r,a=0,c=t.length,l=i.length;a<l;++a)(r=t[a])?(r.__data__=i[a],s[a]=r):n[a]=new al(e,i[a]);for(;a<c;++a)(r=t[a])&&(o[a]=r)}function hV(e,t,n,s,o,i,a){var r,c,l,d=new Map,u=t.length,m=i.length,h=new Array(u);for(r=0;r<u;++r)(c=t[r])&&(h[r]=l=a.call(c,c.__data__,r,t)+"",d.has(l)?o[r]=c:d.set(l,c));for(r=0;r<m;++r)l=a.call(e,i[r],r,i)+"",(c=d.get(l))?(s[r]=c,c.__data__=i[r],d.delete(l)):n[r]=new al(e,i[r]);for(r=0;r<u;++r)(c=t[r])&&d.get(h[r])===c&&(o[r]=c)}function uV(e){return e.__data__}function dV(e,t){if(!arguments.length)return Array.from(this,uV);var _=t?hV:mV,l=this._parents,d=this._groups;typeof e!="function"&&(e=fV(e));for(var a=d.length,s=new Array(a),f=new Array(a),h=new Array(a),n=0;n<a;++n){var o,i,v,b,c=l[n],u=d[n],j=u.length,m=lV(e.call(c,c&&c.__data__,n,l)),r=m.length,p=f[n]=new Array(r),g=s[n]=new Array(r),y=h[n]=new Array(j);_(c,u,p,g,y,m,t);for(o=0,i=0;o<r;++o)if(v=p[o]){for(o>=i&&(i=o+1);!(b=g[i])&&++i<r;);v._next=b||null}}return s=new ae(s,l),s._enter=f,s._exit=h,s}function lV(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cV(){return new ae(this._exit||this._groups.map(Mk),this._parents)}function rV(e,t,n){var s=this.enter(),o=this,i=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),s&&o?s.merge(o).order():o}function aV(e){d=e.selection?e.selection():e;for(var d,i=this._groups,a=d._groups,s=i.length,m=a.length,u=Math.min(s,m),o=new Array(s),t=0;t<u;++t)for(var l,c=i[t],h=a[t],r=c.length,f=o[t]=new Array(r),n=0;n<r;++n)(l=c[n]||h[n])&&(f[n]=l);for(;t<s;++t)o[t]=i[t];return new ae(o,this._parents)}function iV(){for(var i=this._groups,o=-1,a=i.length;++o<a;)for(var t,n=i[o],s=n.length-1,e=n[s];--s>=0;)(t=n[s])&&(e&&t.compareDocumentPosition(e)^4&&e.parentNode.insertBefore(t,e),e=t);return this}function oV(e){e||(e=sV);function d(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}for(var o=this._groups,i=o.length,l=new Array(i),n=0;n<i;++n){for(var c,a=o[n],s=a.length,r=l[n]=new Array(s),t=0;t<s;++t)(c=a[t])&&(r[t]=c);r.sort(d)}return new ae(l,this._parents).order()}function sV(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function nV(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function tV(){return Array.from(this)}function ZB(){for(var e,o=this._groups,t=0,i=o.length;t<i;++t)for(var s=o[t],n=0,a=s.length;n<a;++n)if(e=s[n],e)return e;return null}function QB(){let e=0;for(const t of this)++e;return e}function XB(){return!this.node()}function GB(e){for(var i=this._groups,s=0,a=i.length;s<a;++s)for(var n,o=i[s],t=0,r=o.length;t<r;++t)(n=o[t])&&e.call(n,n.__data__,t,o);return this}function YB(e){return function(){this.removeAttribute(e)}}function qB(e){return function(){this.removeAttributeNS(e.space,e.local)}}function KB(e,t){return function(){this.setAttribute(e,t)}}function UB(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function WB(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function $B(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function VB(e,t){var s,n=jl(e);return arguments.length<2?(s=this.node(),n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)):this.each((t==null?n.local?qB:YB:typeof t=="function"?n.local?$B:WB:n.local?UB:KB)(n,t))}function ak(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function BB(e){return function(){this.style.removeProperty(e)}}function IB(e,t,n){return function(){this.style.setProperty(e,t,n)}}function HB(e,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}function PB(e,t,n){return arguments.length>1?this.each((t==null?BB:typeof t=="function"?HB:IB)(e,t,n??"")):jo(this.node(),e)}function jo(e,t){return e.style.getPropertyValue(t)||ak(e).getComputedStyle(e,null).getPropertyValue(t)}function RB(e){return function(){delete this[e]}}function LB(e,t){return function(){this[e]=t}}function DB(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function zB(e,t){return arguments.length>1?this.each((t==null?RB:typeof t=="function"?DB:LB)(e,t)):this.node()[e]}function BE(e){return e.trim().split(/^|\s+/)}function Y0(e){return e.classList||new HE(e)}function HE(e){this._node=e,this._names=BE(e.getAttribute("class")||"")}HE.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function RE(e,t){for(var s=Y0(e),n=-1,o=t.length;++n<o;)s.add(t[n])}function LE(e,t){for(var s=Y0(e),n=-1,o=t.length;++n<o;)s.remove(t[n])}function TB(e){return function(){RE(this,e)}}function FB(e){return function(){LE(this,e)}}function MB(e,t){return function(){(t.apply(this,arguments)?RE:LE)(this,e)}}function SB(e,t){if(n=BE(e+""),arguments.length<2){for(var n,o=Y0(this.node()),s=-1,i=n.length;++s<i;)if(!o.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?MB:t?TB:FB)(n,t))}function AB(){this.textContent=""}function kB(e){return function(){this.textContent=e}}function EB(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function CB(e){return arguments.length?this.each(e==null?AB:(typeof e=="function"?EB:kB)(e)):this.node().textContent}function xB(){this.innerHTML=""}function OB(e){return function(){this.innerHTML=e}}function wB(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function _B(e){return arguments.length?this.each(e==null?xB:(typeof e=="function"?wB:OB)(e)):this.node().innerHTML}function yB(){this.nextSibling&&this.parentNode.appendChild(this)}function jB(){return this.each(yB)}function bB(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vB(){return this.each(bB)}function gB(e){var t=typeof e=="function"?e:iA(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function pB(){return null}function fB(e,t){var n=typeof e=="function"?e:iA(e),s=t==null?pB:typeof t=="function"?t:N2(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function mB(){var e=this.parentNode;e&&e.removeChild(this)}function hB(){return this.each(mB)}function uB(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dB(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function lB(e){return this.select(e?dB:uB)}function cB(e){return arguments.length?this.property("__data__",e):this.node().__data__}function rB(e){return function(t){e.call(this,t,this.__data__)}}function aB(e){return e.trim().split(/^|\s+/).map(function(e){var n="",t=e.indexOf(".");return t>=0&&(n=e.slice(t+1),e=e.slice(0,t)),{type:e,name:n}})}function iB(e){return function(){if(n=this.__on,!n)return;for(var t,n,s=0,o=-1,i=n.length;s<i;++s)t=n[s],(!e.type||t.type===e.type)&&t.name===e.name?this.removeEventListener(t.type,t.listener,t.options):n[++o]=t;++o?n.length=o:delete this.__on}}function oB(e,t,n){return function(){var s,i,r,o=this.__on,a=rB(t);if(o)for(i=0,r=o.length;i<r;++i)if((s=o[i]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},o?o.push(s):this.__on=[s]}}function sB(e,t,n){var s,o,i,a,l,d,r=aB(e+""),c=r.length;if(arguments.length<2){if(o=this.node().__on,o)for(i=0,d=o.length;i<d;++i)for(s=0,a=o[i];s<c;++s)if((l=r[s]).type===a.type&&l.name===a.name)return a.value;return}o=t?oB:iB;for(s=0;s<c;++s)this.each(o(r[s],t,n));return this}function vE(e,t,n){var o=ak(e),s=o.CustomEvent;typeof s=="function"?s=new s(t,n):(s=o.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function nB(e,t){return function(){return vE(this,e,t)}}function tB(e,t){return function(){return vE(this,e,t.apply(this,arguments))}}function eB(e,t){return this.each((typeof t=="function"?tB:nB)(e,t))}function*JI(){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var o,s=n[e],t=0,a=s.length;t<a;++t)(o=s[t])&&(yield o)}yc=[null];function ae(e,t){this._groups=e,this._parents=t}function uE(){return new ae([[document.documentElement]],yc)}function ZI(){return this}ae.prototype=uE.prototype={constructor:ae,select:AV,selectAll:CV,selectChild:wV,selectChildren:jV,filter:bV,data:dV,enter:pV,exit:cV,join:rV,merge:aV,selection:ZI,order:iV,sort:oV,call:nV,nodes:tV,node:ZB,size:QB,empty:XB,each:GB,attr:VB,style:PB,property:zB,classed:SB,text:CB,html:_B,raise:jB,lower:vB,append:gB,insert:fB,remove:hB,clone:lB,datum:cB,on:sB,dispatch:eB,[Symbol.iterator]:JI},po=uE;function i(e){return typeof e=="string"?new ae([[document.querySelector(e)]],[document.documentElement]):new ae([[e]],yc)}function L0(e){return typeof e=="string"?new ae([document.querySelectorAll(e)],[document.documentElement]):new ae([Rk(e)],yc)}function ri(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gc(e,t){var s,n=Object.create(e.prototype);for(s in t)n[s]=t[s];return n}function kn(){}lo=.7,gi=1/lo,wn="\\s*([+-]?\\d+)\\s*",no="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",He="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dE=/^#([0-9a-f]{3,8})$/,cE=new RegExp(`^rgb\\(${wn},${wn},${wn}\\)$`),nE=new RegExp(`^rgb\\(${He},${He},${He}\\)$`),tE=new RegExp(`^rgba\\(${wn},${wn},${wn},${no}\\)$`),JC=new RegExp(`^rgba\\(${He},${He},${He},${no}\\)$`),QC=new RegExp(`^hsl\\(${no},${He},${He}\\)$`),GC=new RegExp(`^hsla\\(${no},${He},${He},${no}\\)$`),C0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ri(kn,Fn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qC,formatHex:qC,formatHex8:QI,formatHsl:XI,formatRgb:$C,toString:$C});function qC(){return this.rgb().formatHex()}function QI(){return this.rgb().formatHex8()}function XI(){return FC(this).formatHsl()}function $C(){return this.rgb().formatRgb()}function Fn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=dE.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?BC(t):n===3?new ne(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?hc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?hc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cE.exec(e))?new ne(t[1],t[2],t[3],1):(t=nE.exec(e))?new ne(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tE.exec(e))?hc(t[1],t[2],t[3],t[4]):(t=JC.exec(e))?hc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=QC.exec(e))?zC(t[1],t[2]/100,t[3]/100,1):(t=GC.exec(e))?zC(t[1],t[2]/100,t[3]/100,t[4]):C0.hasOwnProperty(e)?BC(C0[e]):e==="transparent"?new ne(NaN,NaN,NaN,0):null}function BC(e){return new ne(e>>16&255,e>>8&255,e&255,1)}function hc(e,t,n,s){return s<=0&&(e=t=n=NaN),new ne(e,t,n,s)}function HC(e){return e instanceof kn||(e=Fn(e)),e?(e=e.rgb(),new ne(e.r,e.g,e.b,e.opacity)):new ne}function uc(e,t,n,s){return arguments.length===1?HC(e):new ne(e,t,n,s??1)}function ne(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}ri(ne,uc,gc(kn,{brighter(e){return e=e==null?gi:Math.pow(gi,e),new ne(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?lo:Math.pow(lo,e),new ne(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ne(Bn(this.r),Bn(this.g),Bn(this.b),dc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RC,formatHex:RC,formatHex8:GI,formatRgb:NC,toString:NC}));function RC(){return`#${Vn(this.r)}${Vn(this.g)}${Vn(this.b)}`}function GI(){return`#${Vn(this.r)}${Vn(this.g)}${Vn(this.b)}${Vn((isNaN(this.opacity)?1:this.opacity)*255)}`}function NC(){const e=dc(this.opacity);return`${e===1?"rgb(":"rgba("}${Bn(this.r)}, ${Bn(this.g)}, ${Bn(this.b)}${e===1?")":`, ${e})`}`}function dc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vn(e){return e=Bn(e),(e<16?"0":"")+e.toString(16)}function zC(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ye(e,t,n,s)}function FC(e){if(e instanceof Ye)return new Ye(e.h,e.s,e.l,e.opacity);if(e instanceof kn||(e=Fn(e)),!e)return new Ye;if(e instanceof Ye)return e;e=e.rgb();var a=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(a,n,i),s=Math.max(a,n,i),o=NaN,t=s-r,c=(s+r)/2;return t?(a===s?o=(n-i)/t+(n<i)*6:n===s?o=(i-a)/t+2:o=(a-n)/t+4,t/=c<.5?s+r:2-s-r,o*=60):t=c>0&&c<1?0:o,new Ye(o,t,c,e.opacity)}function qI(e,t,n,s){return arguments.length===1?FC(e):new Ye(e,t,n,s??1)}function Ye(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}ri(Ye,qI,gc(kn,{brighter(e){return e=e==null?gi:Math.pow(gi,e),new Ye(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?lo:Math.pow(lo,e),new Ye(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,o=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*o,s=2*t-n;return new ne(m0(e>=240?e-240:e+120,s,n),m0(e,s,n),m0(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Ye(kC(this.h),cc(this.s),cc(this.l),dc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dc(this.opacity);return`${e===1?"hsl(":"hsla("}${kC(this.h)}, ${cc(this.s)*100}%, ${cc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kC(e){return e=(e||0)%360,e<0?e+360:e}function cc(e){return Math.max(0,Math.min(1,e||0))}function m0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}CC=Math.PI/180,xC=180/Math.PI,fa=18,d0=.96422,r0=1,a0=.82521,i0=4/29,ss=6/29,o0=3*ss*ss,OC=ss*ss*ss;function wC(e){if(e instanceof Ot)return new Ot(e.l,e.a,e.b,e.opacity);if(e instanceof kt)return yC(e);e instanceof ne||(e=HC(e));var i,a,n=Y4(e.r),t=Y4(e.g),s=Y4(e.b),o=Z4((.2225045*n+.7168786*t+.0606169*s)/r0);return n===t&&t===s?i=a=o:(i=Z4((.4360747*n+.3850649*t+.1430804*s)/d0),a=Z4((.0139322*n+.0971045*t+.7141733*s)/a0)),new Ot(116*o-16,500*(i-o),200*(o-a),e.opacity)}function KI(e,t,n,s){return arguments.length===1?wC(e):new Ot(e,t,n,s??1)}function Ot(e,t,n,s){this.l=+e,this.a=+t,this.b=+n,this.opacity=+s}ri(Ot,KI,gc(kn,{brighter(e){return new Ot(this.l+fa*(e??1),this.a,this.b,this.opacity)},darker(e){return new Ot(this.l-fa*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200,t=d0*Q4(t),e=r0*Q4(e),n=a0*Q4(n);return new ne(X4(3.1338561*t-1.6168667*e-.4906146*n),X4(-.9787684*t+1.9161415*e+.033454*n),X4(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Z4(e){return e>OC?Math.pow(e,1/3):e/o0+i0}function Q4(e){return e>ss?e*e*e:o0*(e-i0)}function X4(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Y4(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function UI(e){if(e instanceof kt)return new kt(e.h,e.c,e.l,e.opacity);if(e instanceof Ot||(e=wC(e)),e.a===0&&e.b===0)return new kt(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*xC;return new kt(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function q4(e,t,n,s){return arguments.length===1?UI(e):new kt(e,t,n,s??1)}function kt(e,t,n,s){this.h=+e,this.c=+t,this.l=+n,this.opacity=+s}function yC(e){if(isNaN(e.h))return new Ot(e.l,0,0,e.opacity);var t=e.h*CC;return new Ot(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}ri(kt,q4,gc(kn,{brighter(e){return new kt(this.h,this.c,this.l+fa*(e??1),this.opacity)},darker(e){return new kt(this.h,this.c,this.l-fa*(e??1),this.opacity)},rgb(){return yC(this).rgb()}}));function jC(e,t,n,s,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*s+a*o)/6}function WI(e){var t=e.length-1;return function(n){var s=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[s],i=e[s+1],a=s>0?e[s-1]:2*o-i,r=s<t-1?e[s+2]:2*i-o;return jC((n-s/t)*t,a,o,i,r)}}function $I(e){var t=e.length;return function(n){var s=Math.floor(((n%=1)<0?++n:n)*t),o=e[(s+t-1)%t],i=e[s%t],a=e[(s+1)%t],r=e[(s+2)%t];return jC((n-s/t)*t,o,i,a,r)}}wa=e=>()=>e;function bC(e,t){return function(n){return e+n*t}}function VI(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function BI(e,t){var n=t-e;return n?bC(e,n>180||n<-180?n-360*Math.round(n/360):n):wa(isNaN(e)?t:e)}function II(e){return(e=+e)===1?Es:function(t,n){return n-t?VI(t,n,e):wa(isNaN(t)?n:t)}}function Es(e,t){var n=t-e;return n?bC(e,n):wa(isNaN(e)?t:e)}ba=function e(t){var n=II(t);function s(e,t){var s=n((e=uc(e)).r,(t=uc(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Es(e.opacity,t.opacity);return function(t){return e.r=s(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return s.gamma=e,s}(1);function fC(e){return function(t){var n,s,o=t.length,i=new Array(o),a=new Array(o),r=new Array(o);for(s=0;s<o;++s)n=uc(t[s]),i[s]=n.r||0,a[s]=n.g||0,r[s]=n.b||0;return i=e(i),a=e(a),r=e(r),n.opacity=1,function(e){return n.r=i(e),n.g=a(e),n.b=r(e),n+""}}}HI=fC(WI),PI=fC($I);function RI(e,t){t||(t=[]);var n,o=e?Math.min(t.length,e.length):0,s=t.slice();return function(i){for(n=0;n<o;++n)s[n]=e[n]*(1-i)+t[n]*i;return s}}function LI(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function NI(e,t){var n,s=t?t.length:0,o=e?Math.min(s,e.length):0,a=new Array(o),i=new Array(s);for(n=0;n<o;++n)a[n]=z4(e[n],t[n]);for(;n<s;++n)i[n]=t[n];return function(e){for(n=0;n<o;++n)i[n]=a[n](e);return i}}function DI(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function Ie(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function zI(e,t){var n,s={},o={};(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?s[n]=z4(e[n],t[n]):o[n]=t[n];return function(e){for(n in s)o[n]=s[n](e);return o}}Gr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yr=new RegExp(Gr.source,"g");function TI(e){return function(){return e}}function FI(e){return function(t){return e(t)+""}}function cC(e,t){var o,i,c,a=Gr.lastIndex=Yr.lastIndex=0,s=-1,n=[],r=[];for(e=e+"",t=t+"";(c=Gr.exec(e))&&(i=Yr.exec(t));)(o=i.index)>a&&(o=t.slice(a,o),n[s]?n[s]+=o:n[++s]=o),(c=c[0])===(i=i[0])?n[s]?n[s]+=i:n[++s]=i:(n[++s]=null,r.push({i:s,x:Ie(c,i)})),a=Yr.lastIndex;return a<t.length&&(o=t.slice(a),n[s]?n[s]+=o:n[++s]=o),n.length<2?r[0]?FI(r[0].x):TI(t):(t=r.length,function(e){for(var o,s=0;s<t;++s)n[(o=r[s]).i]=o.x(e);return n.join("")})}function z4(e,t){var s,n=typeof t;return t==null||n==="boolean"?wa(t):(n==="number"?Ie:n==="string"?(s=Fn(t))?(t=s,ba):cC:t instanceof Fn?ba:t instanceof Date?DI:LI(t)?RI:Array.isArray(t)?NI:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zI:Ie)(e,t)}function MI(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}T4=180/Math.PI,Kr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Vx(e,t,n,s,o,i){var a,r,c;return(r=Math.sqrt(e*e+t*t))&&(e/=r,t/=r),(a=e*n+t*s)&&(n-=e*a,s-=t*a),(c=Math.sqrt(n*n+s*s))&&(n/=c,s/=c,a/=c),e*s<t*n&&(e=-e,t=-t,a=-a,r=-r),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*T4,skewX:Math.atan(a)*T4,scaleX:r,scaleY:c}}function SI(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Kr:Vx(t.a,t.b,t.c,t.d,t.e,t.f)}function AI(e){return e==null?Kr:(Ur||(Ur=document.createElementNS("http://www.w3.org/2000/svg","g")),Ur.setAttribute("transform",e),(e=Ur.transform.baseVal.consolidate())?(e=e.matrix,Vx(e.a,e.b,e.c,e.d,e.e,e.f)):Kr)}function Hx(e,t,n,s){function o(e){return e.length?e.pop()+" ":""}function i(e,s,o,i,a,r){if(e!==o||s!==i){var c=a.push("translate(",null,t,null,n);r.push({i:c-4,x:Ie(e,o)},{i:c-2,x:Ie(s,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}function a(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,s)-2,x:Ie(e,t)})):t&&n.push(o(n)+"rotate("+t+s)}function r(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,s)-2,x:Ie(e,t)}):t&&n.push(o(n)+"skewX("+t+s)}function c(e,t,n,s,i,a){if(e!==n||t!==s){var r=i.push(o(i)+"scale(",null,",",null,")");a.push({i:r-4,x:Ie(e,n)},{i:r-2,x:Ie(t,s)})}else(n!==1||s!==1)&&i.push(o(i)+"scale("+n+","+s+")")}return function(t,n){var s=[],o=[];return t=e(t),n=e(n),i(t.translateX,t.translateY,n.translateX,n.translateY,s,o),a(t.rotate,n.rotate,s,o),r(t.skewX,n.skewX,s,o),c(t.scaleX,t.scaleY,n.scaleX,n.scaleY,s,o),t=n=null,function(e){for(var n,t=-1,i=o.length;++t<i;)s[(n=o[t]).i]=n.x(e);return s.join("")}}}Rx=Hx(SI,"px, ","px)","deg)"),Nx=Hx(AI,", ",")",")");function Dx(e){return function(t,n){var s=e((t=q4(t)).h,(n=q4(n)).h),o=Es(t.c,n.c),i=Es(t.l,n.l),a=Es(t.opacity,n.opacity);return function(e){return t.h=s(e),t.c=o(e),t.l=i(e),t.opacity=a(e),t+""}}}zx=Dx(BI),kI=Dx(Es),yn=0,Oo=0,oo=0,C4=1e3,ui=0,fn=0,li=0,ho=typeof performance=="object"&&performance.now?performance:Date,_4=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function j4(){return fn||(_4(EI),fn=ho.now()+li)}function EI(){fn=0}function Pr(){this._call=this._time=this._next=null}Pr.prototype=Ex.prototype={constructor:Pr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?j4():+n)+(t==null?0:+t),!this._next&&hi!==this&&(hi?hi._next=this:Hr=this,hi=this),this._call=e,this._time=n,h4()},stop:function(){this._call&&(this._call=null,this._time=1/0,h4())}};function Ex(e,t,n){var s=new Pr;return s.restart(e,t,n),s}function CI(){j4(),++yn;for(var t,e=Hr;e;)(t=fn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--yn}function xx(){fn=(ui=ho.now())+li,yn=Oo=0;try{CI()}finally{yn=0,OI(),fn=0}}function xI(){var e=ho.now(),t=e-ui;t>C4&&(li-=t,ui=e)}function OI(){for(var t,n,e=Hr,s=1/0;e;)e._call?(s>e._time&&(s=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Hr=n);hi=t,h4(s)}function h4(e){if(yn)return;Oo&&(Oo=clearTimeout(Oo));var t=e-fn;t>24?(e<1/0&&(Oo=setTimeout(xx,e-ho.now()-li)),oo&&(oo=clearInterval(oo))):(oo||(ui=ho.now(),oo=setInterval(xI,C4)),yn=1,_4(xx))}function gx(e,t,n){var s=new Pr;return t=t==null?0:+t,s.restart(n=>{s.stop(),e(n+t)},t,n),s}fx=bA("start","end","cancel","interrupt"),hx=[],c4=0,o4=1,Mr=2,Go=3,n4=4,kr=5,Bo=6;function Er(e,t,n,s,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};wI(e,n,{name:t,index:s,group:o,on:fx,tween:hx,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:c4})}function Z1(e,t){var n=Ke(e,t);if(n.state>c4)throw new Error("too late; already scheduled");return n}function Ze(e,t){var n=Ke(e,t);if(n.state>Go)throw new Error("too late; already running");return n}function Ke(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function wI(e,t,n){var o,s=e.__transition;s[t]=n,n.timer=Ex(c,0,n.time);function c(e){n.state=o4,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)}function i(c){var l,d,u,h;if(n.state!==o4)return a();for(d in s){if(l=s[d],l.name!==n.name)continue;if(l.state===Go)return gx(i);l.state===n4?(l.state=Bo,l.timer.stop(),l.on.call("interrupt",e,e.__data__,l.index,l.group),delete s[d]):+d<t&&(l.state=Bo,l.timer.stop(),l.on.call("cancel",e,e.__data__,l.index,l.group),delete s[d])}if(gx(function(){n.state===Go&&(n.state=n4,n.timer.restart(r,n.delay,n.time),r(c))}),n.state=Mr,n.on.call("start",e,e.__data__,n.index,n.group),n.state!==Mr)return;n.state=Go,o=new Array(h=n.tween.length);for(d=0,u=-1;d<h;++d)(l=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(o[++u]=l);o.length=u+1}function r(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(a),n.state=kr,1),s=-1,r=o.length;++s<r;)o[s].call(e,i);n.state===kr&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Bo,n.timer.stop(),delete s[t];for(var o in s)return;delete e.__transition}}function _I(e,t){var n,o,i,s=e.__transition,a=!0;if(!s)return;t=t==null?null:t+"";for(o in s){if((n=s[o]).name!==t){a=!1;continue}i=n.state>Mr&&n.state<kr,n.state=Bo,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete s[o]}a&&delete e.__transition}function yI(e){return this.each(function(){_I(this,e)})}function jI(e,t){var n,s;return function(){var o,r,i=Ze(this,e),a=i.tween;if(a!==s){n=s=a;for(o=0,r=n.length;o<r;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function bI(e,t,n){var s,o;if(typeof n!="function")throw new Error;return function(){if(a=Ze(this,e),r=a.tween,r!==o){s=(o=r).slice();for(var a,r,c={name:t,value:n},i=0,l=s.length;i<l;++i)if(s[i].name===t){s[i]=c;break}i===l&&s.push(c)}a.tween=s}}function vI(e,t){if(n=this._id,e+="",arguments.length<2){s=Ke(this.node(),n).tween;for(var n,s,i,o=0,a=s.length;o<a;++o)if((i=s[o]).name===e)return i.value;return null}return this.each((t==null?jI:bI)(n,e,t))}function G1(e,t,n){var s=e._id;return e.each(function(){var e=Ze(this,s);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return Ke(e,s).value[t]}}function ox(e,t){var n;return(typeof t=="number"?Ie:t instanceof Fn?ba:(n=Fn(t))?(t=n,ba):cC)(e,t)}function gI(e){return function(){this.removeAttribute(e)}}function pI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fI(e,t,n){var s,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===s?o:o=t(s=a,n)}}function mI(e,t,n){var s,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===s?o:o=t(s=a,n)}}function hI(e,t,n){var s,o,i;return function(){var a,r,c=n(this);return c==null?void this.removeAttribute(e):(a=this.getAttribute(e),r=c+"",a===r?null:a===s&&r===o?i:(o=r,i=t(s=a,c)))}}function uI(e,t,n){var s,o,i;return function(){var a,r,c=n(this);return c==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),r=c+"",a===r?null:a===s&&r===o?i:(o=r,i=t(s=a,c)))}}function dI(e,t){var n=jl(e),s=n==="transform"?Nx:ox;return this.attrTween(e,typeof t=="function"?(n.local?uI:hI)(n,s,G1(this,"attr."+e,t)):t==null?(n.local?pI:gI)(n):(n.local?mI:fI)(n,s,t))}function lI(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function cI(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function rI(e,t){var n,s;function o(){var o=t.apply(this,arguments);return o!==s&&(n=(s=o)&&cI(e,o)),n}return o._value=t,o}function aI(e,t){var n,s;function o(){var o=t.apply(this,arguments);return o!==s&&(n=(s=o)&&lI(e,o)),n}return o._value=t,o}function iI(e,t){var s,n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return s=jl(e),this.tween(n,(s.local?rI:aI)(s,t))}function oI(e,t){return function(){Z1(this,e).delay=+t.apply(this,arguments)}}function sI(e,t){return t=+t,function(){Z1(this,e).delay=t}}function nI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?oI:sI)(t,e)):Ke(this.node(),t).delay}function tI(e,t){return function(){Ze(this,e).duration=+t.apply(this,arguments)}}function eI(e,t){return t=+t,function(){Ze(this,e).duration=t}}function JH(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?tI:eI)(t,e)):Ke(this.node(),t).duration}function ZH(e,t){if(typeof t!="function")throw new Error;return function(){Ze(this,e).ease=t}}function QH(e){var t=this._id;return arguments.length?this.each(ZH(t,e)):Ke(this.node(),t).ease}function XH(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ze(this,e).ease=n}}function GH(e){if(typeof e!="function")throw new Error;return this.each(XH(this._id,e))}function YH(e){typeof e!="function"&&(e=Nk(e));for(var i=this._groups,a=i.length,r=new Array(a),s=0;s<a;++s)for(var t,o=i[s],c=o.length,l=r[s]=[],n=0;n<c;++n)(t=o[n])&&e.call(t,t.__data__,n,o)&&l.push(t);return new Lt(r,this._parents,this._name,this._id)}function qH(e){if(e._id!==this._id)throw new Error;for(var i=this._groups,l=e._groups,s=i.length,h=l.length,d=Math.min(s,h),o=new Array(s),t=0;t<d;++t)for(var c,r=i[t],u=l[t],a=r.length,m=o[t]=new Array(a),n=0;n<a;++n)(c=r[n]||u[n])&&(m[n]=c);for(;t<s;++t)o[t]=i[t];return new Lt(o,this._parents,this._name,this._id)}function KH(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function UH(e,t,n){var s,o,i=KH(t)?Z1:Ze;return function(){var a=i(this,e),r=a.on;r!==s&&(o=(s=r).copy()).on(t,n),a.on=o}}function WH(e,t){var n=this._id;return arguments.length<2?Ke(this.node(),n).on.on(e):this.each(UH(n,e,t))}function $H(e){return function(){var n,t=this.parentNode;for(n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function VH(){return this.on("end.remove",$H(this._id))}function BH(e){i=this._name,s=this._id,typeof e!="function"&&(e=N2(e));for(var s,i,d=this._groups,u=d.length,h=new Array(u),o=0;o<u;++o)for(var n,r,c=d[o],l=c.length,a=h[o]=new Array(l),t=0;t<l;++t)(n=c[t])&&(r=e.call(n,n.__data__,t,c))&&("__data__"in n&&(r.__data__=n.__data__),a[t]=r,Er(a[t],i,s,t,a,Ke(n,s)));return new Lt(h,this._parents,i,s)}function IH(e){r=this._name,n=this._id,typeof e!="function"&&(e=Lk(e));for(var n,r,d=this._groups,p=d.length,u=[],h=[],a=0;a<p;++a)for(var t,c=d[a],m=c.length,s=0;s<m;++s)if(t=c[s]){for(var l,o=e.call(t,t.__data__,s,c),f=Ke(t,n),i=0,g=o.length;i<g;++i)(l=o[i])&&Er(l,r,n,i,o,f);u.push(o),h.push(t)}return new Lt(u,h,r,n)}dO=po.prototype.constructor;function HH(){return new dO(this._groups,this._parents)}function PH(e,t){var n,s,o;return function(){var i=jo(this,e),a=(this.style.removeProperty(e),jo(this,e));return i===a?null:i===n&&a===s?o:o=t(n=i,s=a)}}function sO(e){return function(){this.style.removeProperty(e)}}function RH(e,t,n){var s,o,i=n+"";return function(){var a=jo(this,e);return a===i?null:a===s?o:o=t(s=a,n)}}function LH(e,t,n){var s,o,i;return function(){var c=jo(this,e),a=n(this),r=a+"";return a==null&&(r=a=(this.style.removeProperty(e),jo(this,e))),c===r?null:c===s&&r===o?i:(o=r,i=t(s=c,a))}}function NH(e,t){var n,s,o,a,i="style."+t,r="end."+i;return function(){var c=Ze(this,e),l=c.on,d=c.value[i]==null?a||(a=sO(t)):void 0;(l!==n||o!==d)&&(s=(n=l).copy()).on(r,o=d),c.on=s}}function DH(e,t,n){var s=(e+="")==="transform"?Rx:ox;return t==null?this.styleTween(e,PH(e,s)).on("end.style."+e,sO(e)):typeof t=="function"?this.styleTween(e,LH(e,s,G1(this,"style."+e,t))).each(NH(this._id,e)):this.styleTween(e,RH(e,s,t),n).on("end.style."+e,null)}function zH(e,t,n){return function(s){this.style.setProperty(e,t.call(this,s),n)}}function TH(e,t,n){var s,o;function i(){var i=t.apply(this,arguments);return i!==o&&(s=(o=i)&&zH(e,i,n)),s}return i._value=t,i}function FH(e,t,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,TH(e,t,n??""))}function MH(e){return function(){this.textContent=e}}function SH(e){return function(){var t=e(this);this.textContent=t??""}}function AH(e){return this.tween("text",typeof e=="function"?SH(G1(this,"text",e)):MH(e==null?"":e+""))}function xH(e){return function(t){this.textContent=e.call(this,t)}}function OH(e){var t,n;function s(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&xH(s)),t}return s._value=e,s}function wH(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,OH(e))}function _H(){for(var e,a=this._name,c=this._id,r=Ew(),i=this._groups,d=i.length,o=0;o<d;++o)for(var s,n=i[o],l=n.length,t=0;t<l;++t)(s=n[t])&&(e=Ke(s,c),Er(s,a,r,t,n,{time:e.time+e.delay+e.duration,delay:0,duration:e.duration,ease:e.ease}));return new Lt(i,this._parents,a,r)}function yH(){var e,n,t=this,o=t._id,s=t.size();return new Promise(function(i,a){var r={value:a},c={value:function(){--s===0&&i()}};t.each(function(){var t=Ze(this,o),s=t.on;s!==n&&(e=(n=s).copy(),e._.cancel.push(r),e._.interrupt.push(r),e._.end.push(c)),t.on=e}),s===0&&i()})}Mw=0;function Lt(e,t,n,s){this._groups=e,this._parents=t,this._name=n,this._id=s}function CL(e){return po().transition(e)}function Ew(){return++Mw}xt=po.prototype,Lt.prototype=CL.prototype={constructor:Lt,select:BH,selectAll:IH,selectChild:xt.selectChild,selectChildren:xt.selectChildren,filter:YH,merge:qH,selection:HH,transition:_H,call:xt.call,nodes:xt.nodes,node:xt.node,size:xt.size,empty:xt.empty,each:xt.each,on:WH,attr:dI,attrTween:iI,style:DH,styleTween:FH,text:AH,textTween:wH,remove:VH,tween:vI,delay:nI,duration:JH,ease:QH,easeVarying:GH,end:yH,[Symbol.iterator]:xt[Symbol.iterator]};function jH(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}Cw={time:null,delay:0,duration:250,ease:jH};function bH(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function vH(e){e instanceof Lt?(t=e._id,e=e._name):(t=Ew(),(r=Cw).time=j4(),e=e==null?null:e+"");for(var t,r,a=this._groups,c=a.length,o=0;o<c;++o)for(var s,i=a[o],l=i.length,n=0;n<l;++n)(s=i[n])&&Er(s,e,t,n,i,r||bH(s,t));return new Lt(a,this._parents,e,t)}po.prototype.interrupt=yI,po.prototype.transition=vH;var{abs:e$,max:XV,min:QV}=Math,e,t,n,s,o,a,r,l,u,h,m,f,p,g,v,j,y,_,w,O,x,C,E,k,A,S,M,F,T,z,N,L,P,H,I,B,V,$,U,K,q,Y,G,X,Q,Z,J,Yl,hS,T3,uS,dS,lS,ql,A3,cS,Wl,rS,aS,sS,Ne,Ut,b3,XA,pH,gH,GA,m3,WA,$A,VA,Ji,Ml,Al,Gi,n3,NA,bA,_l,I2,zk,Tk,yc,po,lo,gi,wn,no,He,dE,cE,nE,tE,JC,QC,GC,C0,CC,xC,fa,d0,r0,a0,i0,ss,o0,OC,wa,ba,HI,PI,Gr,Yr,T4,Kr,Ur,Rx,Nx,zx,kI,yn,Oo,oo,C4,Hr,hi,ui,fn,li,ho,_4,fx,hx,c4,o4,Mr,Go,n4,kr,Bo,dO,Mw,xt,Cw,Aw,hH,uH,dH,Xa,Ga,ln,K_,Ya,iH,oH,L_,N_,D_,Iu,Hu,Pu,Ha,w_,__,Au,ju,rr,cr,yi,PP,Xe,Oe,Qe,ht,gr,fu,br,Un,RP,xo,LP,hu,NP,Do,DP,du,zP,tn,TP,Fr,FP,ru,MP,ls,ii,Wy,$y,xn,Vy,Iy,SP,kP,CP,xP,OP,wP,_P,Qr,ja,Ly,zy,os,Fy,ky,yP,jP,bP,gP,pP,fP,mP,Ys,hP,Yd,uP,et,dP,Wt,lP,Id,by,vy,js,Kl,aR,iR,oR,nd,qt,x9,Tl,Pe,Jn,ce,Us,Vi,Bi,KL,kv,Ao,qo,gv,pv,hv,ov,X7,K7,Ft,U7,$7,V7,B7,H7,ma,Eu,Os,xa,Ca,Fa,Fu,Tu,Da,P7,wt,F7,Ru,C7,ps,g7,Bu,f7,h7,d7,c7,a7,o7,n7,Ju,t7,e7,De,Y5,_e,i1,B5,P5,Gs,D5,T5,F5,k5,y5,g5,v1,Vt,de,l5,i5,n5,e5,Tn,sv,pr,M1,Kg,Wg,Ig,dn,Dg,Ag,Cg,wg,yg,jg,pg,mg,og,un,eg,To,Qp,Vp,Bp,Ip,Ep,wp,bp,vp,fp,mp,np,p4,J6,An,ci,F6,E6,b6,f6,h6,d6,Ki,l6,Ds,r6,Bf,ya,Rf,Lf,Ff,Sf,wi,Af,za,t0,n0,s0,Cf,wf,_f,ac,Ri,Pn,b0,be,Mn,Rc,Te,X8,nn,bn,I8,R8,n2,s2,z8,F8,M8,A8,w8,h2,_8,c8,Qm,qm,Hm,j2,Rm,bi,Am,cn,Om,cl,S2,_m,ym,hm,rm,R2,tm,em,Jh,Zh,Nt,Qh,Wi,Kh,Wh,Ih,X2,Z2,e3,Nh,Th,Fh,Ah,kh,nh,ua,ha,Q3,X3,pa,ks,_3,O3,Ea,V3,Ul,mt,fs,L3,N3,$i,H3,I3,E3,x3,W3,U3,K3,rs,G3,g3,p3,Z3,u3,eh,th,_n,sh,oh,ih,ah,rh,ch,lh,dh,uh,hh,mh,fh,ph,gh,vh,bh,jh,yh,_h,wh,Oh,xh,Ch,Eh,Sh,oa,o3,Ps,Dh,kl,Lh,Xn,Q2,Hh,qi,Bh,Vh,Y2,q2,qh,Yh,Gh,Xh,wl,me,nm,sm,om,am,gn,lm,dm,ul,mm,pm,gm,vm,bm,jm,M2,Oi,xm,so,_i,Mm,ol,_2,Nm,nl,Qn,Bm,Vm,tl,Wm,Um,Km,g2,Ym,Gm,p2,Zm,Jm,e8,t8,n8,s8,o8,i8,r8,l8,u8,m8,p8,v8,b8,y8,Sn,x8,E8,d2,l2,S8,c2,a2,i2,o2,t2,P8,H8,J0,B8,Uc,W8,U8,K8,G0,G8,V0,Tc,tf,nf,_c,af,vc,cf,jn,z0,uf,F0,M0,f0,c0,gf,vf,bf,jf,yf,Gt,Yt,Of,xf,Ef,kf,Na,nc,Tf,zf,Nf,U4,$4,Hf,H4,Vf,$f,Wf,Uf,Kf,qf,Yf,Gf,Xf,Qf,Zf,Jf,e6,t6,n6,s6,o6,i6,a6,c6,F4,u6,m6,k4,p6,g6,v6,j6,x4,_6,w6,O6,x6,C6,O4,k6,A6,S6,M6,w4,T6,z6,D6,y4,L6,R6,P6,H6,I6,B6,V6,$6,W6,U6,K6,q6,Y6,G6,X6,Q6,g4,tp,sp,op,ip,rp,cp,dp,hp,d4,gp,r4,jp,yp,a4,xp,Ja,kp,Ap,Sp,Mp,Fp,Tp,zp,Dp,Np,Lp,Rp,Pp,Hp,s4,Sr,$p,Wp,Up,Kp,Yp,Gp,e4,J1,Ro,Jp,X1,ng,q1,ig,ag,cg,K1,hg,W1,gg,bg,B1,I1,Og,xg,Eg,P1,Mg,Tg,St,Lg,Rg,yr,D1,Vg,$g,si,Ug,T1,F1,Yg,Gg,On,mr,C1,hr,o5,a5,c5,d5,vi,b1,b5,vt,w5,O5,C5,E5,ar,m1,z5,N5,L5,R5,H5,V5,W5,K5,yt,G5,X5,Q5,Z5,is,Xu,ca,Ka,pn,u7,Wa,ys,Va,b7,y7,w7,x7,E7,A7,S7,M7,Lu,T7,z7,D7,N7,L7,R7,Ia,qa,I7,Ou,wu,_u,W7,yu,gu,q7,Y7,G7,pu,Z7,ev,nv,g8,yo,iv,av,cv,dv,uv,Qt,fv,zo,vv,bv,yv,_v,Eo,Ov,xv,Cv,Ev,Av,Sv,Mv,Fv,ka,Nv,Rv,Pv,sn,Ud,qv,Xv,yb,_b,wb,Ob,xb,Cb,Eb,kb,bl,yF,jF,yj,Gc,kj,Fj,zd,Dj,Rj,$c,Ic,Hc,Pc,zc,jc,Sy,My,Dy,Ny,xs,Ct,$r,ve,By,ou,au,Le,Uy,Qo,qy,Yy,Gy,cu,Qy,At,se,Fi,Di,o_,i_,a_,r_,c_,l_,d_,u_,h_,m_,dt,zt,ku,v_,b_,C_,E_,k_,A_,S_,M_,ee,rt,P_,H_,I_,q_,Y_,G_,X_,Zu,tw,iw,hw,mw,gw,jw,yw,_w,t1,n1,kw,Sw,tr,Nw,Lw,Rw,Iw,Bw,Ww,Uw,Yw,Gw,It,Ti,h1,f1,ki,lr,nO,p1,oO,iO,aO,g1,j1,x1,E1,ns,k1,GO,XO,QO,ZO,JO,H1,nx,sx,Wo,Or,Q1,rx,xr,dx,Cr,mS,mx,u4,px,bx,wx,f4,v4,b4,Sx,Mx,E4,Tx,Br,Lx,Vr,Px,rn,Ni,$x,Ux,Kx,qx,Yx,Gx,Xx,Qx,Zx,Jx,eC,tC,nC,sC,oC,iC,aC,rC,Qi,$n,le,uC,In,Fs,ga,pC,gC,vC,V4,K4,e0,Pa,vs,u0,h0,EC,p0,AC,SC,Fe,ta,TC,Is,DC,g0,LC,j0,PC,zi,IC,y0,VC,_0,WC,O0,KC,x0,YC,E0,XC,Ei,ZC,k0,eE,A0,xi,sE,oE,iE,aE,rE,eo,lE,D0,oi,R0,xc,pE,gE,Ec,Zo,Ac,Sc,Ce,je,Ee,ke,xe,Je,ut,Io,SE,te,Fo,K0,en,PE,IE,X0,VE,$E,WE,UE,KE,qE,Q0,QE,ZE,JE,ek,tk,z3,sk,ok,ik,vo,rk,fo,ue,hn,ie,mi,fi,pi,pk,gk,w2,bk,sl,yk,_k,wk,Ok,xk,Ck,Ek,ji,Ak,Sk,ze,$t,Se,Ve,Zs,ml,gl,Li,Pi,Ik,Bk,Vk,$k,Wk,Uk,Kk,qk,Yk,Gk,Xk,Qk,Zk,Jk,eA,tA,nA,sA,oA,H2,aA,rA,cA,lA,dA,uA,Rt,mA,fA,pA,gA,vA,V2,Ol,W2,_A,wA,OA,xA,CA,EA,kA,AA,SA,MA,FA,U2,zA,ft,Ue,di,Ui,t3,El,i3,Dl,zs,la,UA,d3,h3,pe,v3,QA,ZA,eS,j3,Hl,C3,oS,iS,Vl,$l,Ma,M3,bs,ms,uj,ro,Bc,M4,kx,Ox,_x,yx,vx,tx,YO,R1,UO,$O,VO,_r,IO,PO,RO,LO,NO,DO,wO,bO,O1,_1,fO,qw,En,a1,Vw,Hw,Pw,$o,zw,Tw,Fw,o1,er,Za,Xi,ea,Hs,pw,fw,uw,dw,lw,cw,rw,aw,ow,sw,nw,ew,J_,Z_,U_,V_,re,Me,Nu,Ty,La,Ay,Jd,Gd,$s,ai,Oy,Hd,Pd,py,hy,Co,cy,ay,iy,oy,ty,Jj,Xj,Gj,Yj,Kj,Uj,Wj,$j,zj,Aj,Cj,xj,_j,jj,vj,Sd,lj,aj,kd,Nn,ej,Jb,Zb,xd,Xb,Kb,Ub,Wb,Ib,dd,Pb,Rb,Yi,Db,zb,Fb,Mb,Sb,rd,jb,ad,Nl,od,sd,mb,hb,ub,db,lb,rb,Pl,ib,sb,As,Bl,eb,J9,Z9,td,Y9,q9,K9,W9,V9,B9,tt,H9,ot,R9,ko,D9,z9,T9,F9,Ql,S9,Zl,C9,O9,j9,yl,pd,p9,f9,u9,jd,ll,Zt,Dn,lt,Po,ur,Lo,Cc,_t,oc,ia,Xo,jv,Vo,mv,lv,rv,tv,J7,Q7,k7,Ba,O7,_7,j7,v7,p7,m7,l7,r7,i7,s7,e1,J5,q5,U5,$5,I5,qs,d1,u1,M5,A5,x5,_5,j5,v5,p5,m5,D3,w1,bt,_g,V1,vg,$1,U1,ug,lg,rg,Y1,qp,t4,i4,Op,_p,Tr,zr,up,lp,$e,Lr,Ir,Wr,Ls,Ss,Jr,ec,Ta,cs,G4,sc,us,Dc,Wc,Y8,$8,L8,D8,T8,C8,O8,j8,f8,h8,d8,u5,a8,Xm,Im,Pm,Dm,Fm,Sm,km,Cm,wm,F2,T2,um,vl,L2,P2,Hi,Ln,Uh,$h,r3,Fl,S3,P3,Kn,R3,F3,B3,k3,$3,w3,q3,Y3,Ll,Mh,Et,zh,Rh,Cl,Ph,$2,B2,im,cm,fm,Em,Tm,zm,$m,k8,Yc,V8,q8,Ra,Nc,Z8,ef,sf,rf,lf,df,hf,mf,at,Pt,Ms,Mf,Df,tc,Pf,If,Zr,oe,Ks,Bt,to,y6,N6,Z6,ep,ap,pp,Cp,Xp,Zp,tg,dg,fg,Pg,qg,Xg,Zg,h5,f5,S5,sr,wv,iu,su,tu,Zd,Qd,Wv,Kv,Qv,e9,t9,n9,ts,s9,a9,hl,l9,d9,Xs,Ht,Ae,Ii,ed,k9,Mc,M9,N9,L9,tb,Cs,nb,ab,fb,pb,gb,Hn,bb,Ab,Bs,Tb,Nb,cd,ld,Hb,md,gd,$b,vd,bd,pl,qb,_d,Ci,wd,Qb,Cd,Ed,nj,ij,rj,gj,ds,Md,Re,Fd,Oj,Ej,Tj,Hj,Bj,Vj,Zj,ey,sy,ly,dy,uy,yy,_y,wc,ti,Kd,xy,Cy,qn,Yn,rc,Ey,ic,Xd,eu,na,nu,Ry,Py,Hy,Ky,Xy,lu,Ar,uu,Zy,Jy,mu,e_,Ai,or,n_,f_,Vs,vu,Qa,xu,Cu,Mu,zu,Du,y_,O_,Vu,Oa,_s,Uu,va,Ts,Yu,R_,B_,sa,Q_,vw,bw,Zi,Ow,xw,Xt,s1,gs,Dw,$w,Kw,c1,nr,Xw,Qw,l1,Zw,ir,Jw,eO,tO,rO,cO,it,dr,uO,hO,y1,mO,pO,gO,jO,yO,_O,xO,CO,EO,kO,SO,A1,S1,MO,ye,vr,FO,TO,zO,BO,L1,WO,Yo,wr,qO,ex,ix,ax,cx,lx,zn,ux,jx,m4,Cx,Ax,Fx,Ix,Bx,Wx,lC,dC,D4,N4,hC,Xr,mC,L4,R4,P4,I4,B4,W4,Aa,Dt,_C,MC,Qs,UC,bc,hE,mE,Oc,fE,bE,es,kc,No,Mo,jE,yE,_E,wE,OE,xE,CE,EE,P0,kE,H0,Ho,AE,I0,B0,ME,FE,W0,TE,zE,DE,Lc,U0,NE,wo,YE,pt,ni,on,nk,ge,qc,Z0,ck,e2,r2,lk,dk,Xc,u2,mo,Qc,Zc,Jc,el,m2,f2,v2,uk,b2,y2,hk,mk,fk,vk,jk,kk,O2,x2,C2,rl,E2,Fk,k2,A2,z2,Si,D2,Pk,Hk,mn,hA,yA,K2,RA,G2,J2,PA,HA,s3,IA,BA,l3,KA,qA,da,Rl,f3,tS,nS,he,fS;function ww(e){return[+e[0],+e[1]]}function mH(e){return[ww(e[0]),ww(e[1])]}hH={name:"x",handles:["w","e"].map(Qu),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},uH={name:"y",handles:["n","s"].map(Qu),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},dH={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Qu),input:function(e){return e==null?null:mH(e)},output:function(e){return e}};function Qu(e){return{type:e}}Xa=Math.PI,Ga=2*Xa,ln=1e-6,K_=Ga-ln;function $_(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function lH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $_;const n=10**t;return function(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}Ya=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?$_:lH(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,s){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,t,n,s,o,i){this._append`C${+e},${+t},${+n},${+s},${this._x1=+o},${this._y1=+i}`}arcTo(e,t,n,s,o){if(e=+e,t=+t,n=+n,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,d=this._y1,r=n-e,c=s-t,i=u-e,a=d-t,l=i*i+a*a;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(l>ln)if(!(Math.abs(a*r-c*i)>ln)||!o)this._append`L${this._x1=e},${this._y1=t}`;else{let h=n-u,m=s-d,p=r*r+c*c,y=h*h+m*m,g=Math.sqrt(p),v=Math.sqrt(l),b=o*Math.tan((Xa-Math.acos((p+l-y)/(2*g*v)))/2),f=b/v,j=b/g;Math.abs(f-1)>ln&&this._append`L${e+f*i},${t+f*a}`,this._append`A${o},${o},0,0,${+(a*h>i*m)},${this._x1=e+j*r},${this._y1=t+j*c}`}}arc(e,t,n,s,o,i){if(e=+e,t=+t,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(s),u=n*Math.sin(s),r=e+d,c=t+u,l=1^i,a=i?s-o:o-s;if(this._x1===null?this._append`M${r},${c}`:(Math.abs(this._x1-r)>ln||Math.abs(this._y1-c)>ln)&&this._append`L${r},${c}`,!n)return;a<0&&(a=a%Ga+Ga),a>K_?this._append`A${n},${n},0,1,${l},${e-d},${t-u}A${n},${n},0,1,${l},${this._x1=r},${this._y1=c}`:a>ln&&this._append`A${n},${n},0,${+(a>=Xa)},${l},${this._x1=e+n*Math.cos(o)},${this._y1=t+n*Math.sin(o)}`}rect(e,t,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}};function cH(){return new Ya}cH.prototype=Ya.prototype;function rH(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function aH(e,t){return fetch(e,t).then(rH)}function qu(e){return(t,n)=>aH(t,n).then(t=>(new DOMParser).parseFromString(t,e))}iH=qu("application/xml"),oH=qu("text/html"),L_=qu("image/svg+xml");function sH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ua(e,t){if((s=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var s,n=e.slice(0,s);return[n.length>1?n[0]+n.slice(2):n,+e.slice(s+1)]}function ws(e){return e=Ua(Math.abs(e)),e?e[1]:NaN}function nH(e,t){return function(n,s){for(var i=n.length,r=[],c=0,o=e[0],a=0;i>0&&o>0;){if(a+o+1>s&&(o=Math.max(1,s-a)),r.push(n.substring(i-=o,i+o)),(a+=o+1)>s)break;o=e[c=(c+1)%e.length]}return r.reverse().join(t)}}function tH(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}N_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $a(e){if(!(t=N_.exec(e)))throw new Error("invalid format: "+e);var t;return new $u({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$a.prototype=$u.prototype;function $u(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eH(e){out:for(var s,o=e.length,t=1,n=-1;t<o;++t)switch(e[t]){case".":n=s=t;break;case"0":n===0&&(n=t),s=t;break;default:if(!+e[t])break out;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}function JP(e,t){if(o=Ua(e,t),!o)return e+"";var o,s=o[0],a=o[1],n=a-(D_=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=s.length;return n===i?s:n>i?s+new Array(n-i+1).join("0"):n>0?s.slice(0,n)+"."+s.slice(n):"0."+new Array(1-n).join("0")+Ua(e,Math.max(0,t+n-1))[0]}function F_(e,t){if(o=Ua(e,t),!o)return e+"";var o,n=o[0],s=o[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}Iu={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>F_(e*100,t),r:F_,s:JP,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function x_(e){return e}Hu=Array.prototype.map,Pu=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ZP(e){var t=e.grouping===void 0||e.thousands===void 0?x_:nH(Hu.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",l=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?x_:tH(Hu.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",r=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function n(e){e=$a(e);var v,j,y,w,b=e.fill,g=e.align,u=e.sign,m=e.symbol,h=e.zero,f=e.width,p=e.comma,d=e.precision,_=e.trim,n=e.type;n==="n"?(p=!0,n="g"):Iu[n]||(d===void 0&&(d=12),_=!0,n="g"),(h||b==="0"&&g==="=")&&(h=!0,b="0",g="="),j=m==="$"?s:m==="#"&&/[boxX]/.test(n)?"0"+n.toLowerCase():"",y=m==="$"?l:/[%p]/.test(n)?a:"",v=Iu[n],w=/[defgprs%]/.test(n),d=d===void 0?6:/[gprs]/.test(n)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d));function O(e){var a,m,O,x,C,E,l=j,s=y;if(n==="c")s=v(e)+s,e="";else if(e=+e,O=e<0||1/e<0,e=isNaN(e)?c:v(Math.abs(e),d),_&&(e=eH(e)),O&&+e===0&&u!=="+"&&(O=!1),l=(O?u==="("?u:r:u==="-"||u==="("?"":u)+l,s=(n==="s"?Pu[8+D_/3]:"")+s+(O&&u==="("?")":""),w)for(m=-1,E=e.length;++m<E;)if(C=e.charCodeAt(m),48>C||C>57){s=(C===46?o+e.slice(m+1):e.slice(m))+s,e=e.slice(0,m);break}switch(p&&!h&&(e=t(e,1/0)),x=l.length+e.length+s.length,a=x<f?new Array(f-x+1).join(b):"",p&&h&&(e=t(a+e,a.length?f-s.length:1/0),a=""),g){case"<":e=l+e+s+a;break;case"=":e=l+a+e+s;break;case"^":e=a.slice(0,x=a.length>>1)+l+e+s+a.slice(x);break;default:e=a+l+e+s;break}return i(e)}return O.toString=function(){return e+""},O}function d(e,t){var o=n((e=$a(e),e.type="f",e)),s=Math.max(-8,Math.min(8,Math.floor(ws(t)/3)))*3,i=Math.pow(10,-s),a=Pu[8+s/3];return function(e){return o(i*e)+a}}return{format:n,formatPrefix:d}}QP({thousands:",",grouping:[3],currency:["$",""]});function QP(e){return Ha=ZP(e),w_=Ha.format,__=Ha.formatPrefix,Ha}function XP(e){return Math.max(0,-ws(Math.abs(e)))}function GP(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ws(t)/3)))*3-ws(Math.abs(e)))}function YP(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ws(t)-ws(e))+1}function Su(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}Au=Symbol("implicit");function g_(){var t=new m3,n=[],s=[],o=Au;function e(e){let i=t.get(e);if(i===void 0){if(o!==Au)return o;t.set(e,i=n.push(e)-1)}return s[i%s.length]}return e.domain=function(s){if(!arguments.length)return n.slice();n=[],t=new m3;for(const e of s){if(t.has(e))continue;t.set(e,n.push(e)-1)}return e},e.range=function(t){return arguments.length?(s=Array.from(t),e):s.slice()},e.unknown=function(t){return arguments.length?(o=t,e):o},e.copy=function(){return g_(n,s).unknown(o)},Su.apply(e,arguments),e}function qP(e){return function(){return e}}function KP(e){return+e}ju=[0,1];function Ns(e){return e}function bu(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:qP(isNaN(t)?NaN:.5)}function UP(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}function WP(e,t,n){var s=e[0],i=e[1],o=t[0],a=t[1];return i<s?(s=bu(i,s),o=n(a,o)):(s=bu(s,i),o=n(o,a)),function(e){return o(s(e))}}function $P(e,t,n){var o=Math.min(e.length,t.length)-1,i=new Array(o),a=new Array(o),s=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<o;)i[s]=bu(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(t){var n=GA(e,t,1,o)-1;return a[n](i[n](t))}}function p_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function VP(){var a,r,c,l,d,u,t=ju,n=ju,i=z4,o=Ns;function s(){var s=Math.min(t.length,n.length);return o!==Ns&&(o=UP(t[0],t[s-1])),r=s>2?$P:WP,c=l=null,e}function e(e){return e==null||isNaN(e=+e)?d:(c||(c=r(t.map(a),n,i)))(a(o(e)))}return e.invert=function(e){return o(u((l||(l=r(n,t.map(a),Ie)))(e)))},e.domain=function(e){return arguments.length?(t=Array.from(e,KP),s()):t.slice()},e.range=function(e){return arguments.length?(n=Array.from(e),s()):n.slice()},e.rangeRound=function(e){return n=Array.from(e),i=MI,s()},e.clamp=function(e){return arguments.length?(o=!!e||Ns,s()):o!==Ns},e.interpolate=function(e){return arguments.length?(i=e,s()):i},e.unknown=function(t){return arguments.length?(d=t,e):d},function(e,t){return a=e,u=t,s()}}function s_(){return VP()(Ns,Ns)}function BP(e,t,n,s){var o,a,i=a3(e,t,n);switch(s=$a(s??",f"),s.type){case"s":return a=Math.max(Math.abs(e),Math.abs(t)),s.precision==null&&!isNaN(o=GP(i,a))&&(s.precision=o),__(s,a);case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(o=YP(i,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=o-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(o=XP(i))&&(s.precision=o-(s.type==="%")*2);break}}return w_(s)}function IP(e){var t=e.domain;return e.ticks=function(e){var n=t();return UV(n[0],n[n.length-1],e??10)},e.tickFormat=function(e,n){var s=t();return BP(s[0],s[s.length-1],e??10,n)},e.nice=function(n){n==null&&(n=10);var s,l,a=t(),r=0,c=a.length-1,o=a[r],i=a[c],d=10;for(i<o&&(s=o,o=i,i=s,s=r,r=c,c=s);d-- >0;){if(s=c3(o,i,n),s===l)return a[r]=o,a[c]=i,t(a);if(s>0)o=Math.floor(o/s)*s,i=Math.ceil(i/s)*s;else if(s<0)o=Math.ceil(o*s)/s,i=Math.floor(i*s)/s;else break;l=s}return e},e}function t_(){var e=s_();return e.copy=function(){return p_(e,t_())},Su.apply(e,arguments),IP(e)}function HP(e,t){e=e.slice();var a,n=0,s=e.length-1,o=e[n],i=e[s];return i<o&&(a=n,n=s,s=a,a=o,o=i,i=a),e[n]=t.floor(o),e[s]=t.ceil(i),e}rr=new Date,cr=new Date;function W(e,t,n,s){function o(t){return e(t=arguments.length===0?new Date:new Date(+t)),t}return o.floor=t=>(e(t=new Date(+t)),t),o.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),o.round=e=>{const t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=(e,n)=>(t(e=new Date(+e),n==null?1:Math.floor(n)),e),o.range=(n,s,i)=>{const a=[];if(n=o.ceil(n),i=i==null?1:Math.floor(i),!(n<s)||!(i>0))return a;let r;do a.push(r=new Date(+n)),t(n,i),e(n);while(r<n&&n<s)return a},o.filter=n=>W(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,s)=>{if(e>=e)if(s<0)for(;++s<=0;)for(;t(e,-1),!n(e););else for(;--s>=0;)for(;t(e,1),!n(e););}),n&&(o.count=(t,s)=>(rr.setTime(+t),cr.setTime(+s),e(rr),e(cr),Math.floor(n(rr,cr))),o.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?o.filter(s?t=>s(t)%e===0:t=>o.count(0,t)%e===0):o)),o}yi=W(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e),yi.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?W(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):yi),PP=yi.range,Xe=1e3,Oe=Xe*60,Qe=Oe*60,ht=Qe*24,gr=ht*7,fu=ht*30,br=ht*365,Un=W(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xe)},(e,t)=>(t-e)/Xe,e=>e.getUTCSeconds()),RP=Un.range,xo=W(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xe)},(e,t)=>{e.setTime(+e+t*Oe)},(e,t)=>(t-e)/Oe,e=>e.getMinutes()),LP=xo.range,hu=W(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Oe)},(e,t)=>(t-e)/Oe,e=>e.getUTCMinutes()),NP=hu.range,Do=W(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xe-e.getMinutes()*Oe)},(e,t)=>{e.setTime(+e+t*Qe)},(e,t)=>(t-e)/Qe,e=>e.getHours()),DP=Do.range,du=W(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qe)},(e,t)=>(t-e)/Qe,e=>e.getUTCHours()),zP=du.range,tn=W(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Oe)/ht,e=>e.getDate()-1),TP=tn.range,Fr=W(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ht,e=>e.getUTCDate()-1),FP=Fr.range,ru=W(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ht,e=>Math.floor(e/ht)),MP=ru.range;function Gn(e){return W(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Oe)/gr)}ls=Gn(0),ii=Gn(1),Wy=Gn(2),$y=Gn(3),xn=Gn(4),Vy=Gn(5),Iy=Gn(6),SP=ls.range,kP=ii.range,CP=Wy.range,xP=$y.range,OP=xn.range,wP=Vy.range,_P=Iy.range;function Zn(e){return W(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/gr)}Qr=Zn(0),ja=Zn(1),Ly=Zn(2),zy=Zn(3),os=Zn(4),Fy=Zn(5),ky=Zn(6),yP=Qr.range,jP=ja.range,bP=Ly.range,gP=zy.range,pP=os.range,fP=Fy.range,mP=ky.range,Ys=W(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),hP=Ys.range,Yd=W(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),uP=Yd.range,et=W(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()),et.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:W(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}),dP=et.range,Wt=W(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear()),Wt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:W(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}),lP=Wt.range;function wy(e,t,n,s,o,i){const a=[[Un,1,Xe],[Un,5,5*Xe],[Un,15,15*Xe],[Un,30,30*Xe],[i,1,Oe],[i,5,5*Oe],[i,15,15*Oe],[i,30,30*Oe],[o,1,Qe],[o,3,3*Qe],[o,6,6*Qe],[o,12,12*Qe],[s,1,ht],[s,2,2*ht],[n,1,gr],[t,1,fu],[t,3,3*fu],[e,1,br]];function c(e,t,n){const s=t<e;s&&([e,t]=[t,e]);const o=n&&typeof n.range=="function"?n:r(e,t,n),i=o?o.range(e,+t+1):[];return s?i.reverse():i}function r(t,n,s){const i=Math.abs(n-t)/s,o=y3(([,,e])=>e).right(a,i);if(o===a.length)return e.every(a3(t/br,n/br,s));if(o===0)return yi.every(Math.max(a3(t,n,s),1));const[r,c]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return r.every(c)}return[c,r]}var[ZV,JV]=wy(Wt,Yd,Qr,ru,du,hu),[aP,iP]=wy(et,Ys,ls,tn,Do,xo);function $d(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Vd(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jo(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function oP(e){var d=e.dateTime,h=e.date,u=e.time,r=e.periods,i=e.days,a=e.shortDays,o=e.months,c=e.shortMonths,x=Uo(r),O=Ko(r),w=Uo(i),y=Ko(i),j=Uo(a),b=Ko(a),p=Uo(o),g=Ko(o),v=Uo(c),f=Ko(c),n={a:z,A:D,b:N,B:L,c:null,d:cj,e:cj,f:RR,g:kR,G:CR,H:IR,I:HR,j:PR,L:tj,m:LR,M:NR,p:R,q:P,Q:I9,s:P9,S:DR,u:zR,U:TR,V:FR,w:MR,W:SR,x:null,X:null,y:AR,Y:ER,Z:xR,"%":X9},s={a:H,A:I,b:B,B:V,c:null,d:Bb,e:Bb,f:yR,g:dR,G:cR,H:OR,I:wR,j:_R,L:Lb,m:jR,M:bR,p:$,q:W,Q:I9,s:P9,S:vR,u:gR,U:pR,V:fR,w:mR,W:hR,x:null,X:null,y:uR,Y:lR,Z:rR,"%":X9},_={a:E,A:k,b:A,B:S,c:M,d:Pj,e:Pj,f:WR,g:qj,G:Qj,H:Sj,I:Sj,j:YR,L:UR,m:GR,M:qR,p:C,q:XR,Q:VR,s:BR,S:KR,u:tP,U:eP,V:JR,w:nP,W:ZR,x:F,X:T,y:qj,Y:Qj,Z:QR,"%":$R};n.x=t(h,n),n.X=t(u,n),n.c=t(d,n),s.x=t(h,s),s.X=t(u,s),s.c=t(d,s);function t(e,t){return function(n){var o,r,c,i=[],s=-1,a=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)e.charCodeAt(s)===37&&(i.push(e.slice(a,s)),(r=Id[o=e.charAt(++s)])!=null?o=e.charAt(++s):r=o==="e"?" ":"0",(c=t[o])&&(o=c(n,r)),i.push(o),a=s+1);return i.push(e.slice(a,s)),i.join("")}}function m(e,t){return function(n){var o,i,s=Jo(1900,void 0,1),a=l(s,e,n+="",0);if(a!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(s.s*1e3+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+s.p*12),s.m===void 0&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(o=Vd(Jo(s.y,0,1)),i=o.getUTCDay(),o=i>4||i===0?ja.ceil(o):ja(o),o=Fr.offset(o,(s.V-1)*7),s.y=o.getUTCFullYear(),s.m=o.getUTCMonth(),s.d=o.getUTCDate()+(s.w+6)%7):(o=$d(Jo(s.y,0,1)),i=o.getDay(),o=i>4||i===0?ii.ceil(o):ii(o),o=tn.offset(o,(s.V-1)*7),s.y=o.getFullYear(),s.m=o.getMonth(),s.d=o.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),i="Z"in s?Vd(Jo(s.y,0,1)).getUTCDay():$d(Jo(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+s.W*7-(i+5)%7:s.w+s.U*7-(i+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,Vd(s)):$d(s)}}function l(e,t,n,s){for(var o,a,i=0,r=t.length,c=n.length;i<r;){if(s>=c)return-1;if(o=t.charCodeAt(i++),o===37){if(o=t.charAt(i++),a=_[o in Id?t.charAt(i++):o],!a||(s=a(e,n,s))<0)return-1}else if(o!=n.charCodeAt(s++))return-1}return s}function C(e,t,n){var s=x.exec(t.slice(n));return s?(e.p=O.get(s[0].toLowerCase()),n+s[0].length):-1}function E(e,t,n){var s=j.exec(t.slice(n));return s?(e.w=b.get(s[0].toLowerCase()),n+s[0].length):-1}function k(e,t,n){var s=w.exec(t.slice(n));return s?(e.w=y.get(s[0].toLowerCase()),n+s[0].length):-1}function A(e,t,n){var s=v.exec(t.slice(n));return s?(e.m=f.get(s[0].toLowerCase()),n+s[0].length):-1}function S(e,t,n){var s=p.exec(t.slice(n));return s?(e.m=g.get(s[0].toLowerCase()),n+s[0].length):-1}function M(e,t,n){return l(e,d,t,n)}function F(e,t,n){return l(e,h,t,n)}function T(e,t,n){return l(e,u,t,n)}function z(e){return a[e.getDay()]}function D(e){return i[e.getDay()]}function N(e){return c[e.getMonth()]}function L(e){return o[e.getMonth()]}function R(e){return r[+(e.getHours()>=12)]}function P(e){return 1+~~(e.getMonth()/3)}function H(e){return a[e.getUTCDay()]}function I(e){return i[e.getUTCDay()]}function B(e){return c[e.getUTCMonth()]}function V(e){return o[e.getUTCMonth()]}function $(e){return r[+(e.getUTCHours()>=12)]}function W(e){return 1+~~(e.getUTCMonth()/3)}return{format:function(e){var s=t(e+="",n);return s.toString=function(){return e},s},parse:function(e){var t=m(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",s);return n.toString=function(){return e},n},utcParse:function(e){var t=m(e+="",!0);return t.toString=function(){return e},t}}}Id={"-":"",_:" ",0:"0"},I=/^\s*\d+/,by=/^%/,vy=/[\\^$*+?|[\]().{}]/g;function b(e,t,n){var o=e<0?"-":"",s=(o?-e:e)+"",i=s.length;return o+(i<n?new Array(n-i+1).join(t)+s:s)}function sP(e){return e.replace(vy,"\\$&")}function Uo(e){return new RegExp("^(?:"+e.map(sP).join("|")+")","i")}function Ko(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function nP(e,t,n){var s=I.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function tP(e,t,n){var s=I.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function eP(e,t,n){var s=I.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function JR(e,t,n){var s=I.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function ZR(e,t,n){var s=I.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function Qj(e,t,n){var s=I.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function qj(e,t,n){var s=I.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function QR(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function XR(e,t,n){var s=I.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function GR(e,t,n){var s=I.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function Pj(e,t,n){var s=I.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function YR(e,t,n){var s=I.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function Sj(e,t,n){var s=I.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function qR(e,t,n){var s=I.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function KR(e,t,n){var s=I.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function UR(e,t,n){var s=I.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function WR(e,t,n){var s=I.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function $R(e,t,n){var s=by.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function VR(e,t,n){var s=I.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function BR(e,t,n){var s=I.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function cj(e,t){return b(e.getDate(),t,2)}function IR(e,t){return b(e.getHours(),t,2)}function HR(e,t){return b(e.getHours()%12||12,t,2)}function PR(e,t){return b(1+tn.count(et(e),e),t,3)}function tj(e,t){return b(e.getMilliseconds(),t,3)}function RR(e,t){return tj(e,t)+"000"}function LR(e,t){return b(e.getMonth()+1,t,2)}function NR(e,t){return b(e.getMinutes(),t,2)}function DR(e,t){return b(e.getSeconds(),t,2)}function zR(e){var t=e.getDay();return t===0?7:t}function TR(e,t){return b(ls.count(et(e)-1,e),t,2)}function Yb(e){var t=e.getDay();return t>=4||t===0?xn(e):xn.ceil(e)}function FR(e,t){return e=Yb(e),b(xn.count(et(e),e)+(et(e).getDay()===4),t,2)}function MR(e){return e.getDay()}function SR(e,t){return b(ii.count(et(e)-1,e),t,2)}function AR(e,t){return b(e.getFullYear()%100,t,2)}function kR(e,t){return e=Yb(e),b(e.getFullYear()%100,t,2)}function ER(e,t){return b(e.getFullYear()%1e4,t,4)}function CR(e,t){var n=e.getDay();return e=n>=4||n===0?xn(e):xn.ceil(e),b(e.getFullYear()%1e4,t,4)}function xR(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+b(t/60|0,"0",2)+b(t%60,"0",2)}function Bb(e,t){return b(e.getUTCDate(),t,2)}function OR(e,t){return b(e.getUTCHours(),t,2)}function wR(e,t){return b(e.getUTCHours()%12||12,t,2)}function _R(e,t){return b(1+Fr.count(Wt(e),e),t,3)}function Lb(e,t){return b(e.getUTCMilliseconds(),t,3)}function yR(e,t){return Lb(e,t)+"000"}function jR(e,t){return b(e.getUTCMonth()+1,t,2)}function bR(e,t){return b(e.getUTCMinutes(),t,2)}function vR(e,t){return b(e.getUTCSeconds(),t,2)}function gR(e){var t=e.getUTCDay();return t===0?7:t}function pR(e,t){return b(Qr.count(Wt(e)-1,e),t,2)}function vb(e){var t=e.getUTCDay();return t>=4||t===0?os(e):os.ceil(e)}function fR(e,t){return e=vb(e),b(os.count(Wt(e),e)+(Wt(e).getUTCDay()===4),t,2)}function mR(e){return e.getUTCDay()}function hR(e,t){return b(ja.count(Wt(e)-1,e),t,2)}function uR(e,t){return b(e.getUTCFullYear()%100,t,2)}function dR(e,t){return e=vb(e),b(e.getUTCFullYear()%100,t,2)}function lR(e,t){return b(e.getUTCFullYear()%1e4,t,4)}function cR(e,t){var n=e.getUTCDay();return e=n>=4||n===0?os(e):os.ceil(e),b(e.getUTCFullYear()%1e4,t,4)}function rR(){return"+0000"}function X9(){return"%"}function I9(e){return+e}function P9(e){return Math.floor(+e/1e3)}sR({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sR(e){return js=oP(e),Kl=js.format,aR=js.parse,iR=js.utcFormat,oR=js.utcParse,js}function nR(e){return new Date(e)}function tR(e){return e instanceof Date?+e:+new Date(+e)}function E9(e,t,n,s,o,i,a,r,c,l){var d=s_(),h=d.invert,u=d.domain,m=l(".%L"),f=l(":%S"),p=l("%I:%M"),g=l("%I %p"),v=l("%a %d"),b=l("%b %d"),j=l("%B"),y=l("%Y");function _(e){return(c(e)<e?m:r(e)<e?f:a(e)<e?p:i(e)<e?g:s(e)<e?o(e)<e?v:b:n(e)<e?j:y)(e)}return d.invert=function(e){return new Date(h(e))},d.domain=function(e){return arguments.length?u(Array.from(e,tR)):u().map(nR)},d.ticks=function(t){var n=u();return e(n[0],n[n.length-1],t??10)},d.tickFormat=function(e,t){return t==null?_:l(t)},d.nice=function(e){var n=u();return(!e||typeof e.range!="function")&&(e=t(n[0],n[n.length-1],e??10)),e?u(HP(n,e)):d},d.copy=function(){return p_(d,E9(e,t,n,s,o,i,a,r,c,l))},d}function eR(){return Su.apply(E9(aP,iP,et,Ys,ls,tn,Do,xo,Un,Kl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function D(e){return function(){return e}}nd=Math.abs,Z=Math.atan2,qt=Math.cos,x9=Math.max,Tl=Math.min,Pe=Math.sin,Jn=Math.sqrt,ce=1e-12,Us=Math.PI,Vi=Us/2,Bi=2*Us;function JL(e){return e>1?0:e<-1?Us:Math.acos(e)}function v9(e){return e>=1?Vi:e<=-1?-Vi:Math.asin(e)}function g9(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new Ya(t)}function ZL(e){return e.innerRadius}function QL(e){return e.outerRadius}function XL(e){return e.startAngle}function GL(e){return e.endAngle}function YL(e){return e&&e.padAngle}function qL(e,t,n,s,o,i,a,r){var l=n-e,d=s-t,u=a-o,h=r-i,c=h*l-u*d;if(c*c<ce)return;return c=(u*(t-i)-h*(e-o))/c,[e+c*l,t+c*d]}function dl(e,t,n,s,o,i,a){var w=e-n,y=t-s,C=(a?i:-i)/Jn(w*w+y*y),j=C*y,b=-C*w,v=e+j,g=t+b,_=n+j,p=s+b,x=(v+_)/2,O=(g+p)/2,l=_-v,r=p-g,d=l*l+r*r,f=o-i,c=v*p-_*g,h=(r<0?-1:1)*Jn(x9(0,f*f*d-c*c)),m=(c*r-l*h)/d,u=(-c*l-r*h)/d,E=(c*r+l*h)/d,k=(-c*l+r*h)/d,A=m-x,S=u-O,M=E-x,F=k-O;return A*A+S*S>M*M+F*F&&(m=E,u=k),{cx:m,cy:u,x01:-j,y01:-b,x11:m*(o/f-1),y11:u*(o/f-1)}}function Od(){var n=ZL,i=QL,r=D(0),a=null,s=XL,o=GL,c=YL,e=null,l=g9(t);function t(){var z,W,u=+n.apply(this,arguments),h=+i.apply(this,arguments),f=s.apply(this,arguments)-Vi,p=o.apply(this,arguments)-Vi,M=nd(p-f),m=p>f;if(e||(e=z=l()),h<u&&(W=h,h=u,u=W),h>ce)if(M>Bi-ce)e.moveTo(h*qt(f),h*Pe(f)),e.arc(0,0,h,f,p,!m),u>ce&&(e.moveTo(u*qt(p),u*Pe(p)),e.arc(0,0,u,p,f,m));else{var t,d,O,k,w=f,E=p,C=f,x=p,R=M,L=M,N=c.apply(this,arguments)/2,D=N>ce&&(a?+a.apply(this,arguments):Jn(u*u+h*h)),j=Tl(nd(h-u)/2,+r.apply(this,arguments)),b=j,v=j;D>ce&&(O=v9(D/u*Pe(N)),k=v9(D/h*Pe(N)),(R-=O*2)>ce?(O*=m?1:-1,C+=O,x-=O):(R=0,C=x=(f+p)/2),(L-=k*2)>ce?(k*=m?1:-1,w+=k,E-=k):(L=0,w=E=(f+p)/2));var _=h*qt(w),y=h*Pe(w),F=u*qt(x),A=u*Pe(x);if(j>ce){var g,S=h*qt(E),T=h*Pe(E),P=u*qt(C),H=u*Pe(C);if(M<Us)if(g=qL(_,y,P,H,S,T,F,A)){var B=_-g[0],V=y-g[1],$=S-g[0],I=T-g[1],U=1/Pe(JL((B*$+V*I)/(Jn(B*B+V*V)*Jn($*$+I*I)))/2),K=Jn(g[0]*g[0]+g[1]*g[1]);b=Tl(j,(u-K)/(U-1)),v=Tl(j,(h-K)/(U+1))}else b=v=0}L>ce?v>ce?(t=dl(P,H,_,y,h,v,m),d=dl(S,T,F,A,h,v,m),e.moveTo(t.cx+t.x01,t.cy+t.y01),v<j?e.arc(t.cx,t.cy,v,Z(t.y01,t.x01),Z(d.y01,d.x01),!m):(e.arc(t.cx,t.cy,v,Z(t.y01,t.x01),Z(t.y11,t.x11),!m),e.arc(0,0,h,Z(t.cy+t.y11,t.cx+t.x11),Z(d.cy+d.y11,d.cx+d.x11),!m),e.arc(d.cx,d.cy,v,Z(d.y11,d.x11),Z(d.y01,d.x01),!m))):(e.moveTo(_,y),e.arc(0,0,h,w,E,!m)):e.moveTo(_,y),!(u>ce)||!(R>ce)?e.lineTo(F,A):b>ce?(t=dl(F,A,S,T,u,-b,m),d=dl(_,y,P,H,u,-b,m),e.lineTo(t.cx+t.x01,t.cy+t.y01),b<j?e.arc(t.cx,t.cy,b,Z(t.y01,t.x01),Z(d.y01,d.x01),!m):(e.arc(t.cx,t.cy,b,Z(t.y01,t.x01),Z(t.y11,t.x11),!m),e.arc(0,0,u,Z(t.cy+t.y11,t.cx+t.x11),Z(d.cy+d.y11,d.cx+d.x11),m),e.arc(d.cx,d.cy,b,Z(d.y11,d.x11),Z(d.y01,d.x01),!m))):e.arc(0,0,u,x,C,m)}else e.moveTo(0,0);if(e.closePath(),z)return e=null,z+""||null}return t.centroid=function(){var e=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,t=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2-Us/2;return[qt(t)*e,Pe(t)*e]},t.innerRadius=function(e){return arguments.length?(n=typeof e=="function"?e:D(+e),t):n},t.outerRadius=function(e){return arguments.length?(i=typeof e=="function"?e:D(+e),t):i},t.cornerRadius=function(e){return arguments.length?(r=typeof e=="function"?e:D(+e),t):r},t.padRadius=function(e){return arguments.length?(a=e==null?null:typeof e=="function"?e:D(+e),t):a},t.startAngle=function(e){return arguments.length?(s=typeof e=="function"?e:D(+e),t):s},t.endAngle=function(e){return arguments.length?(o=typeof e=="function"?e:D(+e),t):o},t.padAngle=function(e){return arguments.length?(c=typeof e=="function"?e:D(+e),t):c},t.context=function(n){return arguments.length?(e=n??null,t):e},t}KL=Array.prototype.slice;function i9(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function o9(e){this._context=e}o9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function we(e){return new o9(e)}function UL(e){return e[0]}function WL(e){return e[1]}function uo(e,t){var a=D(!0),o=null,i=we,s=null,r=g9(n);e=typeof e=="function"?e:e===void 0?UL:D(e),t=typeof t=="function"?t:t===void 0?WL:D(t);function n(n){var c,d,u,h=(n=i9(n)).length,l=!1;o==null&&(s=i(u=r()));for(c=0;c<=h;++c)!(c<h&&a(d=n[c],c,n))===l&&((l=!l)?s.lineStart():s.lineEnd()),l&&s.point(+e(d,c,n),+t(d,c,n));if(u)return s=null,u+""||null}return n.x=function(t){return arguments.length?(e=typeof t=="function"?t:D(+t),n):e},n.y=function(e){return arguments.length?(t=typeof e=="function"?e:D(+e),n):t},n.defined=function(e){return arguments.length?(a=typeof e=="function"?e:D(!!e),n):a},n.curve=function(e){return arguments.length?(i=e,o!=null&&(s=i(o)),n):i},n.context=function(e){return arguments.length?(e==null?o=s=null:s=i(o=e),n):o},n}function $L(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function VL(e){return e}function BL(){var a=VL,t=$L,n=null,s=D(0),o=D(Bi),i=D(0);function e(e){var r,d,m,f,v,c=(e=i9(e)).length,p=0,u=new Array(c),l=new Array(c),h=+s.apply(this,arguments),g=Math.min(Bi,Math.max(-Bi,o.apply(this,arguments)-h)),b=Math.min(Math.abs(g)/c,i.apply(this,arguments)),j=b*(g<0?-1:1);for(r=0;r<c;++r)(d=l[u[r]=r]=+a(e[r],r,e))>0&&(p+=d);t!=null?u.sort(function(e,n){return t(l[e],l[n])}):n!=null&&u.sort(function(t,s){return n(e[t],e[s])});for(r=0,v=p?(g-c*j)/p:0;r<c;++r,h=f)m=u[r],d=l[m],f=h+(d>0?d*v:0)+j,l[m]={data:e[m],index:r,value:d,startAngle:h,endAngle:f,padAngle:b};return l}return e.value=function(t){return arguments.length?(a=typeof t=="function"?t:D(+t),e):a},e.sortValues=function(s){return arguments.length?(t=s,n=null,e):t},e.sort=function(s){return arguments.length?(n=s,t=null,e):n},e.startAngle=function(t){return arguments.length?(s=typeof t=="function"?t:D(+t),e):s},e.endAngle=function(t){return arguments.length?(o=typeof t=="function"?t:D(+t),e):o},e.padAngle=function(t){return arguments.length?(i=typeof t=="function"?t:D(+t),e):i},e}function Kc(){}function Vc(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Jv(e){this._context=e}Jv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _o(e){return new Jv(e)}function Zv(e){this._context=e}Zv.prototype={areaStart:Kc,areaEnd:Kc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Vc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function IL(e){return new Zv(e)}function Gv(e){this._context=e}Gv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:Vc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HL(e){return new Gv(e)}function Uv(e){this._context=e}Uv.prototype={areaStart:Kc,areaEnd:Kc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function PL(e){return new Uv(e)}function Bv(e){return e<0?-1:1}function Iv(e,t,n){var s=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(s||o<0&&-0),a=(n-e._y1)/(o||s<0&&-0),r=(i*o+a*s)/(s+o);return(Bv(i)+Bv(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(r))||0}function Hv(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function qd(e,t,n){var i=e._x0,r=e._y0,o=e._x1,a=e._y1,s=(o-i)/3;e._context.bezierCurveTo(i+s,r+s*t,o-s,a-s*n,o,a)}function mc(e){this._context=e}mc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qd(this,this._t0,Hv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,e===this._x1&&t===this._y1)return;switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qd(this,Hv(this,n=Iv(this,e,t)),n);break;default:qd(this,this._t0,n=Iv(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}};function Lv(e){this._context=new Dv(e)}(Lv.prototype=Object.create(mc.prototype)).point=function(e,t){mc.prototype.point.call(this,t,e)};function Dv(e){this._context=e}Dv.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,o,i){this._context.bezierCurveTo(t,e,s,n,i,o)}};function RL(e){return new mc(e)}function LL(e){return new Lv(e)}function zv(e){this._context=e}zv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t,s,i,a,e=this._x,n=this._y,o=e.length;if(o)if(this._line?this._context.lineTo(e[0],n[0]):this._context.moveTo(e[0],n[0]),o===2)this._context.lineTo(e[1],n[1]);else{i=Tv(e),a=Tv(n);for(t=0,s=1;s<o;++t,++s)this._context.bezierCurveTo(i[0][t],a[0][t],i[1][t],a[1][t],e[s],n[s])}(this._line||this._line!==0&&o===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Tv(e){var t,a,n=e.length-1,s=new Array(n),o=new Array(n),i=new Array(n);s[0]=0,o[0]=2,i[0]=e[0]+2*e[1];for(t=1;t<n-1;++t)s[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];s[n-1]=2,o[n-1]=7,i[n-1]=8*e[n-1]+e[n];for(t=1;t<n;++t)a=s[t]/o[t-1],o[t]-=a,i[t]-=a*i[t-1];s[n-1]=i[n-1]/o[n-1];for(t=n-2;t>=0;--t)s[t]=(i[t]-s[t+1])/o[t];o[n-1]=(e[n]+s[n-1])/2;for(t=0;t<n-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function NL(e){return new zv(e)}function qr(e,t){this._context=e,this._t=t}qr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function DL(e){return new qr(e,.5)}function zL(e){return new qr(e,0)}function TL(e){return new qr(e,1)}function ao(e,t,n){this.k=e,this.x=t,this.y=n}ao.prototype={constructor:ao,scale:function(e){return e===1?this:new ao(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ao(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},kv=new ao(1,0,0),FL.prototype=ao.prototype;function FL(e){for(;!e.__zoom;)if(!(e=e.parentNode))return kv;return e.__zoom}Ao=Wl(sS(),1),qo={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e),hsl2rgb:({h:e,s:t,l:n},s)=>{if(!t)return n*2.55;e/=360,t/=100,n/=100;const o=n<.5?n*(1+t):n+t-n*t,i=2*n-o;switch(s){case"r":return qo.hue2rgb(i,o,e+1/3)*255;case"g":return qo.hue2rgb(i,o,e)*255;case"b":return qo.hue2rgb(i,o,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:n},s)=>{e/=255,t/=255,n/=255;const o=Math.max(e,t,n),i=Math.min(e,t,n),r=(o+i)/2;if(s==="l")return r*100;if(o===i)return 0;const a=o-i,c=r>.5?a/(2-o-i):a/(o+i);if(s==="s")return c*100;switch(o){case e:return((t-n)/a+(t<n?6:0))*60;case t:return((n-e)/a+2)*60;case n:return((e-t)/a+4)*60;default:return-1}}},gv=qo,pv={clamp:(e,t,n)=>t>n?Math.min(t,Math.max(n,e)):Math.min(n,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},hv=pv,ov={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},X7=ov,K7={channel:gv,lang:hv,unit:X7},g=K7,Ft={};for(let e=0;e<=255;e++)Ft[e]=g.unit.dec2hex(e);Y={ALL:0,RGB:1,HSL:2},U7=class{constructor(){this.type=Y.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Y.ALL}is(e){return this.type===e}},$7=U7,V7=class{constructor(e,t){this.color=t,this.changed=!1,this.data=e,this.type=new $7}set(e,t){return this.color=t,this.changed=!1,this.data=e,this.type.type=Y.ALL,this}_ensureHSL(){const e=this.data,{h:t,s:n,l:s}=e;t===void 0&&(e.h=g.channel.rgb2hsl(e,"h")),n===void 0&&(e.s=g.channel.rgb2hsl(e,"s")),s===void 0&&(e.l=g.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:t,g:n,b:s}=e;t===void 0&&(e.r=g.channel.hsl2rgb(e,"r")),n===void 0&&(e.g=g.channel.hsl2rgb(e,"g")),s===void 0&&(e.b=g.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,t=e.r;return!this.type.is(Y.HSL)&&t!==void 0?t:(this._ensureHSL(),g.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,t=e.g;return!this.type.is(Y.HSL)&&t!==void 0?t:(this._ensureHSL(),g.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,t=e.b;return!this.type.is(Y.HSL)&&t!==void 0?t:(this._ensureHSL(),g.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,t=e.h;return!this.type.is(Y.RGB)&&t!==void 0?t:(this._ensureRGB(),g.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,t=e.s;return!this.type.is(Y.RGB)&&t!==void 0?t:(this._ensureRGB(),g.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,t=e.l;return!this.type.is(Y.RGB)&&t!==void 0?t:(this._ensureRGB(),g.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Y.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Y.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Y.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Y.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Y.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Y.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}},B7=V7,H7=new B7({r:0,g:0,b:0,a:0},"transparent"),ma=H7,Eu={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const c=e.match(Eu.re);if(!c)return;const l=c[1],n=parseInt(l,16),d=l.length,r=d%4===0,i=d>4,t=i?1:17,o=i?8:4,a=r?0:-1,s=i?255:15;return ma.set({r:(n>>o*(a+3)&s)*t,g:(n>>o*(a+2)&s)*t,b:(n>>o*(a+1)&s)*t,a:r?(n&s)*t/255:1},e)},stringify:e=>{const{r:t,g:n,b:s,a:o}=e;return o<1?`#${Ft[Math.round(t)]}${Ft[Math.round(n)]}${Ft[Math.round(s)]}${Ft[Math.round(o*255)]}`:`#${Ft[Math.round(t)]}${Ft[Math.round(n)]}${Ft[Math.round(s)]}`}},Os=Eu,xa={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(xa.hueRe);if(t){const[,e,n]=t;switch(n){case"grad":return g.channel.clamp.h(parseFloat(e)*.9);case"rad":return g.channel.clamp.h(parseFloat(e)*180/Math.PI);case"turn":return g.channel.clamp.h(parseFloat(e)*360)}}return g.channel.clamp.h(parseFloat(e))},parse:e=>{const n=e.charCodeAt(0);if(n!==104&&n!==72)return;const s=e.match(xa.re);if(!s)return;const[,o,i,a,t,r]=s;return ma.set({h:xa._hue2deg(o),s:g.channel.clamp.s(parseFloat(i)),l:g.channel.clamp.l(parseFloat(a)),a:t?g.channel.clamp.a(r?parseFloat(t)/100:parseFloat(t)):1},e)},stringify:e=>{const{h:t,s:n,l:s,a:o}=e;return o<1?`hsla(${g.lang.round(t)}, ${g.lang.round(n)}%, ${g.lang.round(s)}%, ${o})`:`hsl(${g.lang.round(t)}, ${g.lang.round(n)}%, ${g.lang.round(s)}%)`}},Ca=xa,Fa={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=Fa.colors[e];if(!t)return;return Os.parse(t)},stringify:e=>{const t=Os.stringify(e);for(const e in Fa.colors)if(Fa.colors[e]===t)return e}},Fu=Fa,Tu={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const n=e.charCodeAt(0);if(n!==114&&n!==82)return;const s=e.match(Tu.re);if(!s)return;const[,a,r,o,c,i,l,t,d]=s;return ma.set({r:g.channel.clamp.r(r?parseFloat(a)*2.55:parseFloat(a)),g:g.channel.clamp.g(c?parseFloat(o)*2.55:parseFloat(o)),b:g.channel.clamp.b(l?parseFloat(i)*2.55:parseFloat(i)),a:t?g.channel.clamp.a(d?parseFloat(t)/100:parseFloat(t)):1},e)},stringify:e=>{const{r:t,g:n,b:s,a:o}=e;return o<1?`rgba(${g.lang.round(t)}, ${g.lang.round(n)}, ${g.lang.round(s)}, ${g.lang.round(o)})`:`rgb(${g.lang.round(t)}, ${g.lang.round(n)}, ${g.lang.round(s)})`}},Da=Tu,P7={format:{keyword:Fu,hex:Os,rgb:Da,rgba:Da,hsl:Ca,hsla:Ca},parse:e=>{if(typeof e!="string")return e;const t=Os.parse(e)||Da.parse(e)||Ca.parse(e)||Fu.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(Y.HSL)||e.data.r===void 0?Ca.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?Da.stringify(e):Os.stringify(e)},wt=P7,F7=(e,t)=>{const n=wt.parse(e);for(const e in t)n[e]=g.channel.clamp[e](t[e]);return wt.stringify(n)},Ru=F7,C7=(e,t,n=0,s=1)=>{if(typeof e!="number")return Ru(e,{a:t});const o=ma.set({r:g.channel.clamp.r(e),g:g.channel.clamp.g(t),b:g.channel.clamp.b(n),a:g.channel.clamp.a(s)});return wt.stringify(o)},ps=C7,g7=(e,t,n)=>{const s=wt.parse(e),o=s[t],i=g.channel.clamp[t](o+n);return o!==i&&(s[t]=i),wt.stringify(s)},Bu=g7,f7=(e,t)=>Bu(e,"l",t),u=f7,h7=(e,t)=>Bu(e,"l",-t),f=h7,d7=(e,t)=>{const s=wt.parse(e),n={};for(const e in t){if(!t[e])continue;n[e]=s[e]+t[e]}return Ru(e,n)},s=d7,c7=(e,t,n=50)=>{const{r:d,g,b:p,a:c}=wt.parse(e),{r:m,g:h,b:u,a:l}=wt.parse(t),i=n/100,o=i*2-1,r=c-l,f=o*r===-1?o:(o+r)/(1+o*r),s=(f+1)/2,a=1-s,v=d*s+m*a,b=g*s+h*a,j=p*s+u*a,y=c*i+l*(1-i);return ps(v,b,j,y)},a7=c7,o7=(e,t=100)=>{const n=wt.parse(e);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,a7(n,e,t)},r=o7,n7=typeof global=="object"&&global&&global.Object===Object&&global,Ju=n7,t7=typeof self=="object"&&self&&self.Object===Object&&self,e7=Ju||t7||Function("return this")(),De=e7,Y5=De.Symbol,_e=Y5,i1=Object.prototype,B5=i1.hasOwnProperty,P5=i1.toString,Gs=_e?_e.toStringTag:void 0;function ML(e){var t,n,s=B5.call(e,Gs),o=e[Gs];try{e[Gs]=void 0,t=!0}catch{}return n=P5.call(e),t&&(s?e[Gs]=o:delete e[Gs]),n}D5=ML,T5=Object.prototype,F5=T5.toString;function SL(e){return F5.call(e)}k5=SL,y5="[object Null]",g5="[object Undefined]",v1=_e?_e.toStringTag:void 0;function AL(e){return e==null?e===void 0?g5:y5:v1&&v1 in Object(e)?D5(e):k5(e)}Vt=AL;function kL(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}de=kL,l5="[object AsyncFunction]",i5="[object Function]",n5="[object GeneratorFunction]",e5="[object Proxy]";function EL(e){if(!de(e))return!1;var t=Vt(e);return t==i5||t==n5||t==l5||t==e5}Tn=EL,sv=De["__core-js_shared__"],pr=sv,M1=function(){var e=/[^.]+$/.exec(pr&&pr.keys&&pr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xL(e){return!!M1&&M1 in e}Kg=xL,Wg=Function.prototype,Ig=Wg.toString;function OL(e){if(e!=null){try{return Ig.call(e)}catch{}try{return e+""}catch{}}return""}dn=OL,Dg=/[\\^$.*+?()[\]{}|]/g,Ag=/^\[object .+?Constructor\]$/,Cg=Function.prototype,wg=Object.prototype,yg=Cg.toString,jg=wg.hasOwnProperty,pg=RegExp("^"+yg.call(jg).replace(Dg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wL(e){if(!de(e)||Kg(e))return!1;var t=Tn(e)?pg:Ag;return t.test(dn(e))}mg=wL;function _L(e,t){return e?.[t]}og=_L;function yL(e,t){var n=og(e,t);return mg(n)?n:void 0}un=yL,eg=un(Object,"create"),To=eg;function jL(){this.__data__=To?To(null):{},this.size=0}Qp=jL;function bL(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}Vp=bL,Bp="__lodash_hash_undefined__",Ip=Object.prototype,Ep=Ip.hasOwnProperty;function vL(e){var n,t=this.__data__;return To?(n=t[e],n===Bp?void 0:n):Ep.call(t,e)?t[e]:void 0}wp=vL,bp=Object.prototype,vp=bp.hasOwnProperty;function gL(e){var t=this.__data__;return To?t[e]!==void 0:vp.call(t,e)}fp=gL,mp="__lodash_hash_undefined__";function pL(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=To&&t===void 0?mp:t,this}np=pL;function bo(e){var t,n=-1,s=e==null?0:e.length;for(this.clear();++n<s;)t=e[n],this.set(t[0],t[1])}bo.prototype.clear=Qp,bo.prototype.delete=Vp,bo.prototype.get=wp,bo.prototype.has=fp,bo.prototype.set=np,p4=bo;function fL(){this.__data__=[],this.size=0}J6=fL;function mL(e,t){return e===t||e!==e&&t!==t}An=mL;function hL(e,t){for(var n=e.length;n--;)if(An(e[n][0],t))return n;return-1}ci=hL,F6=Array.prototype,E6=F6.splice;function uL(e){var s,t=this.__data__,n=ci(t,e);return!(n<0)&&(s=t.length-1,n==s?t.pop():E6.call(t,n,1),--this.size,!0)}b6=uL;function dL(e){var t=this.__data__,n=ci(t,e);return n<0?void 0:t[n][1]}f6=dL;function lL(e){return ci(this.__data__,e)>-1}h6=lL;function qV(e,t){var n=this.__data__,s=ci(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}d6=qV;function Ws(e){var t,n=-1,s=e==null?0:e.length;for(this.clear();++n<s;)t=e[n],this.set(t[0],t[1])}Ws.prototype.clear=J6,Ws.prototype.delete=b6,Ws.prototype.get=f6,Ws.prototype.has=h6,Ws.prototype.set=d6,Ki=Ws,l6=un(De,"Map"),Ds=l6;function rL(){this.size=0,this.__data__={hash:new p4,map:new(Ds||Ki),string:new p4}}r6=rL;function aL(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}Bf=aL;function iL(e,t){var n=e.__data__;return Bf(t)?n[typeof t=="string"?"string":"hash"]:n.map}ya=iL;function oL(e){var t=ya(this,e).delete(e);return this.size-=t?1:0,t}Rf=oL;function sL(e){return ya(this,e).get(e)}Lf=sL;function nL(e){return ya(this,e).has(e)}Ff=nL;function tL(e,t){var n=ya(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}Sf=tL;function hs(e){var t,n=-1,s=e==null?0:e.length;for(this.clear();++n<s;)t=e[n],this.set(t[0],t[1])}hs.prototype.clear=r6,hs.prototype.delete=Rf,hs.prototype.get=Lf,hs.prototype.has=Ff,hs.prototype.set=Sf,wi=hs,Af="Expected a function";function J4(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Af);var n=function(){var a,o=arguments,i=t?t.apply(this,o):o[0],s=n.cache;return s.has(i)?s.get(i):(a=e.apply(this,o),n.cache=s.set(i,a)||s,a)};return n.cache=new(J4.Cache||wi),n}J4.Cache=wi,za=J4,t0="comm",n0="rule",s0="decl",Cf="@import",wf="@keyframes",_f=Math.abs,ac=String.fromCharCode;function pf(e){return e.trim()}function l0(e,t,n){return e.replace(t,n)}function eL(e,t){return e.indexOf(t)}function ra(e,t){return e.charCodeAt(t)|0}function aa(e,t,n){return e.slice(t,n)}function Jt(e){return e.length}function ff(e){return e.length}function lc(e,t){return t.push(e),e}Ri=1,Pn=1,b0=0,be=0,N=0,Mn="";function w0(e,t,n,s,o,i,a){return{value:e,root:t,parent:n,type:s,props:o,children:i,line:Ri,column:Pn,length:a,return:""}}function JN(){return N}function ZN(){return N=be>0?ra(Mn,--be):0,(Pn--,N===10)&&(Pn=1,Ri--),N}function qe(){return N=be<b0?ra(Mn,be++):0,(Pn++,N===10)&&(Pn=1,Ri++),N}function Cn(){return ra(Mn,be)}function fc(){return be}function pc(e,t){return aa(Mn,e,t)}function S0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QN(e){return Ri=Pn=1,b0=Jt(Mn=e),be=0,[]}function XN(e){return Mn="",e}function T0(e){return pf(pc(be-1,N0(e===91?e+2:e===40?e+1:e)))}function GN(e){for(;N=Cn();)if(N<33)qe();else break;return S0(e)>2||S0(N)>3?"":" "}function YN(e,t){for(;--t&&qe();)if(N<48||N>102||N>57&&N<65||N>70&&N<97)break;return pc(e,fc()+(t<6&&Cn()==32&&qe()==32))}function N0(e){for(;qe();)switch(N){case e:return be;case 34:case 39:e!==34&&e!==39&&N0(N);break;case 40:e===41&&N0(e);break;case 92:qe();break}return be}function qN(e,t){for(;qe();){if(e+N===47+10)break;if(e+N===42+42&&Cn()===47)break}return"/*"+pc(t,be-1)+"*"+ac(e===47?e:qe())}function KN(e){for(;!S0(Cn());)qe();return pc(e,be)}function UN(e){return XN(Fc("",null,null,null,[""],e=QN(e),0,[0],e))}function Fc(e,t,n,s,o,i,a,r,c){for(var j=0,p=0,d=a,w=0,_=0,v=0,m=1,O=1,g=1,u=0,b="",y=o,f=i,h=s,l=b;O;)switch(v=u,u=qe()){case 40:if(v!=108&&ra(l,d-1)==58){eL(l+=l0(T0(u),"&","&"),"&")!=-1&&(g=-1);break}case 34:case 39:case 91:l+=T0(u);break;case 9:case 10:case 13:case 32:l+=GN(v);break;case 92:l+=YN(fc()-1,7);continue;case 47:switch(Cn()){case 42:case 47:lc(WN(qN(qe(),fc()),t,n),c);break;default:l+="/"}break;case 123*m:r[j++]=Jt(l)*g;case 125*m:case 59:case 0:switch(u){case 0:case 125:O=0;case 59+p:_>0&&Jt(l)-d&&lc(_>32?Q8(l+";",s,n,d-1):Q8(l0(l," ","")+";",s,n,d-2),c);break;case 59:l+=";";default:if(lc(h=J8(l,t,n,j,p,o,r,b,y=[],f=[],d),i),u===123)if(p===0)Fc(l,t,h,h,y,i,d,r,f);else switch(w===99&&ra(l,3)===110?100:w){case 100:case 109:case 115:Fc(e,h,h,s&&lc(J8(e,h,h,0,0,o,r,b,o,y=[],d),f),o,f,d,r,s?y:f);break;default:Fc(l,h,h,h,[""],f,0,r,f)}}j=p=_=0,m=g=1,b=l="",d=a;break;case 58:d=1+Jt(l),_=v;default:if(m<1)if(u==123)--m;else if(u==125&&m++==0&&ZN()==125)continue;switch(l+=ac(u),u*m){case 38:g=p>0?1:(l+="",-1);break;case 44:r[j++]=(Jt(l)-1)*g,g=1;break;case 64:Cn()===45&&(l+=T0(qe())),w=Cn(),p=d=Jt(b=l+=KN(fc())),u++;break;case 45:v===45&&Jt(l)==2&&(m=0)}}return i}function J8(e,t,n,s,o,i,a,r,c,l,d){f=o-1,h=o===0?i:[""],p=ff(h);for(var h,f,p,m=0,g=0,j=0;m<s;++m)for(var u=0,v=aa(e,f+1,f=_f(g=a[m])),b=e;u<p;++u)(b=pf(g>0?h[u]+" "+v:l0(v,/&\f/g,h[u])))&&(c[j++]=b);return w0(e,t,n,o===0?n0:r,c,l,d)}function WN(e,t,n){return w0(e,t,n,t0,ac(JN()),aa(e,2,-2),0)}function Q8(e,t,n,s){return w0(e,t,n,s0,aa(e,0,s),aa(e,s+1,-1),s)}function $0(e,t){for(var s="",o=ff(e),n=0;n<o;n++)s+=t(e[n],n,e,t)||"";return s}function $N(e,t,n,s){switch(e.type){case Cf:case s0:return e.return=e.return||e.value;case t0:return"";case wf:return e.return=e.value+"{"+$0(e.children,s)+"}";case n0:e.value=e.props.join(",")}return Jt(n=$0(e.children,s))?e.return=e.value+"{"+n+"}":""}Rc={},A3(Rc,{run:()=>IT,undo:()=>PT});function VN(e){return e!=null&&typeof e=="object"}Te=VN,X8="[object Symbol]";function BN(e){return typeof e=="symbol"||Te(e)&&Vt(e)==X8}nn=BN;function IN(e,t){for(var n=-1,s=e==null?0:e.length,o=Array(s);++n<s;)o[n]=t(e[n],n,e);return o}bn=IN,I8=Array.isArray,S=I8,R8=1/0,n2=_e?_e.prototype:void 0,s2=n2?n2.toString:void 0;function N8(e){if(typeof e=="string")return e;if(S(e))return bn(e,N8)+"";if(nn(e))return s2?s2.call(e):"";var t=e+"";return t=="0"&&1/e==-R8?"-0":t}z8=N8,F8=/\s/;function HN(e){for(var t=e.length;t--&&F8.test(e.charAt(t)););return t}M8=HN,A8=/^\s+/;function PN(e){return e&&e.slice(0,M8(e)+1).replace(A8,"")}w8=PN,h2=0/0,_8=/^[-+]0x[0-9a-f]+$/i,c8=/^0b[01]+$/i,Qm=/^0o[0-7]+$/i,qm=parseInt;function RN(e){if(typeof e=="number")return e;if(nn(e))return h2;if(de(e)){var n,t=typeof e.valueOf=="function"?e.valueOf():e;e=de(t)?t+"":t}return typeof e!="string"?e===0?e:+e:(e=w8(e),n=c8.test(e),n||Qm.test(e)?qm(e.slice(2),n?2:8):_8.test(e)?h2:+e)}Hm=RN,j2=1/0,Rm=17976931348623157e292;function LN(e){if(!e)return e===0?e:0;if(e=Hm(e),e===j2||e===-j2){var t=e<0?-1:1;return t*Rm}return e===e?e:0}bi=LN;function NN(e){var t=bi(e),n=t%1;return t===t?n?t-n:t:0}Am=NN;function DN(e){return e}cn=DN,Om=un(De,"WeakMap"),cl=Om,S2=Object.create,_m=function(){function e(){}return function(t){if(!de(t))return{};if(S2)return S2(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),ym=_m;function zN(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}hm=zN;function TN(){}rm=TN;function FN(e,t){var n=-1,s=e.length;for(t||(t=Array(s));++n<s;)t[n]=e[n];return t}R2=FN,tm=800,em=16,Jh=Date.now;function MN(e){var t=0,n=0;return function(){var s=Jh(),o=em-(s-n);if(n=s,o>0){if(++t>=tm)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}Zh=MN;function SN(e){return function(){return e}}Nt=SN,Qh=function(){try{var e=un(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Wi=Qh,Kh=Wi?function(e,t){return Wi(e,"toString",{configurable:!0,enumerable:!1,value:Nt(t),writable:!0})}:cn,Wh=Kh,Ih=Zh(Wh),X2=Ih;function AN(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e)===!1)break;return e}Z2=AN;function kN(e,t,n,s){for(var i=e.length,o=n+(s?1:-1);s?o--:++o<i;)if(t(e[o],o,e))return o;return-1}e3=kN;function EN(e){return e!==e}Nh=EN;function CN(e,t,n){for(var s=n-1,o=e.length;++s<o;)if(e[s]===t)return s;return-1}Th=CN;function xN(e,t,n){return t===t?Th(e,t,n):e3(e,Nh,n)}Fh=xN;function ON(e,t){var n=e==null?0:e.length;return!!n&&Fh(e,t,0)>-1}Ah=ON,kh=9007199254740991,nh=/^(?:0|[1-9]\d*)$/;function wN(e,t){var n=typeof e;return t=t??kh,!!t&&(n=="number"||n!="symbol"&&nh.test(e))&&e>-1&&e%1==0&&e<t}ua=wN;function _N(e,t,n){t=="__proto__"&&Wi?Wi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}ha=_N,Q3=Object.prototype,X3=Q3.hasOwnProperty;function yN(e,t,n){var s=e[t];(!X3.call(e,t)||!An(s,n)||n===void 0&&!(t in e))&&ha(e,t,n)}pa=yN;function jN(e,t,n,s){a=!n,n||(n={});for(var o,i,a,r=-1,c=t.length;++r<c;)o=t[r],i=s?s(n[o],e[o],o,n,e):void 0,i===void 0&&(i=e[o]),a?ha(n,o,i):pa(n,o,i);return n}ks=jN,_3=Math.max;function bN(e,t,n){return t=_3(t===void 0?e.length-1:t,0),function(){for(var o,i=arguments,s=-1,a=_3(i.length-t,0),r=Array(a);++s<a;)r[s]=i[t+s];for(s=-1,o=Array(t+1);++s<t;)o[s]=i[s];return o[t]=n(r),hm(e,this,o)}}O3=bN;function vN(e,t){return X2(O3(e,t,cn),e+"")}Ea=vN,V3=9007199254740991;function gN(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=V3}Ul=gN;function pN(e){return e!=null&&Ul(e.length)&&!Tn(e)}mt=pN;function fN(e,t,n){if(!de(n))return!1;var s=typeof t;return!!(s=="number"?mt(n)&&ua(t,n.length):s=="string"&&t in n)&&An(n[t],e)}fs=fN;function mN(e){return Ea(function(t,n){var a,i=-1,s=n.length,o=s>1?n[s-1]:void 0,r=s>2?n[2]:void 0,o=e.length>3&&typeof o=="function"?(s--,o):void 0;for(r&&fs(n[0],n[1],r)&&(o=s<3?void 0:o,s=1),t=Object(t);++i<s;)a=n[i],a&&e(t,a,i,o);return t})}L3=mN,N3=Object.prototype;function hN(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||N3;return e===n}$i=hN;function uN(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}H3=uN,I3="[object Arguments]";function dN(e){return Te(e)&&Vt(e)==I3}E3=dN,x3=Object.prototype,W3=x3.hasOwnProperty,U3=x3.propertyIsEnumerable,K3=E3(function(){return arguments}())?E3:function(e){return Te(e)&&W3.call(e,"callee")&&!U3.call(e,"callee")},rs=K3;function lN(){return!1}G3=lN,g3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,p3=g3&&typeof module=="object"&&module&&!module.nodeType&&module,Z3=p3&&p3.exports===g3,u3=Z3?De.Buffer:void 0,eh=u3?u3.isBuffer:void 0,th=eh||G3,_n=th,sh="[object Arguments]",oh="[object Array]",ih="[object Boolean]",ah="[object Date]",rh="[object Error]",ch="[object Function]",lh="[object Map]",dh="[object Number]",uh="[object Object]",hh="[object RegExp]",mh="[object Set]",fh="[object String]",ph="[object WeakMap]",gh="[object ArrayBuffer]",vh="[object DataView]",bh="[object Float32Array]",jh="[object Float64Array]",yh="[object Int8Array]",_h="[object Int16Array]",wh="[object Int32Array]",Oh="[object Uint8Array]",xh="[object Uint8ClampedArray]",Ch="[object Uint16Array]",Eh="[object Uint32Array]",y={},y[bh]=y[jh]=y[yh]=y[_h]=y[wh]=y[Oh]=y[xh]=y[Ch]=y[Eh]=!0,y[sh]=y[oh]=y[gh]=y[ih]=y[vh]=y[ah]=y[rh]=y[ch]=y[lh]=y[dh]=y[uh]=y[hh]=y[mh]=y[fh]=y[ph]=!1;function cN(e){return Te(e)&&Ul(e.length)&&!!y[Vt(e)]}Sh=cN;function rN(e){return function(t){return e(t)}}oa=rN,o3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ps=o3&&typeof module=="object"&&module&&!module.nodeType&&module,Dh=Ps&&Ps.exports===o3,kl=Dh&&Ju.process,Lh=function(){try{var e=Ps&&Ps.require&&Ps.require("util").types;return e||kl&&kl.binding&&kl.binding("util")}catch{}}(),Xn=Lh,Q2=Xn&&Xn.isTypedArray,Hh=Q2?oa(Q2):Sh,qi=Hh,Bh=Object.prototype,Vh=Bh.hasOwnProperty;function aN(e,t){var n,s=S(e),a=!s&&rs(e),o=!s&&!a&&_n(e),r=!s&&!a&&!o&&qi(e),c=s||a||o||r,i=c?H3(e.length,String):[],l=i.length;for(n in e)(t||Vh.call(e,n))&&!(c&&(n=="length"||o&&(n=="offset"||n=="parent")||r&&(n=="buffer"||n=="byteLength"||n=="byteOffset")||ua(n,l)))&&i.push(n);return i}Y2=aN;function iN(e,t){return function(n){return e(t(n))}}q2=iN,qh=q2(Object.keys,Object),Yh=qh,Gh=Object.prototype,Xh=Gh.hasOwnProperty;function oN(e){if(!$i(e))return Yh(e);var t,n=[];for(t in Object(e))Xh.call(e,t)&&t!="constructor"&&n.push(t);return n}wl=oN;function sN(e){return mt(e)?Y2(e):wl(e)}me=sN;function nN(e){var n,t=[];if(e!=null)for(n in Object(e))t.push(n);return t}nm=nN,sm=Object.prototype,om=sm.hasOwnProperty;function tN(e){if(!de(e))return nm(e);var t,s=$i(e),n=[];for(t in e)t=="constructor"&&(s||!om.call(e,t))||n.push(t);return n}am=tN;function eN(e){return mt(e)?Y2(e,!0):am(e)}gn=eN,lm=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dm=/^\w*$/;function JD(e,t){if(S(e))return!1;var n=typeof e;return!!(n=="number"||n=="symbol"||n=="boolean"||e==null||nn(e))||dm.test(e)||!lm.test(e)||t!=null&&e in Object(t)}ul=JD,mm=500;function ZD(e){var t=za(e,function(e){return n.size===mm&&n.clear(),e}),n=t.cache;return t}pm=ZD,gm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vm=/\\(\\)?/g,bm=pm(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(gm,function(e,n,s,o){t.push(s?o.replace(vm,"$1"):n||e)}),t}),jm=bm;function QD(e){return e==null?"":z8(e)}M2=QD;function XD(e,t){return S(e)?e:ul(e,t)?[e]:jm(M2(e))}Oi=XD,xm=1/0;function GD(e){if(typeof e=="string"||nn(e))return e;var t=e+"";return t=="0"&&1/e==-xm?"-0":t}so=GD;function YD(e,t){t=Oi(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[so(t[n++])];return n&&n==s?e:void 0}_i=YD;function qD(e,t,n){var s=e==null?void 0:_i(e,t);return s===void 0?n:s}Mm=qD;function KD(e,t){for(var n=-1,s=t.length,o=e.length;++n<s;)e[o+n]=t[n];return e}ol=KD,_2=_e?_e.isConcatSpreadable:void 0;function UD(e){return S(e)||rs(e)||!!(_2&&e&&e[_2])}Nm=UD;function Lm(e,t,n,s,o){var i,a=-1,r=e.length;for(n||(n=Nm),o||(o=[]);++a<r;)i=e[a],t>0&&n(i)?t>1?Lm(i,t-1,n,s,o):ol(o,i):s||(o[o.length]=i);return o}nl=Lm;function WD(e){var t=e==null?0:e.length;return t?nl(e,1):[]}Qn=WD;function $D(e){return X2(O3(e,void 0,Qn),e+"")}Bm=$D,Vm=q2(Object.getPrototypeOf,Object),tl=Vm,Wm="[object Object]",Um=Function.prototype,Km=Object.prototype,g2=Um.toString,Ym=Km.hasOwnProperty,Gm=g2.call(Object);function VD(e){if(!Te(e)||Vt(e)!=Wm)return!1;var t,n=tl(e);return n===null||(t=Ym.call(n,"constructor")&&n.constructor,typeof t=="function"&&t instanceof t&&g2.call(t)==Gm)}p2=VD,Zm="\\ud800-\\udfff",Jm="\\u0300-\\u036f",e8="\\ufe20-\\ufe2f",t8="\\u20d0-\\u20ff",n8=Jm+e8+t8,s8="\\ufe0e\\ufe0f",o8="\\u200d",i8=RegExp("["+o8+Zm+n8+s8+"]");function BD(e){return i8.test(e)}r8=BD;function ID(e,t,n,s){var o=-1,i=e==null?0:e.length;for(s&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}l8=ID;function HD(){this.__data__=new Ki,this.size=0}u8=HD;function PD(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}m8=PD;function RD(e){return this.__data__.get(e)}p8=RD;function GV(e){return this.__data__.has(e)}v8=GV,b8=200;function LD(e,t){var s,n=this.__data__;if(n instanceof Ki){if(s=n.__data__,!Ds||s.length<b8-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new wi(s)}return n.set(e,t),this.size=n.size,this}y8=LD;function co(e){var t=this.__data__=new Ki(e);this.size=t.size}co.prototype.clear=u8,co.prototype.delete=m8,co.prototype.get=p8,co.prototype.has=v8,co.prototype.set=y8,Sn=co;function ND(e,t){return e&&ks(t,me(t),e)}x8=ND;function DD(e,t){return e&&ks(t,gn(t),e)}E8=DD,d2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,l2=d2&&typeof module=="object"&&module&&!module.nodeType&&module,S8=l2&&l2.exports===d2,c2=S8?De.Buffer:void 0,a2=c2?c2.allocUnsafe:void 0;function zD(e,t){if(t)return e.slice();var n=e.length,s=a2?a2(n):new e.constructor(n);return e.copy(s),s}i2=zD;function TD(e,t){for(var s,n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;)s=e[n],t(s,n,e)&&(o[a++]=s);return o}o2=TD;function FD(){return[]}t2=FD,P8=Object.prototype,H8=P8.propertyIsEnumerable,J0=Object.getOwnPropertySymbols,B8=J0?function(e){return e==null?[]:(e=Object(e),o2(J0(e),function(t){return H8.call(e,t)}))}:t2,Uc=B8;function MD(e,t){return ks(e,Uc(e),t)}W8=MD,U8=Object.getOwnPropertySymbols,K8=U8?function(e){for(var t=[];e;)ol(t,Uc(e)),e=tl(e);return t}:t2,G0=K8;function SD(e,t){return ks(e,G0(e),t)}G8=SD;function AD(e,t,n){var s=t(e);return S(e)?s:ol(s,n(e))}V0=AD;function kD(e){return V0(e,me,Uc)}Tc=kD;function ED(e){return V0(e,gn,G0)}tf=ED,nf=un(De,"DataView"),_c=nf,af=un(De,"Promise"),vc=af,cf=un(De,"Set"),jn=cf,z0="[object Map]",uf="[object Object]",F0="[object Promise]",M0="[object Set]",f0="[object WeakMap]",c0="[object DataView]",gf=dn(_c),vf=dn(Ds),bf=dn(vc),jf=dn(jn),yf=dn(cl),Gt=Vt,(_c&&Gt(new _c(new ArrayBuffer(1)))!=c0||Ds&&Gt(new Ds)!=z0||vc&&Gt(vc.resolve())!=F0||jn&&Gt(new jn)!=M0||cl&&Gt(new cl)!=f0)&&(Gt=function(e){var t=Vt(e),n=t==uf?e.constructor:void 0,s=n?dn(n):"";if(s)switch(s){case gf:return c0;case vf:return z0;case bf:return F0;case jf:return M0;case yf:return f0}return t}),Yt=Gt,Of=Object.prototype,xf=Of.hasOwnProperty;function CD(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&xf.call(e,"index")&&(t.index=e.index,t.input=e.input),t}Ef=CD,kf=De.Uint8Array,Na=kf;function xD(e){var t=new e.constructor(e.byteLength);return new Na(t).set(new Na(e)),t}nc=xD;function OD(e,t){var n=t?nc(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}Tf=OD,zf=/\w*$/;function wD(e){var t=new e.constructor(e.source,zf.exec(e));return t.lastIndex=e.lastIndex,t}Nf=wD,U4=_e?_e.prototype:void 0,$4=U4?U4.valueOf:void 0;function _D(e){return $4?Object($4.call(e)):{}}Hf=_D;function yD(e,t){var n=t?nc(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}H4=yD,Vf="[object Boolean]",$f="[object Date]",Wf="[object Map]",Uf="[object Number]",Kf="[object RegExp]",qf="[object Set]",Yf="[object String]",Gf="[object Symbol]",Xf="[object ArrayBuffer]",Qf="[object DataView]",Zf="[object Float32Array]",Jf="[object Float64Array]",e6="[object Int8Array]",t6="[object Int16Array]",n6="[object Int32Array]",s6="[object Uint8Array]",o6="[object Uint8ClampedArray]",i6="[object Uint16Array]",a6="[object Uint32Array]";function jD(e,t,n){var s=e.constructor;switch(t){case Xf:return nc(e);case Vf:case $f:return new s(+e);case Qf:return Tf(e,n);case Zf:case Jf:case e6:case t6:case n6:case s6:case o6:case i6:case a6:return H4(e,n);case Wf:return new s;case Uf:case Yf:return new s(e);case Kf:return Nf(e);case qf:return new s;case Gf:return Hf(e)}}c6=jD;function bD(e){return typeof e.constructor=="function"&&!$i(e)?ym(tl(e)):{}}F4=bD,u6="[object Map]";function vD(e){return Te(e)&&Yt(e)==u6}m6=vD,k4=Xn&&Xn.isMap,p6=k4?oa(k4):m6,g6=p6,v6="[object Set]";function gD(e){return Te(e)&&Yt(e)==v6}j6=gD,x4=Xn&&Xn.isSet,_6=x4?oa(x4):j6,w6=_6,O6=1,x6=2,C6=4,O4="[object Arguments]",k6="[object Array]",A6="[object Boolean]",S6="[object Date]",M6="[object Error]",w4="[object Function]",T6="[object GeneratorFunction]",z6="[object Map]",D6="[object Number]",y4="[object Object]",L6="[object RegExp]",R6="[object Set]",P6="[object String]",H6="[object Symbol]",I6="[object WeakMap]",B6="[object ArrayBuffer]",V6="[object DataView]",$6="[object Float32Array]",W6="[object Float64Array]",U6="[object Int8Array]",K6="[object Int16Array]",q6="[object Int32Array]",Y6="[object Uint8Array]",G6="[object Uint8ClampedArray]",X6="[object Uint16Array]",Q6="[object Uint32Array]",j={},j[O4]=j[k6]=j[B6]=j[V6]=j[A6]=j[S6]=j[$6]=j[W6]=j[U6]=j[K6]=j[q6]=j[z6]=j[D6]=j[y4]=j[L6]=j[R6]=j[P6]=j[H6]=j[Y6]=j[G6]=j[X6]=j[Q6]=!0,j[M6]=j[w4]=j[I6]=!1;function Rr(e,t,n,s,o,i){var a,r,d,u,h,m,f,c=t&O6,l=t&x6,p=t&C6;if(n&&(a=o?n(e,s,o,i):n(e)),a!==void 0)return a;if(!de(e))return e;if(u=S(e),u){if(a=Ef(e),!c)return R2(e,a)}else{if(r=Yt(e),h=r==w4||r==T6,_n(e))return i2(e,c);if(r==y4||r==O4||h&&!o){if(a=l||h?{}:F4(e),!c)return l?G8(e,E8(a,e)):W8(e,x8(a,e))}else{if(!j[r])return o?e:{};a=c6(e,r,c)}}return i||(i=new Sn),m=i.get(e),m||(i.set(e,a),w6(e)?e.forEach(function(s){a.add(Rr(s,t,n,s,e,i))}):g6(e)&&e.forEach(function(s,o){a.set(o,Rr(s,t,n,o,e,i))}),f=p?l?tf:Tc:l?gn:me,d=u?void 0:f(e),Z2(d||e,function(s,o){d&&(o=s,s=e[o]),pa(a,o,Rr(s,t,n,o,e,i))}),a)}g4=Rr,tp=4;function pD(e){return g4(e,tp)}sp=pD,op=1,ip=4;function fD(e){return g4(e,op|ip)}rp=fD,cp="__lodash_hash_undefined__";function mD(e){return this.__data__.set(e,cp),this}dp=mD;function hD(e){return this.__data__.has(e)}hp=hD;function Dr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new wi;++t<n;)this.add(e[t])}Dr.prototype.add=Dr.prototype.push=dp,Dr.prototype.has=hp,d4=Dr;function uD(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}gp=uD;function dD(e,t){return e.has(t)}r4=dD,jp=1,yp=2;function lD(e,t,n,s,o,i){var a,r,u,m,f,p=n&jp,d=e.length,g=t.length;if(d!=g&&!(p&&g>d))return!1;if(m=i.get(e),u=i.get(t),m&&u)return m==t&&u==e;var c=-1,l=!0,h=n&yp?new d4:void 0;for(i.set(e,t),i.set(t,e);++c<d;){if(a=e[c],r=t[c],s&&(f=p?s(r,a,c,t,e,i):s(a,r,c,e,t,i)),f!==void 0){if(f)continue;l=!1;break}if(h){if(!gp(t,function(e,t){if(!r4(h,t)&&(a===e||o(a,e,n,s,i)))return h.push(t)})){l=!1;break}}else if(a!==r&&!o(a,r,n,s,i)){l=!1;break}}return i.delete(e),i.delete(t),l}a4=lD;function cD(e){var n=-1,t=Array(e.size);return e.forEach(function(e,s){t[++n]=[s,e]}),t}xp=cD;function rD(e){var n=-1,t=Array(e.size);return e.forEach(function(e){t[++n]=e}),t}Ja=rD,kp=1,Ap=2,Sp="[object Boolean]",Mp="[object Date]",Fp="[object Error]",Tp="[object Map]",zp="[object Number]",Dp="[object RegExp]",Np="[object Set]",Lp="[object String]",Rp="[object Symbol]",Pp="[object ArrayBuffer]",Hp="[object DataView]",s4=_e?_e.prototype:void 0,Sr=s4?s4.valueOf:void 0;function aD(e,t,n,s,o,i,a){switch(n){case Hp:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Pp:return e.byteLength==t.byteLength&&!!i(new Na(e),new Na(t));case Sp:case Mp:case zp:return An(+e,+t);case Fp:return e.name==t.name&&e.message==t.message;case Dp:case Lp:return e==t+"";case Tp:var c,l,d,r=xp;case Np:return l=s&kp,r||(r=Ja),!(e.size!=t.size&&!l)&&(c=a.get(e),c?c==t:(s|=Ap,a.set(e,t),d=a4(r(e),r(t),s,o,i,a),a.delete(e),d));case Rp:if(Sr)return Sr.call(e)==Sr.call(t)}return!1}$p=aD,Wp=1,Up=Object.prototype,Kp=Up.hasOwnProperty;function iD(e,t,n,s,o,i){var a,r,c,l,d,u,h,m,p,v,j,f=n&Wp,b=Tc(e),g=b.length,_=Tc(t),y=_.length;if(g!=y&&!f)return!1;for(d=g;d--;)if(a=b[d],!(f?a in t:Kp.call(t,a)))return!1;if(p=i.get(e),j=i.get(t),p&&j)return p==t&&j==e;for(h=!0,i.set(e,t),i.set(t,e),m=f;++d<g;){if(a=b[d],l=e[a],c=t[a],s&&(v=f?s(c,l,a,t,e,i):s(l,c,a,e,t,i)),!(v===void 0?l===c||o(l,c,n,s,i):v)){h=!1;break}m||(m=a=="constructor")}return h&&!m&&(r=e.constructor,u=t.constructor,r!=u&&"constructor"in e&&"constructor"in t&&!(typeof r=="function"&&r instanceof r&&typeof u=="function"&&u instanceof u)&&(h=!1)),i.delete(e),i.delete(t),h}Yp=iD,Gp=1,e4="[object Arguments]",J1="[object Array]",Ro="[object Object]",Jp=Object.prototype,X1=Jp.hasOwnProperty;function oD(e,t,n,s,o,i){var l,h,m,f,c=S(e),g=S(t),a=c?J1:Yt(e),r=g?J1:Yt(t),a=a==e4?Ro:a,r=r==e4?Ro:r,d=a==Ro,p=r==Ro,u=a==r;if(u&&_n(e)){if(!_n(t))return!1;c=!0,d=!1}return u&&!d?(i||(i=new Sn),c||qi(e)?a4(e,t,n,s,o,i):$p(e,t,a,n,s,o,i)):!(n&Gp)&&(l=d&&X1.call(e,"__wrapped__"),h=p&&X1.call(t,"__wrapped__"),l||h)?(m=l?e.value():e,f=h?t.value():t,i||(i=new Sn),o(m,f,n,s,i)):!!u&&(i||(i=new Sn),Yp(e,t,n,s,o,i))}ng=oD;function sg(e,t,n,s,o){return e===t||(e==null||t==null||!Te(e)&&!Te(t)?e!==e&&t!==t:ng(e,t,n,s,sg,o))}q1=sg,ig=1,ag=2;function sD(e,t,n,s){var o,a,r,i=n.length,u=i,h=!s;if(e==null)return!u;for(e=Object(e);i--;)if(o=n[i],h&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1;for(;++i<u;){o=n[i];var c=o[0],l=e[c],d=o[1];if(h&&o[2]){if(l===void 0&&!(c in e))return!1}else if(a=new Sn,s&&(r=s(l,d,c,e,t,a)),!(r===void 0?q1(d,l,ig|ag,s,a):r))return!1}return!0}cg=sD;function nD(e){return e===e&&!de(e)}K1=nD;function tD(e){for(var s,o,t=me(e),n=t.length;n--;)s=t[n],o=e[s],t[n]=[s,o,K1(o)];return t}hg=tD;function eD(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}}W1=eD;function Jz(e){var t=hg(e);return t.length==1&&t[0][2]?W1(t[0][0],t[0][1]):function(n){return n===e||cg(n,e,t)}}gg=Jz;function Zz(e,t){return e!=null&&t in Object(e)}bg=Zz;function Qz(e,t,n){t=Oi(t,e);for(var o,i=-1,s=t.length,a=!1;++i<s;){if(o=so(t[i]),!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++i!=s?a:(s=e==null?0:e.length,!!s&&Ul(s)&&ua(o,s)&&(S(e)||rs(e)))}B1=Qz;function Xz(e,t){return e!=null&&B1(e,t,bg)}I1=Xz,Og=1,xg=2;function Gz(e,t){return ul(e)&&K1(t)?W1(so(e),t):function(n){var s=Mm(n,e);return s===void 0&&s===t?I1(n,e):q1(t,s,Og|xg)}}Eg=Gz;function Kz(e){return function(t){return t?.[e]}}P1=Kz;function Uz(e){return function(t){return _i(t,e)}}Mg=Uz;function Wz(e){return ul(e)?P1(so(e)):Mg(e)}Tg=Wz;function $z(e){return typeof e=="function"?e:e==null?cn:typeof e=="object"?S(e)?Eg(e[0],e[1]):gg(e):Tg(e)}St=$z;function Vz(e){return function(t,n,s){for(var o,c=-1,i=Object(t),a=s(t),r=a.length;r--;)if(o=a[e?r:++c],n(i[o],o,i)===!1)break;return t}}Lg=Vz,Rg=Lg(),yr=Rg;function Bz(e,t){return e&&yr(e,t,me)}D1=Bz;function Iz(e,t){return function(n,s){if(n==null)return n;if(!mt(n))return e(n,s);for(var i=n.length,o=t?i:-1,a=Object(n);t?o--:++o<i;)if(s(a[o],o,a)===!1)break;return n}}Vg=Iz,$g=Vg(D1),si=$g,Ug=function(){return De.Date.now()},T1=Ug,F1=Object.prototype,Yg=F1.hasOwnProperty,Gg=Ea(function(e,t){e=Object(e);var n,s,o,i,a,l,c=-1,r=t.length,d=r>2?t[2]:void 0;for(d&&fs(t[0],t[1],d)&&(r=1);++c<r;)for(o=t[c],i=gn(o),a=-1,l=i.length;++a<l;)n=i[a],s=e[n],(s===void 0||An(s,F1[n])&&!Yg.call(e,n))&&(e[n]=o[n]);return e}),On=Gg;function Hz(e,t,n){(n!==void 0&&!An(e[t],n)||n===void 0&&!(t in e))&&ha(e,t,n)}mr=Hz;function Pz(e){return Te(e)&&mt(e)}C1=Pz;function Rz(e,t){if(t==="constructor"&&typeof e[t]=="function")return;if(t=="__proto__")return;return e[t]}hr=Rz;function Lz(e){return ks(e,gn(e))}o5=Lz;function Nz(e,t,n,s,o,i,a){var c,d,l=hr(e,n),r=hr(t,n),m=a.get(r);if(m){mr(e,n,m);return}if(c=i?i(l,r,n+"",e,t,a):void 0,d=c===void 0,d){var u=S(r),h=!u&&_n(r),f=!u&&!h&&qi(r);c=r,u||h||f?S(l)?c=l:C1(l)?c=R2(l):h?(d=!1,c=i2(r,!0)):f?(d=!1,c=H4(r,!0)):c=[]:p2(r)||rs(r)?(c=l,rs(l)?c=o5(l):(!de(l)||Tn(l))&&(c=F4(r))):d=!1}d&&(a.set(r,c),o(c,r,s,i,a),a.delete(r)),mr(e,n,c)}a5=Nz;function r5(e,t,n,s,o){if(e===t)return;yr(t,function(i,a){if(o||(o=new Sn),de(i))a5(e,t,a,n,r5,s,o);else{var r=s?s(hr(e,a),i,a+"",e,t,o):void 0;r===void 0&&(r=i),mr(e,a,r)}},gn)}c5=r5;function Dz(e,t,n){for(var s=-1,o=e==null?0:e.length;++s<o;)if(n(t,e[s]))return!0;return!1}d5=Dz;function zz(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}vi=zz;function Tz(e){return typeof e=="function"?e:cn}b1=Tz;function Fz(e,t){var n=S(e)?Z2:si;return n(e,b1(t))}o=Fz;function Mz(e,t){var n=[];return si(e,function(e,s,o){t(e,s,o)&&n.push(e)}),n}b5=Mz;function Sz(e,t){var n=S(e)?o2:b5;return n(e,St(t,3))}vt=Sz;function Az(e){return function(t,n,s){var o,a,i=Object(t);return mt(t)||(a=St(n,3),t=me(t),n=function(e){return a(i[e],e,i)}),o=e(t,n,s),o>-1?i[a?t[o]:o]:void 0}}w5=Az,O5=Math.max;function kz(e,t,n){var s,o=e==null?0:e.length;return o?(s=n==null?0:Am(n),s<0&&(s=O5(o+s,0)),e3(e,St(t,3),s)):-1}C5=kz,E5=w5(C5),ar=E5;function Ez(e,t){var s=-1,n=mt(e)?Array(e.length):[];return si(e,function(e,o,i){n[++s]=t(e,o,i)}),n}m1=Ez;function Cz(e,t){var n=S(e)?bn:m1;return n(e,St(t,3))}T=Cz;function xz(e,t){return e==null?e:yr(e,b1(t),gn)}z5=xz;function Oz(e,t){return e>t}N5=Oz,L5=Object.prototype,R5=L5.hasOwnProperty;function wz(e,t){return e!=null&&R5.call(e,t)}H5=wz;function _z(e,t){return e!=null&&B1(e,t,H5)}m=_z,V5="[object String]";function yz(e){return typeof e=="string"||!S(e)&&Te(e)&&Vt(e)==V5}W5=yz;function jz(e,t){return bn(t,function(t){return e[t]})}K5=jz;function bz(e){return e==null?[]:K5(e,me(e))}yt=bz,G5="[object Map]",X5="[object Set]",Q5=Object.prototype,Z5=Q5.hasOwnProperty;function vz(e){if(e==null)return!0;if(mt(e)&&(S(e)||typeof e=="string"||typeof e.splice=="function"||_n(e)||qi(e)||rs(e)))return!e.length;var n,t=Yt(e);if(t==G5||t==X5)return!e.size;if($i(e))return!wl(e).length;for(n in e)if(Z5.call(e,n))return!1;return!0}is=vz;function gz(e){return e===void 0}k=gz;function pz(e,t){return e<t}Xu=pz;function fz(e,t){var n={};return t=St(t,3),D1(e,function(e,s,o){ha(n,s,t(e,s,o))}),n}ca=fz;function mz(e,t,n){for(var s,o,i,r,a=-1,c=e.length;++a<c;)o=e[a],s=t(o),s!=null&&(i===void 0?s===s&&!nn(s):n(s,i))&&(i=s,r=o);return r}Ka=mz;function hz(e){return e&&e.length?Ka(e,cn,N5):void 0}pn=hz,u7=L3(function(e,t,n){c5(e,t,n)}),Wa=u7;function uz(e){return e&&e.length?Ka(e,cn,Xu):void 0}ys=uz;function dz(e,t){return e&&e.length?Ka(e,St(t,2),Xu):void 0}Va=dz;function lz(e,t,n,s){if(!de(e))return e;t=Oi(t,e);for(var o,a,c,r=-1,l=t.length,d=l-1,i=e;i!=null&&++r<l;){if(o=so(t[r]),a=n,o==="__proto__"||o==="constructor"||o==="prototype")return e;r!=d&&(c=i[o],a=s?s(c,o,i):void 0,a===void 0&&(a=de(c)?c:ua(t[r+1])?[]:{})),pa(i,o,a),i=i[o]}return e}b7=lz;function cz(e,t,n){for(var s,o,i=-1,r=t.length,a={};++i<r;)s=t[i],o=_i(e,s),n(o,s)&&b7(a,Oi(s,e),o);return a}y7=cz;function rz(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}w7=rz;function az(e,t){if(e!==t){var c=e!==void 0,l=e===null,o=e===e,i=nn(e),a=t!==void 0,r=t===null,n=t===t,s=nn(t);if(!r&&!s&&!i&&e>t||i&&a&&n&&!r&&!s||l&&a&&n||!c&&n||!o)return 1;if(!l&&!i&&!s&&e<t||s&&c&&o&&!l&&!i||r&&c&&o||!a&&o||!n)return-1}return 0}x7=az;function iz(e,t,n){for(var o,a,s=-1,i=e.criteria,r=t.criteria,c=i.length,l=n.length;++s<c;)if(o=x7(i[s],r[s]),o)return s>=l?o:(a=n[s],o*(a=="desc"?-1:1));return e.index-t.index}E7=iz;function oz(e,t,n){t.length?t=bn(t,function(e){return S(e)?function(t){return _i(t,e.length===1?e[0]:e)}:e}):t=[cn];var s,o=-1;return t=bn(t,oa(St)),s=m1(e,function(e){var i=bn(t,function(t){return t(e)});return{criteria:i,index:++o,value:e}}),w7(s,function(e,t){return E7(e,t,n)})}A7=oz,S7=P1("length"),M7=S7,Lu="\\ud800-\\udfff",T7="\\u0300-\\u036f",z7="\\ufe20-\\ufe2f",D7="\\u20d0-\\u20ff",N7=T7+z7+D7,L7="\\ufe0e\\ufe0f",R7="["+Lu+"]",Ia="["+N7+"]",qa="\\ud83c[\\udffb-\\udfff]",I7="(?:"+Ia+"|"+qa+")",Ou="[^"+Lu+"]",wu="(?:\\ud83c[\\udde6-\\uddff]){2}",_u="[\\ud800-\\udbff][\\udc00-\\udfff]",W7="\\u200d",yu=I7+"?",gu="["+L7+"]?",q7="(?:"+W7+"(?:"+[Ou,wu,_u].join("|")+")"+gu+yu+")*",Y7=gu+yu+q7,G7="(?:"+[Ou+Ia+"?",Ia,wu,_u,R7].join("|")+")",pu=RegExp(qa+"(?="+qa+")|"+G7+Y7,"g");function sz(e){for(var t=pu.lastIndex=0;pu.test(e);)++t;return t}Z7=sz;function nz(e){return r8(e)?Z7(e):M7(e)}ev=nz;function tz(e,t){return y7(e,t,function(t,n){return I1(e,n)})}nv=tz,g8=Bm(function(e,t){return e==null?{}:nv(e,t)}),yo=g8,iv=Math.ceil,av=Math.max;function ez(e,t,n,s){for(var a=-1,o=av(iv((t-e)/(n||1)),0),i=Array(o);o--;)i[s?o:++a]=e,e+=n;return i}cv=ez;function JT(e){return function(t,n,s){return s&&typeof s!="number"&&fs(t,n,s)&&(n=s=void 0),t=bi(t),n===void 0?(n=t,t=0):n=bi(n),s=s===void 0?t<n?1:-1:bi(s),cv(t,n,s,e)}}dv=JT,uv=dv(),Qt=uv;function ZT(e,t,n,s,o){return o(e,function(e,o,i){n=s?(s=!1,e):t(n,e,o,i)}),n}fv=ZT;function QT(e,t,n){var s=S(e)?l8:fv,o=arguments.length<3;return s(e,St(t,4),n,o,si)}zo=QT,vv="[object Map]",bv="[object Set]";function XT(e){if(e==null)return 0;if(mt(e))return W5(e)?ev(e):e.length;var t=Yt(e);return t==vv||t==bv?e.size:wl(e).length}yv=XT,_v=Ea(function(e,t){if(e==null)return[];var n=t.length;return n>1&&fs(e,t[0],t[1])?t=[]:n>2&&fs(t[0],t[1],t[2])&&(t=[t[0]]),A7(e,nl(t,1),[])}),Eo=_v,Ov=1/0,xv=jn&&1/Ja(new jn([,-0]))[1]==Ov?function(e){return new jn(e)}:rm,Cv=xv,Ev=200;function GT(e,t,n){var s,i,r,d,u=-1,l=Ah,h=e.length,c=!0,a=[],o=a;if(n)c=!1,l=d5;else if(h>=Ev){if(r=t?null:Cv(e),r)return Ja(r);c=!1,l=r4,o=new d4}else o=t?[]:a;outer:for(;++u<h;)if(s=e[u],i=t?t(s):s,s=n||s!==0?s:0,c&&i===i){for(d=o.length;d--;)if(o[d]===i)continue outer;t&&o.push(i),a.push(s)}else l(o,i,n)||(o!==a&&o.push(i),a.push(s));return a}Av=GT,Sv=Ea(function(e){return Av(nl(e,1,C1,!0))}),Mv=Sv,Fv=0;function YT(e){var t=++Fv;return M2(e)+t}ka=YT;function qT(e,t,n){for(var i,s=-1,a=e.length,r=t.length,o={};++s<a;)i=s<r?t[s]:void 0,n(o,e[s],i);return o}Nv=qT;function KT(e,t){return Nv(e||[],t||[],pa)}Rv=KT,Pv="\0",sn="\0",Ud="",z=class{constructor(e={}){this._isDirected=!m(e,"directed")||e.directed,this._isMultigraph=!!m(e,"multigraph")&&e.multigraph,this._isCompound=!!m(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=Nt(void 0),this._defaultEdgeLabelFn=Nt(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[sn]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return Tn(e)||(e=Nt(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return me(this._nodes)}sources(){var e=this;return vt(this.nodes(),function(t){return is(e._in[t])})}sinks(){var e=this;return vt(this.nodes(),function(t){return is(e._out[t])})}setNodes(e,t){var s=arguments,n=this;return o(e,function(e){s.length>1?n.setNode(e,t):n.setNode(e)}),this}setNode(e,t){return m(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=sn,this._children[e]={},this._children[sn][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return m(this._nodes,e)}removeNode(e){var n,t=this;return m(this._nodes,e)&&(n=function(e){t.removeEdge(t._edgeObjs[e])},delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],o(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),o(me(this._in[e]),n),delete this._in[e],delete this._preds[e],o(me(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount),this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(k(t))t=sn;else{t+="";for(var n=t;!k(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==sn)return t}}children(e){if(k(e)&&(e=sn),this._isCompound){{var t=this._children[e];if(t)return me(t)}}else if(e===sn)return this.nodes();if(this.hasNode(e))return[]}predecessors(e){var t=this._preds[e];if(t)return me(t)}successors(e){var t=this._sucs[e];if(t)return me(t)}neighbors(e){var t=this.predecessors(e);if(t)return Mv(t,this.successors(e))}isLeaf(e){var t;return this.isDirected()?t=this.successors(e):t=this.neighbors(e),t.length===0}filterNodes(e){var n,s,t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph()),s=this,o(this._nodes,function(n,s){e(s)&&t.setNode(s,n)}),o(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,s.edge(e))}),n={};function i(e){var o=s.parent(e);return o===void 0||t.hasNode(o)?(n[e]=o,o):o in n?n[o]:i(o)}return this._isCompound&&o(t.nodes(),function(e){t.setParent(e,i(e))}),t}setDefaultEdgeLabel(e){return Tn(e)||(e=Nt(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return yt(this._edgeObjs)}setPath(e,t){var n=this,s=arguments;return zo(e,function(e,o){return s.length>1?n.setEdge(e,o,t):n.setEdge(e,o),o}),this}setEdge(){var e,t,n,o,i,a,r=!1,s=arguments[0];if(typeof s=="object"&&s!==null&&"v"in s?(e=s.v,t=s.w,n=s.name,arguments.length===2&&(a=arguments[1],r=!0)):(e=s,t=arguments[1],n=arguments[3],arguments.length>2&&(a=arguments[2],r=!0)),e=""+e,t=""+t,k(n)||(n=""+n),o=ei(this._isDirected,e,t,n),m(this._edgeLabels,o))return r&&(this._edgeLabels[o]=a),this;if(!k(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");return this.setNode(e),this.setNode(t),this._edgeLabels[o]=r?a:this._defaultEdgeLabelFn(e,t,n),i=UT(this._isDirected,e,t,n),e=i.v,t=i.w,Object.freeze(i),this._edgeObjs[o]=i,Vv(this._preds[t],e),Vv(this._sucs[e],t),this._in[t][o]=i,this._out[e][o]=i,this._edgeCount++,this}edge(e,t,n){var s=arguments.length===1?Bd(this._isDirected,arguments[0]):ei(this._isDirected,e,t,n);return this._edgeLabels[s]}hasEdge(e,t,n){var s=arguments.length===1?Bd(this._isDirected,arguments[0]):ei(this._isDirected,e,t,n);return m(this._edgeLabels,s)}removeEdge(e,t,n){var s=arguments.length===1?Bd(this._isDirected,arguments[0]):ei(this._isDirected,e,t,n),o=this._edgeObjs[s];return o&&(e=o.v,t=o.w,delete this._edgeLabels[s],delete this._edgeObjs[s],$v(this._preds[t],e),$v(this._sucs[e],t),delete this._in[t][s],delete this._out[e][s],this._edgeCount--),this}inEdges(e,t){var n,s=this._in[e];if(s)return n=yt(s),t?vt(n,function(e){return e.v===t}):n}outEdges(e,t){var n,s=this._out[e];if(s)return n=yt(s),t?vt(n,function(e){return e.w===t}):n}nodeEdges(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},z.prototype._nodeCount=0,z.prototype._edgeCount=0;function Vv(e,t){e[t]?e[t]++:e[t]=1}function $v(e,t){--e[t]||delete e[t]}function ei(e,t,n,s){var a,o=""+t,i=""+n;return!e&&o>i&&(a=o,o=i,i=a),o+Ud+i+Ud+(k(s)?Pv:s)}function UT(e,t,n,s){var a,r,o=""+t,i=""+n;return!e&&o>i&&(r=o,o=i,i=r),a={v:o,w:i},s&&(a.name=s),a}function Bd(e,t){return ei(e,t.v,t.w,t.name)}qv=class{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var t=this._sentinel,e=t._prev;if(e!==t)return Yv(e),e}enqueue(e){var t=this._sentinel;e._prev&&e._next&&Yv(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t}toString(){for(var t=[],n=this._sentinel,e=n._prev;e!==n;)t.push(JSON.stringify(e,WT)),e=e._prev;return"["+t.join(", ")+"]"}};function Yv(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function WT(e,t){if(e!=="_next"&&e!=="_prev")return t}Xv=Nt(1);function $T(e,t){if(e.nodeCount()<=1)return[];var n=BT(e,t||Xv),s=VT(n.graph,n.buckets,n.zeroIdx);return Qn(T(s,function(t){return e.outEdges(t.v,t.w)}),!0)}function VT(e,t,n){for(var s,o,i=[],a=t[t.length-1],r=t[0];e.nodeCount();){for(;s=r.dequeue();)Ld(e,t,n,s);for(;s=a.dequeue();)Ld(e,t,n,s);if(e.nodeCount())for(o=t.length-2;o>0;--o)if(s=t[o].dequeue(),s){i=i.concat(Ld(e,t,n,s,!0));break}}return i}function Ld(e,t,n,s,i){var a=i?[]:void 0;return o(e.inEdges(s.v),function(s){var r=e.edge(s),o=e.node(s.v);i&&a.push({v:s.v,w:s.w}),o.out-=r,Td(t,n,o)}),o(e.outEdges(s.v),function(s){var i=e.edge(s),a=s.w,o=e.node(a);o.in-=i,Td(t,n,o)}),e.removeNode(s.v),a}function BT(e,t){var a,r,n=new z,s=0,i=0;return o(e.nodes(),function(e){n.setNode(e,{v:e,in:0,out:0})}),o(e.edges(),function(e){var a=n.edge(e.v,e.w)||0,o=t(e),r=a+o;n.setEdge(e.v,e.w,r),i=Math.max(i,n.node(e.v).out+=o),s=Math.max(s,n.node(e.w).in+=o)}),a=Qt(i+s+3).map(function(){return new qv}),r=s+1,o(n.nodes(),function(e){Td(a,r,n.node(e))}),{graph:n,buckets:a,zeroIdx:r}}function Td(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}function IT(e){var t=e.graph().acyclicer==="greedy"?$T(e,n(e)):HT(e);o(t,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,ka("rev"))});function n(e){return function(t){return e.edge(t).weight}}}function HT(e){var n=[],t={},s={};function i(a){if(m(s,a))return;s[a]=!0,t[a]=!0,o(e.outEdges(a),function(e){m(t,e.w)?n.push(e):i(e.w)}),delete t[a]}return o(e.nodes(),i),n}function PT(e){o(e.edges(),function(t){var s,n=e.edge(t);n.reversed&&(e.removeEdge(t),s=n.forwardName,delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,s))})}function Js(e,t,n,s){var o;do o=ka(s);while(e.hasNode(o))return n.dummy=t,e.setNode(o,n),o}function RT(e){var t=(new z).setGraph(e.graph());return o(e.nodes(),function(n){t.setNode(n,e.node(n))}),o(e.edges(),function(n){var s=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:s.weight+o.weight,minlen:Math.max(s.minlen,o.minlen)})}),t}function r9(e){var t=new z({multigraph:e.isMultigraph()}).setGraph(e.graph());return o(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),o(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function c9(e,t){var a,r,c=e.x,l=e.y,n=t.x-c,s=t.y-l,o=e.width/2,i=e.height/2;if(!n&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*o>Math.abs(n)*i?(s<0&&(i=-i),a=i*n/s,r=i):(n<0&&(o=-o),a=o,r=o*s/n),{x:c+a,y:l+r}}function fl(e){var t=T(Qt(m9(e)+1),function(){return[]});return o(e.nodes(),function(n){var s=e.node(n),o=s.rank;k(o)||(t[o][s.order]=n)}),t}function LT(e){var t=ys(T(e.nodes(),function(t){return e.node(t).rank}));o(e.nodes(),function(n){var s=e.node(n);m(s,"rank")&&(s.rank-=t)})}function NT(e){var n,s,i=ys(T(e.nodes(),function(t){return e.node(t).rank})),t=[];o(e.nodes(),function(n){var s=e.node(n).rank-i;t[s]||(t[s]=[]),t[s].push(n)}),n=0,s=e.graph().nodeRankFactor,o(t,function(t,i){k(t)&&i%s!==0?--n:n&&o(t,function(t){e.node(t).rank+=n})})}function h9(e,t,n,s){var o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=s),Js(e,"border",o,t)}function m9(e){return pn(T(e.nodes(),function(t){var n=e.node(t).rank;if(!k(n))return n}))}function DT(e,t){var n={lhs:[],rhs:[]};return o(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n}function zT(e,t){var n=T1();try{return t()}finally{console.log(e+" time: "+(T1()-n)+"ms")}}function TT(e,t){return t()}function FT(e){function t(n){if(a=e.children(n),s=e.node(n),a.length&&o(a,t),m(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(var s,a,i=s.minRank,r=s.maxRank+1;i<r;++i)b9(e,"borderLeft","_bl",n,s,i),b9(e,"borderRight","_br",n,s,i)}}o(e.children(),t)}function b9(e,t,n,s,o,i){var c={width:0,height:0,rank:i,borderType:t},r=o[t][i-1],a=Js(e,"border",c,n);o[t][i]=a,e.setParent(a,s),r&&e.setEdge(r,a,{weight:1})}function MT(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&_9(e)}function ST(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&kT(e),(t==="lr"||t==="rl")&&(ET(e),_9(e))}function _9(e){o(e.nodes(),function(t){w9(e.node(t))}),o(e.edges(),function(t){w9(e.edge(t))})}function w9(e){var t=e.width;e.width=e.height,e.height=t}function kT(e){o(e.nodes(),function(t){id(e.node(t))}),o(e.edges(),function(t){var n=e.edge(t);o(n.points,id),m(n,"y")&&id(n)})}function id(e){e.y=-e.y}function ET(e){o(e.nodes(),function(t){Jl(e.node(t))}),o(e.edges(),function(t){var n=e.edge(t);o(n.points,Jl),m(n,"x")&&Jl(n)})}function Jl(e){var t=e.x;e.x=e.y,e.y=t}function CT(e){var a,n=Js(e,"root",{},"_root"),s=xT(e),i=pn(yt(s))-1,t=2*i+1;e.graph().nestingRoot=n,o(e.edges(),function(n){e.edge(n).minlen*=t}),a=OT(e)+1,o(e.children(),function(o){A9(e,n,t,a,i,s,o)}),e.graph().nodeRankFactor=t}function A9(e,t,n,s,i,a,r){var c,l,d,u=e.children(r);if(!u.length){r!==t&&e.setEdge(t,r,{weight:0,minlen:n});return}c=h9(e,"_bt"),l=h9(e,"_bb"),d=e.node(r),e.setParent(c,r),d.borderTop=c,e.setParent(l,r),d.borderBottom=l,o(u,function(o){A9(e,t,n,s,i,a,o);var d=e.node(o),u=d.borderTop?d.borderTop:o,h=d.borderBottom?d.borderBottom:o,m=d.borderTop?s:2*s,f=u!==h?1:i-a[r]+1;e.setEdge(c,u,{weight:m,minlen:f,nestingEdge:!0}),e.setEdge(h,l,{weight:m,minlen:f,nestingEdge:!0})}),e.parent(r)||e.setEdge(t,c,{weight:0,minlen:i+a[r]})}function xT(e){var t={};function n(s,i){var a=e.children(s);a&&a.length&&o(a,function(e){n(e,i+1)}),t[s]=i}return o(e.children(),function(e){n(e,1)}),t}function OT(e){return zo(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function wT(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,o(e.edges(),function(t){var n=e.edge(t);n.nestingEdge&&e.removeEdge(t)})}function _T(e,t,n){var i,s={};o(n,function(n){for(var a,r,o=e.parent(n);o;){if(a=e.parent(o),a?(r=s[a],s[a]=o):(r=i,i=o),r&&r!==o){t.setEdge(r,o);return}o=a}})}function yT(e,t,n){var i=jT(e),s=new z({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(t){return e.node(t)});return o(e.nodes(),function(a){var r=e.node(a),c=e.parent(a);(r.rank===t||r.minRank<=t&&t<=r.maxRank)&&(s.setNode(a),s.setParent(a,c||i),o(e[n](a),function(t){var n=t.v===a?t.w:t.v,o=s.edge(n,a),i=k(o)?0:o.weight;s.setEdge(n,a,{weight:e.edge(t).weight+i})}),m(r,"minRank")&&s.setNode(a,{borderLeft:r.borderLeft[t],borderRight:r.borderRight[t]}))}),s}function jT(e){for(var t;e.hasNode(t=ka("_root")););return t}function bT(e,t){for(var s=0,n=1;n<t.length;++n)s+=vT(e,t[n-1],t[n]);return s}function vT(e,t,n){for(var i,a,r,c=Rv(n,T(n,function(e,t){return t})),l=Qn(T(t,function(t){return Eo(T(e.outEdges(t),function(t){return{pos:c[t.w],weight:e.edge(t).weight}}),"pos")}),!0),s=1;s<n.length;)s<<=1;return r=2*s-1,s-=1,i=T(new Array(r),function(){return 0}),a=0,o(l.forEach(function(e){var n,t=e.pos+s;for(i[t]+=e.weight,n=0;t>0;)t%2&&(n+=i[t+1]),t=t-1>>1,i[t]+=e.weight;a+=e.weight*n})),a}function gT(e){var a,t={},n=vt(e.nodes(),function(t){return!e.children(t).length}),r=pn(T(n,function(t){return e.node(t).rank})),s=T(Qt(r+1),function(){return[]});function i(n){if(m(t,n))return;t[n]=!0;var a=e.node(n);s[a.rank].push(n),o(e.successors(n),i)}return a=Eo(n,function(t){return e.node(t).rank}),o(a,i),s}function pT(e,t){return T(t,function(t){var n,s=e.inEdges(t);return s.length?(n=zo(s,function(t,n){var s=e.edge(n),o=e.node(n.v);return{sum:t.sum+s.weight*o.order,weight:t.weight+s.weight}},{sum:0,weight:0}),{v:t,barycenter:n.sum/n.weight,weight:n.weight}):{v:t}})}function fT(e,t){var s,n={};return o(e,function(e,t){var s=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};k(e.barycenter)||(s.barycenter=e.barycenter,s.weight=e.weight)}),o(t.edges(),function(e){var t=n[e.v],s=n[e.w];!k(t)&&!k(s)&&(s.indegree++,t.out.push(n[e.w]))}),s=vt(n,function(e){return!e.indegree}),mT(s)}function mT(e){var t,n=[];function s(e){return function(t){if(t.merged)return;(k(t.barycenter)||k(e.barycenter)||t.barycenter>=e.barycenter)&&hT(e,t)}}function i(t){return function(n){n.in.push(t),--n.indegree===0&&e.push(n)}}for(;e.length;)t=e.pop(),n.push(t),o(t.in.reverse(),s(t)),o(t.out,i(t));return T(vt(n,function(e){return!e.merged}),function(e){return yo(e,["vs","i","barycenter","weight"])})}function hT(e,t){var s=0,n=0;e.weight&&(s+=e.barycenter*e.weight,n+=e.weight),t.weight&&(s+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=s/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}function uT(e,t){var s,l=DT(e,function(e){return m(e,"barycenter")}),d=l.lhs,r=Eo(l.rhs,function(e){return-e.i}),i=[],c=0,a=0,n=0;return d.sort(dT(!!t)),n=$9(i,r,n),o(d,function(e){n+=e.vs.length,i.push(e.vs),c+=e.barycenter*e.weight,a+=e.weight,n=$9(i,r,n)}),s={vs:Qn(i,!0)},a&&(s.barycenter=c/a,s.weight=a),s}function $9(e,t,n){for(var s;t.length&&(s=vi(t)).i<=n;)t.pop(),e.push(s.vs),n++;return n}function dT(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}function U9(e,t,n,s){if(c=e.children(t),r=e.node(t),a=r?r.borderLeft:void 0,l=r?r.borderRight:void 0,d={},a&&(c=vt(c,function(e){return e!==a&&e!==l})),u=pT(e,c),o(u,function(t){if(e.children(t.v).length){var o=U9(e,t.v,n,s);d[t.v]=o,m(o,"barycenter")&&cT(t,o)}}),h=fT(u,n),lT(h,d),i=uT(h,s),a&&(i.vs=Qn([a,i.vs,l],!0),e.predecessors(a).length)){var i,a,r,c,l,d,u,h,f=e.node(e.predecessors(a)[0]),p=e.node(e.predecessors(l)[0]);m(i,"barycenter")||(i.barycenter=0,i.weight=0),i.barycenter=(i.barycenter*i.weight+f.order+p.order)/(i.weight+2),i.weight+=2}return i}function lT(e,t){o(e,function(e){e.vs=Qn(e.vs.map(function(e){return t[e]?t[e].vs:e}),!0)})}function cT(e,t){k(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}function rT(e){var t,n,o,i,a,r=m9(e),c=G9(e,Qt(1,r+1),"inEdges"),l=G9(e,Qt(r-1,-1,-1),"outEdges"),s=gT(e);Q9(e,s),i=Number.POSITIVE_INFINITY;for(t=0,n=0;n<4;++t,++n)aT(t%2?c:l,t%4>=2),s=fl(e),o=bT(e,s),o<i&&(n=0,a=rp(s),i=o);Q9(e,a)}function G9(e,t,n){return T(t,function(t){return yT(e,t,n)})}function aT(e,t){var n=new z;o(e,function(e){var i=e.graph().root,s=U9(e,i,n,t);o(s.vs,function(t,n){e.node(t).order=n}),_T(e,n,s.vs)})}function Q9(e,t){o(t,function(t){o(t,function(t,n){e.node(t).order=n})})}function iT(e){var t=sT(e);o(e.graph().dummyChains,function(n){for(var a=e.node(n),r=a.edgeObj,l=oT(e,t,r.v,r.w),i=l.path,d=l.lca,s=0,o=i[s],c=!0;n!==r.w;){if(a=e.node(n),c){for(;(o=i[s])!==d&&e.node(o).maxRank<a.rank;)s++;o===d&&(c=!1)}if(!c){for(;s<i.length-1&&e.node(o=i[s+1]).minRank<=a.rank;)s++;o=i[s]}e.setParent(n,o),n=e.successors(n)[0]}})}function oT(e,t,n,s){var i,a=[],r=[],c=Math.min(t[n].low,t[s].low),l=Math.max(t[n].lim,t[s].lim),o=n;do o=e.parent(o),a.push(o);while(o&&(t[o].low>c||l>t[o].lim))for(i=o,o=s;(o=e.parent(o))!==i;)r.push(o);return{path:a.concat(r.reverse()),lca:i}}function sT(e){var t={},n=0;function s(i){var a=n;o(e.children(i),s),t[i]={low:a,lim:n++}}return o(e.children(),s),t}function nT(e,t){var n={};function s(t,s){var i=0,a=0,r=t.length,c=vi(s);return o(s,function(t,l){var d=eT(e,t),u=d?e.node(d).order:r;(d||t===c)&&(o(s.slice(a,l+1),function(t){o(e.predecessors(t),function(s){var o=e.node(s),a=o.order;(a<i||u<a)&&!(o.dummy&&e.node(t).dummy)&&ob(n,s,t)})}),a=l+1,i=u)}),s}return zo(t,s),n}function tT(e,t){var n={};function s(t,s,i,a,r){var c;o(Qt(s,i),function(s){c=t[s],e.node(c).dummy&&o(e.predecessors(c),function(t){var s=e.node(t);s.dummy&&(s.order<a||s.order>r)&&ob(n,t,c)})})}function i(t,n){var i,r=-1,a=0;return o(n,function(o,c){if(e.node(o).dummy==="border"){var l=e.predecessors(o);l.length&&(i=e.node(l[0]).order,s(n,a,c,r,i),a=c,r=i)}s(n,a,n.length,i,t.length)}),n}return zo(t,i),n}function eT(e,t){if(e.node(t).dummy)return ar(e.predecessors(t),function(t){return e.node(t).dummy})}function ob(e,t,n){if(t>n){var s,o=t;t=n,n=o}s=e[t],s||(e[t]=s={}),s[n]=!0}function JF(e,t,n){if(t>n){var s=t;t=n,n=s}return m(e[t],n)}function ZF(e,t,n,s){var a={},i={},r={};return o(t,function(e){o(e,function(e,t){a[e]=e,i[e]=e,r[e]=t})}),o(t,function(e){var t=-1;o(e,function(e){if(o=s(e),o.length){o=Eo(o,function(e){return r[e]}),l=(o.length-1)/2;for(var o,c,l,d=Math.floor(l),u=Math.ceil(l);d<=u;++d)c=o[d],i[e]===e&&t<r[c]&&!JF(n,e,c)&&(i[c]=e,i[e]=a[e]=a[c],t=r[c])}})}),{root:a,align:i}}function QF(e,t,n,s,i){var r={},a=XF(e,t,n,i),l=i?"borderLeft":"borderRight";function c(e,t){for(var s=a.nodes(),n=s.pop(),o={};n;)o[n]?e(n):(o[n]=!0,s.push(n),s=s.concat(t(n))),n=s.pop()}function d(e){r[e]=a.inEdges(e).reduce(function(e,t){return Math.max(e,r[t.v]+a.edge(t))},0)}function u(t){var n=a.outEdges(t).reduce(function(e,t){return Math.min(e,r[t.w]-a.edge(t))},Number.POSITIVE_INFINITY),s=e.node(t);n!==Number.POSITIVE_INFINITY&&s.borderType!==l&&(r[t]=Math.max(r[t],n))}return c(d,a.predecessors.bind(a)),c(u,a.successors.bind(a)),o(s,function(e){r[e]=r[n[e]]}),r}function XF(e,t,n,s){var i=new z,a=e.graph(),r=UF(a.nodesep,a.edgesep,s);return o(t,function(t){var s;o(t,function(t){if(o=n[t],i.setNode(o),s){var o,a=n[s],c=i.edge(a,o);i.setEdge(a,o,Math.max(r(e,t,s),c||0))}s=t})}),i}function GF(e,t){return Va(yt(t),function(t){var n=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;return z5(t,function(t,o){var i=WF(e,o)/2;n=Math.max(t+i,n),s=Math.min(t-i,s)}),n-s})}function YF(e,t){var n=yt(t),s=ys(n),i=pn(n);o(["u","d"],function(n){o(["l","r"],function(o){var r,c,l=n+o,a=e[l];if(a===t)return;c=yt(a),r=o==="l"?s-ys(c):i-pn(c),r&&(e[l]=ca(a,function(e){return e+r}))})})}function qF(e,t){return ca(e.ul,function(n,s){if(t)return e[t.toLowerCase()][s];var o=Eo(T(e,s));return(o[1]+o[2])/2})}function KF(e){var t,i,n=fl(e),a=Wa(nT(e,n),tT(e,n)),s={};return o(["u","d"],function(i){t=i==="u"?n:yt(n).reverse(),o(["l","r"],function(n){n==="r"&&(t=T(t,function(e){return yt(e).reverse()}));var c=(i==="u"?e.predecessors:e.successors).bind(e),r=ZF(e,t,a,c),o=QF(e,t,r.root,r.align,n==="r");n==="r"&&(o=ca(o,function(e){return-e})),s[i+n]=o})}),i=GF(e,s),YF(s,i),qF(s,e.graph().align)}function UF(e,t,n){return function(s,o,i){var a,c=s.node(o),l=s.node(i),r=0;if(r+=c.width/2,m(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=-c.width/2;break;case"r":a=c.width/2;break}if(a&&(r+=n?a:-a),a=0,r+=(c.dummy?t:e)/2,r+=(l.dummy?t:e)/2,r+=l.width/2,m(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":a=l.width/2;break;case"r":a=-l.width/2;break}return a&&(r+=n?a:-a),a=0,r}}function WF(e,t){return e.node(t).width}function $F(e){e=r9(e),VF(e),o(KF(e),function(t,n){e.node(n).x=t})}function VF(e){var n=fl(e),s=e.graph().ranksep,t=0;o(n,function(n){var i=pn(T(n,function(t){return e.node(t).height}));o(n,function(n){e.node(n).y=t+i/2}),t+=i+s})}function Rs(e,t){var n=t&&t.debugTiming?zT:TT;n("layout",function(){var t=n("  buildLayoutGraph",function(){return HF(e)});n("  runLayout",function(){BF(t,n)}),n("  updateInputGraph",function(){IF(e,t)})})}function BF(e,t){t("    makeSpaceForEdgeLabels",function(){PF(e)}),t("    removeSelfEdges",function(){SF(e)}),t("    acyclic",function(){Rc.run(e)}),t("    nestingGraph.run",function(){CT(e)}),t("    rank",function(){hF(r9(e))}),t("    injectEdgeLabelProxies",function(){RF(e)}),t("    removeEmptyRanks",function(){NT(e)}),t("    nestingGraph.cleanup",function(){wT(e)}),t("    normalizeRanks",function(){LT(e)}),t("    assignRankMinMax",function(){LF(e)}),t("    removeEdgeLabelProxies",function(){NF(e)}),t("    normalize.run",function(){bl.run(e)}),t("    parentDummyChains",function(){iT(e)}),t("    addBorderSegments",function(){FT(e)}),t("    order",function(){rT(e)}),t("    insertSelfEdges",function(){AF(e)}),t("    adjustCoordinateSystem",function(){MT(e)}),t("    position",function(){$F(e)}),t("    positionSelfEdges",function(){kF(e)}),t("    removeBorderNodes",function(){MF(e)}),t("    normalize.undo",function(){bl.undo(e)}),t("    fixupEdgeLabelCoords",function(){TF(e)}),t("    undoCoordinateSystem",function(){ST(e)}),t("    translateGraph",function(){DF(e)}),t("    assignNodeIntersects",function(){zF(e)}),t("    reversePoints",function(){FF(e)}),t("    acyclic.undo",function(){Rc.undo(e)})}function IF(e,t){o(e.nodes(),function(n){var s=e.node(n),o=t.node(n);s&&(s.x=o.x,s.y=o.y,t.children(n).length&&(s.width=o.width,s.height=o.height))}),o(e.edges(),function(n){var o=e.edge(n),s=t.edge(n);o.points=s.points,m(s,"x")&&(o.x=s.x,o.y=s.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}yb=["nodesep","edgesep","ranksep","marginx","marginy"],_b={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},wb=["acyclicer","ranker","rankdir","align"],Ob=["width","height"],xb={width:0,height:0},Cb=["minlen","weight","width","height","labeloffset"],Eb={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},kb=["labelpos"];function HF(e){var t=new z({multigraph:!0,compound:!0}),n=fd(e.graph());return t.setGraph(Wa({},_b,hd(n,yb),yo(n,wb))),o(e.nodes(),function(n){var s=fd(e.node(n));t.setNode(n,On(hd(s,Ob),xb)),t.setParent(n,e.parent(n))}),o(e.edges(),function(n){var s=fd(e.edge(n));t.setEdge(n,Wa({},Eb,hd(s,Cb),yo(s,kb)))}),t}function PF(e){var t=e.graph();t.ranksep/=2,o(e.edges(),function(n){var s=e.edge(n);s.minlen*=2,s.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?s.width+=s.labeloffset:s.height+=s.labeloffset)})}function RF(e){o(e.edges(),function(t){var n,o,i,s=e.edge(t);s.width&&s.height&&(n=e.node(t.v),o=e.node(t.w),i={rank:(o.rank-n.rank)/2+n.rank,e:t},Js(e,"edge-proxy",i,"_ep"))})}function LF(e){var t=0;o(e.nodes(),function(n){var s=e.node(n);s.borderTop&&(s.minRank=e.node(s.borderTop).rank,s.maxRank=e.node(s.borderBottom).rank,t=pn(t,s.maxRank))}),e.graph().maxRank=t}function NF(e){o(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function DF(e){var t=Number.POSITIVE_INFINITY,i=0,n=Number.POSITIVE_INFINITY,a=0,s=e.graph(),r=s.marginx||0,c=s.marginy||0;function l(e){var s=e.x,o=e.y,r=e.width,c=e.height;t=Math.min(t,s-r/2),i=Math.max(i,s+r/2),n=Math.min(n,o-c/2),a=Math.max(a,o+c/2)}o(e.nodes(),function(t){l(e.node(t))}),o(e.edges(),function(t){var n=e.edge(t);m(n,"x")&&l(n)}),t-=r,n-=c,o(e.nodes(),function(s){var o=e.node(s);o.x-=t,o.y-=n}),o(e.edges(),function(s){var i=e.edge(s);o(i.points,function(e){e.x-=t,e.y-=n}),m(i,"x")&&(i.x-=t),m(i,"y")&&(i.y-=n)}),s.width=i-t+r,s.height=a-n+c}function zF(e){o(e.edges(),function(t){var s,o,n=e.edge(t),i=e.node(t.v),a=e.node(t.w);n.points?(s=n.points[0],o=n.points[n.points.length-1]):(n.points=[],s=a,o=i),n.points.unshift(c9(i,s)),n.points.push(c9(a,o))})}function TF(e){o(e.edges(),function(t){var n=e.edge(t);if(m(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function FF(e){o(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function MF(e){o(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),s=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(vi(n.borderLeft)),a=e.node(vi(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-s.y),n.x=o.x+n.width/2,n.y=s.y+n.height/2}}),o(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function SF(e){o(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function AF(e){var t=fl(e);o(t,function(t){var n=0;o(t,function(t,s){var i=e.node(t);i.order=s+n,o(i.selfEdges,function(t){Js(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:s+ ++n,e:t.e,label:t.label},"_se")}),delete i.selfEdges})})}function kF(e){o(e.nodes(),function(t){var s,o,i,a,r,n=e.node(t);n.dummy==="selfedge"&&(a=e.node(n.e.v),s=a.x+a.width/2,o=a.y,i=n.x-s,r=a.height/2,e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:s+2*i/3,y:o-r},{x:s+5*i/6,y:o-r},{x:s+i,y:o},{x:s+5*i/6,y:o+r},{x:s+2*i/3,y:o+r}],n.label.x=n.x,n.label.y=n.y)})}function hd(e,t){return ca(yo(e,t),Number)}function fd(e){var t={};return o(e,function(e,n){t[n.toLowerCase()]=e}),t}bl={},A3(bl,{run:()=>EF,undo:()=>xF});function EF(e){e.graph().dummyChains=[],o(e.edges(),function(t){CF(e,t)})}function CF(e,t){var o,a,r,i=t.v,s=e.node(i).rank,l=t.w,d=e.node(l).rank,c=t.name,n=e.edge(t),u=n.labelRank;if(d===s+1)return;e.removeEdge(t);for(r=0,++s;s<d;++r,++s)n.points=[],o={width:0,height:0,edgeLabel:n,edgeObj:t,rank:s},a=Js(e,"edge",o,"_d"),s===u&&(o.width=n.width,o.height=n.height,o.dummy="edge-label",o.labelpos=n.labelpos),e.setEdge(i,a,{weight:n.weight},c),r===0&&e.graph().dummyChains.push(a),i=a;e.setEdge(i,l,{weight:n.weight},c)}function xF(e){o(e.graph().dummyChains,function(t){var o,n=e.node(t),s=n.edgeLabel;for(e.setEdge(n.edgeObj,s);n.dummy;)o=e.successors(t)[0],e.removeNode(t),s.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(s.x=n.x,s.y=n.y,s.width=n.width,s.height=n.height),t=o,n=e.node(t)})}function yd(e){var t={};function n(s){var o,i=e.node(s);return m(t,s)?i.rank:(t[s]=!0,o=ys(T(e.outEdges(s),function(t){return n(t.w)-e.edge(t).minlen})),(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o)}o(e.sources(),n)}function Mi(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}function Gb(e){var n,s,t=new z({directed:!1}),o=e.nodes()[0],i=e.nodeCount();for(t.setNode(o,{});OF(t,e)<i;)n=wF(t,e),s=t.hasNode(n.v)?Mi(e,n):-Mi(e,n),_F(t,e,s);return t}function OF(e,t){function n(s){o(t.nodeEdges(s),function(o){var a=o.v,i=s===a?o.w:a;!e.hasNode(i)&&!Mi(t,o)&&(e.setNode(i,{}),e.setEdge(s,i,{}),n(i))})}return o(e.nodes(),n),e.nodeCount()}function wF(e,t){return Va(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Mi(t,n)})}function _F(e,t,n){o(e.nodes(),function(e){t.node(e).rank+=n})}yF=Nt(1),jF=Nt(1),bF.CycleException=il;function bF(e){var t={},n={},s=[];function i(a){if(m(n,a))throw new il;m(t,a)||(n[a]=!0,t[a]=!0,o(e.predecessors(a),i),delete n[a],s.push(a))}if(o(e.sinks(),i),yv(t)!==e.nodeCount())throw new il;return s}function il(){}il.prototype=new Error;function sj(e,t,n){S(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),s=[],a={};return o(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);oj(e,t,n==="post",a,i,s)}),s}function oj(e,t,n,s,i,a){m(s,t)||(s[t]=!0,n||a.push(t),o(i(t),function(t){oj(e,t,n,s,i,a)}),n&&a.push(t))}function vF(e,t){return sj(e,t,"post")}function gF(e,t){return sj(e,t,"pre")}Wn.initLowLimValues=l4,Wn.initCutValues=Ad,Wn.calcCutValue=dj,Wn.leaveEdge=mj,Wn.enterEdge=fj,Wn.exchangeEdges=pj;function Wn(e){e=RT(e),yd(e);var n,s,t=Gb(e);for(l4(t),Ad(t,e);n=mj(t);)s=fj(t,e,n),pj(t,e,n,s)}function Ad(e,t){var n=vF(e,e.nodes()),n=n.slice(0,n.length-1);o(n,function(n){pF(e,t,n)})}function pF(e,t,n){var s=e.node(n),o=s.parent;e.edge(n,o).cutvalue=dj(e,t,n)}function dj(e,t,n){var c=e.node(n),i=c.parent,r=!0,a=t.edge(n,i),s=0;return a||(r=!1,a=t.edge(i,n)),s=a.weight,o(t.nodeEdges(n),function(o){var c,l,d,u=o.v===n,a=u?o.w:o.v;a!==i&&(c=u===r,l=t.edge(o).weight,s+=c?l:-l,mF(e,n,a)&&(d=e.edge(n,a).cutvalue,s+=c?-d:d))}),s}function l4(e,t){arguments.length<2&&(t=e.nodes()[0]),hj(e,{},1,t)}function hj(e,t,n,s,i){var r=n,a=e.node(s);return t[s]=!0,o(e.neighbors(s),function(o){m(t,o)||(n=hj(e,t,n,o,s))}),a.low=r,a.lim=n++,i?a.parent=i:delete a.parent,n}function mj(e){return ar(e.edges(),function(t){return e.edge(t).cutvalue<0})}function fj(e,t,n){var s,o,r,c,l,i=n.v,a=n.w;return t.hasEdge(i,a)||(i=n.w,a=n.v),r=e.node(i),c=e.node(a),s=r,o=!1,r.lim>c.lim&&(s=c,o=!0),l=vt(t.edges(),function(t){return o===bj(e,e.node(t.v),s)&&o!==bj(e,e.node(t.w),s)}),Va(l,function(e){return Mi(t,e)})}function pj(e,t,n,s){var o=n.v,i=n.w;e.removeEdge(o,i),e.setEdge(s.v,s.w,{}),l4(e),Ad(e,t),fF(e,t)}function fF(e,t){var s=ar(e.nodes(),function(e){return!t.node(e).parent}),n=gF(e,s),n=n.slice(1);o(n,function(n){var o=e.node(n).parent,s=t.edge(n,o),i=!1;s||(s=t.edge(o,n),i=!0),t.node(n).rank=t.node(o).rank+(i?s.minlen:-s.minlen)})}function mF(e,t,n){return e.hasEdge(t,n)}function bj(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}function hF(e){switch(e.graph().ranker){case"network-simplex":wj(e);break;case"tight-tree":uF(e);break;case"longest-path":yj(e);break;default:wj(e)}}yj=yd;function uF(e){yd(e),Gb(e)}function wj(e){Wn(e)}function Mt(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:dF(e),edges:lF(e)};return k(e.graph())||(t.value=sp(e.graph())),t}function dF(e){return T(e.nodes(),function(t){var s=e.node(t),o=e.parent(t),n={v:t};return k(s)||(n.value=s),k(o)||(n.parent=o),n})}function lF(e){return T(e.edges(),function(t){var s=e.edge(t),n={v:t.v,w:t.w};return k(t.name)||(n.name=t.name),k(s)||(n.value=s),n})}kj=new Uint8Array(16);function cF(){if(!Gc&&(Gc=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Gc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gc(kj)}q=[];for(let e=0;e<256;++e)q.push((e+256).toString(16).slice(1));function rF(e,t=0){return(q[e[t+0]]+q[e[t+1]]+q[e[t+2]]+q[e[t+3]]+"-"+q[e[t+4]]+q[e[t+5]]+"-"+q[e[t+6]]+q[e[t+7]]+"-"+q[e[t+8]]+q[e[t+9]]+"-"+q[e[t+10]]+q[e[t+11]]+q[e[t+12]]+q[e[t+13]]+q[e[t+14]]+q[e[t+15]]).toLowerCase()}Fj=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zd={randomUUID:Fj};function aF(e,t,n){if(zd.randomUUID&&!t&&!e)return zd.randomUUID();e=e||{};const s=e.random||(e.rng||cF)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=s[e];return t}return rF(s)}Dj=aF;function Nj(e,t){return!!e.children(t).length}function Lj(e){return Dd(e.v)+":"+Dd(e.w)+":"+Dd(e.name)}Rj=/:/g;function Dd(e){return e?String(e).replace(Rj,"\\:"):""}function gt(e,t){t&&e.attr("style",t)}function Ij(e,t,n){t&&e.attr("class",t).attr("class",n+" "+e.attr("class"))}function Be(e,t){var n,s=t.graph();return p2(s)&&(n=s.transition,Tn(n))?n(e):e}$c={normal:oF,vee:sF,undirected:nF};function iF(e){$c=e}function oF(e,t,n,s){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");gt(o,n[s+"Style"]),n[s+"Class"]&&o.attr("class",n[s+"Class"])}function sF(e,t,n,s){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=i.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");gt(o,n[s+"Style"]),n[s+"Class"]&&o.attr("class",n[s+"Class"])}function nF(e,t,n,s){var i=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=i.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");gt(o,n[s+"Style"]),n[s+"Class"]&&o.attr("class",n[s+"Class"])}function Nd(e,t){var s,i,o=e.append("foreignObject").attr("width","100000"),n=o.append("xhtml:div");switch(n.attr("xmlns","http://www.w3.org/1999/xhtml"),s=t.label,typeof s){case"function":n.insert(s);break;case"object":n.insert(function(){return s});break;default:n.html(s)}return gt(n,t.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap"),i=n.node().getBoundingClientRect(),o.attr("width",i.width).attr("height",i.height),o}function tF(e,t){var n=e;return n.node().appendChild(t.label),gt(n,t.labelStyle),n}function eF(e,t){for(var n=e.append("text"),o=JM(t.label).split(`
`),s=0;s<o.length;s++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(o[s]);return gt(n,t.labelStyle),n}function JM(e){for(var t,n="",s=!1,o=0;o<e.length;++o)if(t=e[o],s){switch(t){case"n":n+=`
`;break;default:n+=t}s=!1}else t==="\\"?s=!0:n+=t;return n}function Rd(e,t,n){var o,i,a=t.label,s=e.append("g");switch(t.labelType==="svg"?tF(s,t):typeof a!="string"||t.labelType==="html"?Nd(s,t):eF(s,t),o=s.node().getBBox(),n){case"top":i=-t.height/2;break;case"bottom":i=t.height/2-o.height;break;default:i=-o.height/2}return s.attr("transform","translate("+-o.width/2+","+i+")"),s}Ic=function(e,t){var s,o=t.nodes().filter(function(e){return Nj(t,e)}),n=e.selectAll("g.cluster").data(o,function(e){return e});return Be(n.exit(),t).style("opacity",0).remove(),s=n.enter().append("g").attr("class","cluster").attr("id",function(e){var n=t.node(e);return n.id}).style("opacity",0).each(function(e){var s,n=t.node(e),o=i(this);i(this).append("rect"),s=o.append("g").attr("class","label"),Rd(s,n,n.clusterLabelPos)}),n=n.merge(s),n=Be(n,t).style("opacity",1),n.selectAll("rect").each(function(e){var n=t.node(e),s=i(this);gt(s,n.style)}),n};function ZM(e){Ic=e}Hc=function(e,t){var s,n=e.selectAll("g.edgeLabel").data(t.edges(),function(e){return Lj(e)}).classed("update",!0);return n.exit().remove(),n.enter().append("g").classed("edgeLabel",!0).style("opacity",0),n=e.selectAll("g.edgeLabel"),n.each(function(e){var n,s,o,a=i(this);a.select(".label").remove(),n=t.edge(e),s=Rd(a,t.edge(e),0,0).classed("label",!0),o=s.node().getBBox(),n.labelId&&s.attr("id",n.labelId),m(n,"width")||(n.width=o.width),m(n,"height")||(n.height=o.height)}),n.exit?s=n.exit():s=n.selectAll(null),Be(s,t).style("opacity",0).remove(),n};function QM(e){Hc=e}function ny(e,t){return e.intersect(t)}Pc=function(e,t,n){var s,o=e.selectAll("g.edgePath").data(t.edges(),function(e){return Lj(e)}).classed("update",!0),a=KM(o,t);return UM(o,t),s=o.merge!==void 0?o.merge(a):o,Be(s,t).style("opacity",1),s.each(function(e){var s=i(this),n=t.edge(e);n.elem=this,n.id&&s.attr("id",n.id),Ij(s,n.class,(s.classed("update")?"update ":"")+"edgePath")}),s.selectAll("path.path").each(function(e){var s,n=t.edge(e);n.arrowheadId=ka("arrowhead"),s=i(this).attr("marker-end",function(){return"url("+GM(location.href,n.arrowheadId)+")"}).style("fill","none"),Be(s,t).attr("d",function(e){return YM(t,e)}),gt(s,n.style)}),s.selectAll("defs *").remove(),s.selectAll("defs").each(function(e){var s=t.edge(e),o=n[s.arrowhead];o(i(this),s.arrowheadId,s,"arrowhead")}),s};function XM(e){Pc=e}function GM(e,t){var n=e.split("#")[0];return n+"#"+t}function YM(e,t){var s=e.edge(t),o=e.node(t.v),i=e.node(t.w),n=s.points.slice(1,s.points.length-1);return n.unshift(ny(o,n[0])),n.push(ny(i,n[n.length-1])),ry(s,n)}function ry(e,t){var n=(uo||L_.line)().x(function(e){return e.x}).y(function(e){return e.y});return(n.curve||n.interpolate)(e.curve),n(t)}function qM(e){var t=e.getBBox(),n=e.ownerSVGElement.getScreenCTM().inverse().multiply(e.getScreenCTM()).translate(t.width/2,t.height/2);return{x:n.e,y:n.f}}function KM(e,t){var n=e.enter().append("g").attr("class","edgePath").style("opacity",0);return n.append("path").attr("class","path").attr("d",function(e){var n=t.edge(e),s=t.node(e.v).elem,o=Qt(n.points.length).map(function(){return qM(s)});return ry(n,o)}),n.append("defs"),n}function UM(e,t){var n=e.exit();Be(n,t).style("opacity",0).remove()}zc=function(e,t,n){var o,a=t.nodes().filter(function(e){return!Nj(t,e)}),s=e.selectAll("g.node").data(a,function(e){return e}).classed("update",!0);return s.exit().remove(),s.enter().append("g").attr("class","node").style("opacity",0),s=e.selectAll("g.node"),s.each(function(e){var o,r,c,l,d,u,h,s=t.node(e),a=i(this);Ij(a,s.class,(a.classed("update")?"update ":"")+"node"),a.select("g.label").remove(),r=a.append("g").attr("class","label"),u=Rd(r,s),h=n[s.shape],o=yo(u.node().getBBox(),"width","height"),s.elem=this,s.id&&a.attr("id",s.id),s.labelId&&r.attr("id",s.labelId),m(s,"width")&&(o.width=s.width),m(s,"height")&&(o.height=s.height),o.width+=s.paddingLeft+s.paddingRight,o.height+=s.paddingTop+s.paddingBottom,r.attr("transform","translate("+(s.paddingLeft-s.paddingRight)/2+","+(s.paddingTop-s.paddingBottom)/2+")"),c=i(this),c.select(".label-container").remove(),l=h(c,o,s).classed("label-container",!0),gt(l,s.style),d=l.node().getBBox(),s.width=d.width,s.height=d.height}),s.exit?o=s.exit():o=s.selectAll(null),Be(o,t).style("opacity",0).remove(),s};function WM(e){zc=e}function VM(e,t){var n=e.filter(function(){return!i(this).classed("update")});function s(e){var n=t.node(e);return"translate("+n.x+","+n.y+")"}n.attr("transform",s),Be(e,t).style("opacity",1).attr("transform",s),Be(n.selectAll("rect"),t).attr("width",function(e){return t.node(e).width}).attr("height",function(e){return t.node(e).height}).attr("x",function(e){var n=t.node(e);return-n.width/2}).attr("y",function(e){var n=t.node(e);return-n.height/2})}function HM(e,t){var s=e.filter(function(){return!i(this).classed("update")});function n(e){var n=t.edge(e);return m(n,"x")?"translate("+n.x+","+n.y+")":""}s.attr("transform",n),Be(e,t).style("opacity",1).attr("transform",n)}function RM(e,t){var s=e.filter(function(){return!i(this).classed("update")});function n(e){var n=t.node(e);return"translate("+n.x+","+n.y+")"}s.attr("transform",n),Be(e,t).style("opacity",1).attr("transform",n)}function gy(e,t,n,s){var o,l=e.x,i=e.y,a=l-s.x,r=i-s.y,d=Math.sqrt(t*t*r*r+n*n*a*a),c=Math.abs(t*n*a/d);return s.x<l&&(c=-c),o=Math.abs(t*n*r/d),s.y<i&&(o=-o),{x:l+c,y:i+o}}function LM(e,t,n){return gy(e,t,t,n)}function NM(e,t,n,s){var o,i,a,r,c,l,m,f,v,b,u=t.y-e.y,h=e.x-t.x,d=t.x*e.y-e.x*t.y,g=u*n.x+h*n.y+d,p=u*s.x+h*s.y+d;if(g!==0&&p!==0&&jy(g,p))return;if(a=s.y-n.y,r=n.x-s.x,c=s.x*n.y-n.x*s.y,f=a*e.x+r*e.y+c,m=a*t.x+r*t.y+c,f!==0&&m!==0&&jy(f,m))return;if(i=u*r-a*h,i===0)return;return l=Math.abs(i/2),o=h*c-r*d,v=o<0?(o-l)/i:(o+l)/i,o=a*d-u*c,b=o<0?(o-l)/i:(o+l)/i,{x:v,y:b}}function jy(e,t){return e*t>0}function ct(e,t,n){var s,i,c,l,d,u,h=e.x,m=e.y,o=[],a=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY;t.forEach(function(e){a=Math.min(a,e.x),r=Math.min(r,e.y)}),c=h-e.width/2-a,i=m-e.height/2-r;for(s=0;s<t.length;s++)l=t[s],d=t[s<t.length-1?s+1:0],u=NM(e,n,{x:c+l.x,y:i+l.y},{x:c+d.x,y:i+d.y}),u&&o.push(u);return o.length?(o.length>1&&o.sort(function(e,t){var s=e.x-n.x,o=e.y-n.y,i=Math.sqrt(s*s+o*o),a=t.x-n.x,r=t.y-n.y,c=Math.sqrt(a*a+r*r);return i<c?-1:i===c?0:1}),o[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",e),e)}function Wd(e,t){var a,r,c=e.x,l=e.y,n=t.x-c,s=t.y-l,o=e.width/2,i=e.height/2;return Math.abs(s)*o>Math.abs(n)*i?(s<0&&(i=-i),a=s===0?0:i*n/s,r=i):(n<0&&(o=-o),a=o,r=n===0?0:o*s/n),{x:c+a,y:l+r}}jc={rect:zM,ellipse:TM,circle:FM,diamond:MM};function DM(e){jc=e}function zM(e,t,n){var s=e.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-t.width/2).attr("y",-t.height/2).attr("width",t.width).attr("height",t.height);return n.intersect=function(e){return Wd(n,e)},s}function TM(e,t,n){var s=t.width/2,o=t.height/2,i=e.insert("ellipse",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("rx",s).attr("ry",o);return n.intersect=function(e){return gy(n,s,o,e)},i}function FM(e,t,n){var s=Math.max(t.width,t.height)/2,o=e.insert("circle",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("r",s);return n.intersect=function(e){return LM(n,s,e)},o}function MM(e,t,n){var s=t.width*Math.SQRT2/2,o=t.height*Math.SQRT2/2,i=[{x:0,y:-o},{x:-s,y:0},{x:0,y:o},{x:s,y:0}],a=e.insert("polygon",":first-child").attr("points",i.map(function(e){return e.x+","+e.y}).join(" "));return n.intersect=function(e){return ct(n,i,e)},a}function SM(){var e=function(e,t){AM(t);var s,n=_a(e,"output"),o=_a(n,"clusters"),i=_a(n,"edgePaths"),a=Hc(_a(n,"edgeLabels"),t),r=zc(_a(n,"nodes"),t,jc);Rs(t),RM(r,t),HM(a,t),Pc(i,t,$c),s=Ic(o,t),VM(s,t),kM(t)};return e.createNodes=function(t){return arguments.length?(WM(t),e):zc},e.createClusters=function(t){return arguments.length?(ZM(t),e):Ic},e.createEdgeLabels=function(t){return arguments.length?(QM(t),e):Hc},e.createEdgePaths=function(t){return arguments.length?(XM(t),e):Pc},e.shapes=function(t){return arguments.length?(DM(t),e):jc},e.arrows=function(t){return arguments.length?(iF(t),e):$c},e}Sy={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},My={arrowhead:"normal",curve:we};function AM(e){e.nodes().forEach(function(t){var n=e.node(t);!m(n,"label")&&!e.children(t).length&&(n.label=t),m(n,"paddingX")&&On(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),m(n,"paddingY")&&On(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),m(n,"padding")&&On(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),On(n,Sy),o(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(e){n[e]=Number(n[e])}),m(n,"width")&&(n._prevWidth=n.width),m(n,"height")&&(n._prevHeight=n.height)}),e.edges().forEach(function(t){var n=e.edge(t);m(n,"label")||(n.label=""),On(n,My)})}function kM(e){o(e.nodes(),function(t){var n=e.node(t);m(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,m(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight})}function _a(e,t){var n=e.select("g."+t);return n.empty()&&(n=e.append("g").attr("class",t)),n}Dy=Object.defineProperty,Ny=(e,t,n)=>t in e?Dy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xs=(e,t,n)=>(Ny(e,typeof t!="symbol"?t+"":t,n),n),Ct={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},e={trace:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},fatal:(...e)=>{}},$r=function(t="fatal"){let n=Ct.fatal;typeof t=="string"?(t=t.toLowerCase(),t in Ct&&(n=Ct[t])):typeof t=="number"&&(n=t),e.trace=()=>{},e.debug=()=>{},e.info=()=>{},e.warn=()=>{},e.error=()=>{},e.fatal=()=>{},n<=Ct.fatal&&(e.fatal=console.error?console.error.bind(console,ve("FATAL"),"color: orange"):console.log.bind(console,"[35m",ve("FATAL"))),n<=Ct.error&&(e.error=console.error?console.error.bind(console,ve("ERROR"),"color: orange"):console.log.bind(console,"[31m",ve("ERROR"))),n<=Ct.warn&&(e.warn=console.warn?console.warn.bind(console,ve("WARN"),"color: orange"):console.log.bind(console,`\x1B[33m`,ve("WARN"))),n<=Ct.info&&(e.info=console.info?console.info.bind(console,ve("INFO"),"color: lightblue"):console.log.bind(console,"[34m",ve("INFO"))),n<=Ct.debug&&(e.debug=console.debug?console.debug.bind(console,ve("DEBUG"),"color: lightgreen"):console.log.bind(console,"[32m",ve("DEBUG"))),n<=Ct.trace&&(e.trace=console.debug?console.debug.bind(console,ve("TRACE"),"color: lightgreen"):console.log.bind(console,"[32m",ve("TRACE")))},ve=e=>{const t=(0,Ne.default)().format("ss.SSS");return`%c${t} : ${e} : `},By=e=>{if(!e)return[""];const t=cu(e).replace(/\\n/g,"#br#");return t.split("#br#")},ou=e=>Ao.default.sanitize(e),au=(e,t)=>{var n;if(((n=t.flowchart)==null?void 0:n.htmlLabels)!==!1){const n=t.securityLevel;n==="antiscript"||n==="strict"?e=ou(e):n!=="loose"&&(e=cu(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=Gy(e))}return e},Le=(e,t)=>e&&(t.dompurifyConfig?e=Ao.default.sanitize(au(e,t),t.dompurifyConfig).toString():e=Ao.default.sanitize(au(e,t),{FORBID_TAGS:["style"]}).toString(),e),Uy=(e,t)=>typeof e=="string"?Le(e,t):e.flat().map(e=>Le(e,t)),Qo=/<br\s*\/?>/gi,qy=e=>Qo.test(e),Yy=e=>e.split(Qo),Gy=e=>e.replace(/#br#/g,"<br/>"),cu=e=>e.replace(Qo,"#br#"),Qy=e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},B=e=>e!==!1&&!["false","null","0"].includes(String(e).trim().toLowerCase()),At=function(e){let t=e;return e.includes("~")?(t=t.replace(/~([^~].*)/,"<$1"),t=t.replace(/~([^~]*)$/,">$1"),At(t)):t},h={getRows:By,sanitizeText:Le,sanitizeTextOrArray:Uy,hasBreaks:qy,splitBreaks:Yy,lineBreakRegex:Qo,removeScript:ou,getUrl:Qy,evaluate:B},se=(e,t)=>t?s(e,{s:-40,l:10}):s(e,{s:-40,l:-10}),Fi="#ffffff",Di="#f2f2f2",o_=class{constructor(){this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||s(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||s(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||se(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||se(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||se(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||se(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||r(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||r(this.tertiaryColor),this.lineColor=this.lineColor||r(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?f(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||f(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||r(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||u(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||s(this.primaryColor,{h:30}),this.cScale4=this.cScale4||s(this.primaryColor,{h:60}),this.cScale5=this.cScale5||s(this.primaryColor,{h:90}),this.cScale6=this.cScale6||s(this.primaryColor,{h:120}),this.cScale7=this.cScale7||s(this.primaryColor,{h:150}),this.cScale8=this.cScale8||s(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||s(this.primaryColor,{h:270}),this.cScale10=this.cScale10||s(this.primaryColor,{h:300}),this.cScale11=this.cScale11||s(this.primaryColor,{h:330}),this.darkMode)for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=f(this["cScale"+e],75);else for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=f(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||r(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||u(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||f(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||s(this.primaryColor,{h:64}),this.fillType3=this.fillType3||s(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||s(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||s(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||s(this.primaryColor,{h:128}),this.fillType7=this.fillType7||s(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||s(this.primaryColor,{l:-10}),this.pie5=this.pie5||s(this.secondaryColor,{l:-10}),this.pie6=this.pie6||s(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||s(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||s(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||s(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||s(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||s(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||s(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?f(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||s(this.primaryColor,{h:-30}),this.git4=this.git4||s(this.primaryColor,{h:-60}),this.git5=this.git5||s(this.primaryColor,{h:-90}),this.git6=this.git6||s(this.primaryColor,{h:60}),this.git7=this.git7||s(this.primaryColor,{h:120}),this.darkMode?(this.git0=u(this.git0,25),this.git1=u(this.git1,25),this.git2=u(this.git2,25),this.git3=u(this.git3,25),this.git4=u(this.git4,25),this.git5=u(this.git5,25),this.git6=u(this.git6,25),this.git7=u(this.git7,25)):(this.git0=f(this.git0,25),this.git1=f(this.git1,25),this.git2=f(this.git2,25),this.git3=f(this.git3,25),this.git4=f(this.git4,25),this.git5=f(this.git5,25),this.git6=f(this.git6,25),this.git7=f(this.git7,25)),this.gitInv0=this.gitInv0||r(this.git0),this.gitInv1=this.gitInv1||r(this.git1),this.gitInv2=this.gitInv2||r(this.git2),this.gitInv3=this.gitInv3||r(this.git3),this.gitInv4=this.gitInv4||r(this.git4),this.gitInv5=this.gitInv5||r(this.git5),this.gitInv6=this.gitInv6||r(this.git6),this.gitInv7=this.gitInv7||r(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Fi,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Di}calculate(e){if(typeof e!="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},i_=e=>{const t=new o_;return t.calculate(e),t},a_=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=u(this.primaryColor,16),this.tertiaryColor=s(this.primaryColor,{h:-160}),this.primaryBorderColor=r(this.background),this.secondaryBorderColor=se(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=se(this.tertiaryColor,this.darkMode),this.primaryTextColor=r(this.primaryColor),this.secondaryTextColor=r(this.secondaryColor),this.tertiaryTextColor=r(this.tertiaryColor),this.lineColor=r(this.background),this.textColor=r(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=u(r("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=ps(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=f("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=ps(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=ps(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=u(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=u(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=u(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=s(this.primaryColor,{h:64}),this.fillType3=s(this.secondaryColor,{h:64}),this.fillType4=s(this.primaryColor,{h:-64}),this.fillType5=s(this.secondaryColor,{h:-64}),this.fillType6=s(this.primaryColor,{h:128}),this.fillType7=s(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||s(this.primaryColor,{h:30}),this.cScale4=this.cScale4||s(this.primaryColor,{h:60}),this.cScale5=this.cScale5||s(this.primaryColor,{h:90}),this.cScale6=this.cScale6||s(this.primaryColor,{h:120}),this.cScale7=this.cScale7||s(this.primaryColor,{h:150}),this.cScale8=this.cScale8||s(this.primaryColor,{h:210}),this.cScale9=this.cScale9||s(this.primaryColor,{h:270}),this.cScale10=this.cScale10||s(this.primaryColor,{h:300}),this.cScale11=this.cScale11||s(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||r(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||u(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?f(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=u(this.secondaryColor,20),this.git1=u(this.pie2||this.secondaryColor,20),this.git2=u(this.pie3||this.tertiaryColor,20),this.git3=u(this.pie4||s(this.primaryColor,{h:-30}),20),this.git4=u(this.pie5||s(this.primaryColor,{h:-60}),20),this.git5=u(this.pie6||s(this.primaryColor,{h:-90}),10),this.git6=u(this.pie7||s(this.primaryColor,{h:60}),10),this.git7=u(this.pie8||s(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||r(this.git0),this.gitInv1=this.gitInv1||r(this.git1),this.gitInv2=this.gitInv2||r(this.git2),this.gitInv3=this.gitInv3||r(this.git3),this.gitInv4=this.gitInv4||r(this.git4),this.gitInv5=this.gitInv5||r(this.git5),this.gitInv6=this.gitInv6||r(this.git6),this.gitInv7=this.gitInv7||r(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||u(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||u(this.background,2)}calculate(e){if(typeof e!="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},r_=e=>{const t=new a_;return t.calculate(e),t},c_=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=s(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=s(this.primaryColor,{h:-160}),this.primaryBorderColor=se(this.primaryColor,this.darkMode),this.secondaryBorderColor=se(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=se(this.tertiaryColor,this.darkMode),this.primaryTextColor=r(this.primaryColor),this.secondaryTextColor=r(this.secondaryColor),this.tertiaryTextColor=r(this.tertiaryColor),this.lineColor=r(this.background),this.textColor=r(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=ps(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||s(this.primaryColor,{h:30}),this.cScale4=this.cScale4||s(this.primaryColor,{h:60}),this.cScale5=this.cScale5||s(this.primaryColor,{h:90}),this.cScale6=this.cScale6||s(this.primaryColor,{h:120}),this.cScale7=this.cScale7||s(this.primaryColor,{h:150}),this.cScale8=this.cScale8||s(this.primaryColor,{h:210}),this.cScale9=this.cScale9||s(this.primaryColor,{h:270}),this.cScale10=this.cScale10||s(this.primaryColor,{h:300}),this.cScale11=this.cScale11||s(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||f(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||f(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=f(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||f(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||s(this["cScale"+e],{h:180});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||r(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||r(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=u(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=s(this.primaryColor,{h:64}),this.fillType3=s(this.secondaryColor,{h:64}),this.fillType4=s(this.primaryColor,{h:-64}),this.fillType5=s(this.secondaryColor,{h:-64}),this.fillType6=s(this.primaryColor,{h:128}),this.fillType7=s(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||s(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||s(this.primaryColor,{l:-10}),this.pie5=this.pie5||s(this.secondaryColor,{l:-30}),this.pie6=this.pie6||s(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||s(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||s(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||s(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||s(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||s(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||s(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||s(this.primaryColor,{h:-30}),this.git4=this.git4||s(this.primaryColor,{h:-60}),this.git5=this.git5||s(this.primaryColor,{h:-90}),this.git6=this.git6||s(this.primaryColor,{h:60}),this.git7=this.git7||s(this.primaryColor,{h:120}),this.darkMode?(this.git0=u(this.git0,25),this.git1=u(this.git1,25),this.git2=u(this.git2,25),this.git3=u(this.git3,25),this.git4=u(this.git4,25),this.git5=u(this.git5,25),this.git6=u(this.git6,25),this.git7=u(this.git7,25)):(this.git0=f(this.git0,25),this.git1=f(this.git1,25),this.git2=f(this.git2,25),this.git3=f(this.git3,25),this.git4=f(this.git4,25),this.git5=f(this.git5,25),this.git6=f(this.git6,25),this.git7=f(this.git7,25)),this.gitInv0=this.gitInv0||f(r(this.git0),25),this.gitInv1=this.gitInv1||r(this.git1),this.gitInv2=this.gitInv2||r(this.git2),this.gitInv3=this.gitInv3||r(this.git3),this.gitInv4=this.gitInv4||r(this.git4),this.gitInv5=this.gitInv5||r(this.git5),this.gitInv6=this.gitInv6||r(this.git6),this.gitInv7=this.gitInv7||r(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||r(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||r(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Fi,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Di}calculate(e){if(typeof e!="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},l_=e=>{const t=new c_;return t.calculate(e),t},d_=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=u("#cde498",10),this.primaryBorderColor=se(this.primaryColor,this.darkMode),this.secondaryBorderColor=se(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=se(this.tertiaryColor,this.darkMode),this.primaryTextColor=r(this.primaryColor),this.secondaryTextColor=r(this.secondaryColor),this.tertiaryTextColor=r(this.primaryColor),this.lineColor=r(this.background),this.textColor=r(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||s(this.primaryColor,{h:30}),this.cScale4=this.cScale4||s(this.primaryColor,{h:60}),this.cScale5=this.cScale5||s(this.primaryColor,{h:90}),this.cScale6=this.cScale6||s(this.primaryColor,{h:120}),this.cScale7=this.cScale7||s(this.primaryColor,{h:150}),this.cScale8=this.cScale8||s(this.primaryColor,{h:210}),this.cScale9=this.cScale9||s(this.primaryColor,{h:270}),this.cScale10=this.cScale10||s(this.primaryColor,{h:300}),this.cScale11=this.cScale11||s(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||f(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||f(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=f(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||f(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||s(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=f(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=s(this.primaryColor,{h:64}),this.fillType3=s(this.secondaryColor,{h:64}),this.fillType4=s(this.primaryColor,{h:-64}),this.fillType5=s(this.secondaryColor,{h:-64}),this.fillType6=s(this.primaryColor,{h:128}),this.fillType7=s(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||s(this.primaryColor,{l:-30}),this.pie5=this.pie5||s(this.secondaryColor,{l:-30}),this.pie6=this.pie6||s(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||s(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||s(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||s(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||s(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||s(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||s(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||s(this.primaryColor,{h:-30}),this.git4=this.git4||s(this.primaryColor,{h:-60}),this.git5=this.git5||s(this.primaryColor,{h:-90}),this.git6=this.git6||s(this.primaryColor,{h:60}),this.git7=this.git7||s(this.primaryColor,{h:120}),this.darkMode?(this.git0=u(this.git0,25),this.git1=u(this.git1,25),this.git2=u(this.git2,25),this.git3=u(this.git3,25),this.git4=u(this.git4,25),this.git5=u(this.git5,25),this.git6=u(this.git6,25),this.git7=u(this.git7,25)):(this.git0=f(this.git0,25),this.git1=f(this.git1,25),this.git2=f(this.git2,25),this.git3=f(this.git3,25),this.git4=f(this.git4,25),this.git5=f(this.git5,25),this.git6=f(this.git6,25),this.git7=f(this.git7,25)),this.gitInv0=this.gitInv0||r(this.git0),this.gitInv1=this.gitInv1||r(this.git1),this.gitInv2=this.gitInv2||r(this.git2),this.gitInv3=this.gitInv3||r(this.git3),this.gitInv4=this.gitInv4||r(this.git4),this.gitInv5=this.gitInv5||r(this.git5),this.gitInv6=this.gitInv6||r(this.git6),this.gitInv7=this.gitInv7||r(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Fi,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Di}calculate(e){if(typeof e!="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},u_=e=>{const t=new d_;return t.calculate(e),t},h_=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=u(this.contrast,55),this.background="#ffffff",this.tertiaryColor=s(this.primaryColor,{h:-160}),this.primaryBorderColor=se(this.primaryColor,this.darkMode),this.secondaryBorderColor=se(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=se(this.tertiaryColor,this.darkMode),this.primaryTextColor=r(this.primaryColor),this.secondaryTextColor=r(this.secondaryColor),this.tertiaryTextColor=r(this.tertiaryColor),this.lineColor=r(this.background),this.textColor=r(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=u(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||r(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||u(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||f(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=u(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=u(this.contrast,30),this.sectionBkgColor2=u(this.contrast,30),this.taskBorderColor=f(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=u(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=f(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=s(this.primaryColor,{h:64}),this.fillType3=s(this.secondaryColor,{h:64}),this.fillType4=s(this.primaryColor,{h:-64}),this.fillType5=s(this.secondaryColor,{h:-64}),this.fillType6=s(this.primaryColor,{h:128}),this.fillType7=s(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=f(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||s(this.primaryColor,{h:-30}),this.git4=this.pie5||s(this.primaryColor,{h:-60}),this.git5=this.pie6||s(this.primaryColor,{h:-90}),this.git6=this.pie7||s(this.primaryColor,{h:60}),this.git7=this.pie8||s(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||r(this.git0),this.gitInv1=this.gitInv1||r(this.git1),this.gitInv2=this.gitInv2||r(this.git2),this.gitInv3=this.gitInv3||r(this.git3),this.gitInv4=this.gitInv4||r(this.git4),this.gitInv5=this.gitInv5||r(this.git5),this.gitInv6=this.gitInv6||r(this.git6),this.gitInv7=this.gitInv7||r(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Fi,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Di}calculate(e){if(typeof e!="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},m_=e=>{const t=new h_;return t.calculate(e),t},dt={base:{getThemeVariables:i_},dark:{getThemeVariables:r_},default:{getThemeVariables:l_},forest:{getThemeVariables:u_},neutral:{getThemeVariables:m_}},zt={theme:"default",themeVariables:dt.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",tickInterval:void 0,useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16},zt.class&&(zt.class.arrowMarkerAbsolute=zt.arrowMarkerAbsolute),zt.gitGraph&&(zt.gitGraph.arrowMarkerAbsolute=zt.arrowMarkerAbsolute),ku=(e,t="")=>Object.keys(e).reduce((n,s)=>Array.isArray(e[s])?n:typeof e[s]=="object"&&e[s]!==null?[...n,t+s,...ku(e[s],"")]:[...n,t+s],[]),v_=ku(zt,""),b_=zt;function j_(e){return typeof e=="undefined"||e===null}function EM(e){return typeof e=="object"&&e!==null}function CM(e){return Array.isArray(e)?e:j_(e)?[]:[e]}function xM(e,t){var n,s,o,i;if(t){o=Object.keys(t);for(n=0,i=o.length;n<i;n+=1)s=o[n],e[s]=t[s]}return e}function OM(e,t){var n,s="";for(n=0;n<t;n+=1)s+=e;return s}function wM(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}C_=j_,E_=EM,k_=CM,A_=OM,S_=wM,M_=xM,ee={isNothing:C_,isObject:E_,toArray:k_,repeat:A_,isNegativeZero:S_,extend:M_};function T_(e,t){var n="",s=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),s+" "+n):s}function Sa(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=T_(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}Sa.prototype=Object.create(Error.prototype),Sa.prototype.constructor=Sa,Sa.prototype.toString=function(t){return this.name+": "+T_(this,t)},rt=Sa;function Wu(e,t,n,s,o){var i="",r="",a=Math.floor(o/2)-1;return s-t>a&&(i=" ... ",t=s-a+i.length),n-s>a&&(r=" ...",n=s+a-r.length),{str:i+e.slice(t,n).replace(/\t/g,"\u2192")+r,pos:s-t+i.length}}function Ku(e,t){return ee.repeat(" ",t-e.length)+e}function _M(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n,i,a,c,l,d,u=/\r?\n|\r|\0/g,o=[0],r=[],s=-1;l=u.exec(e.buffer);)r.push(l.index),o.push(l.index+l[0].length),e.position<=l.index&&s<0&&(s=o.length-2);s<0&&(s=o.length-1),i="",c=Math.min(e.line+t.linesAfter,r.length).toString().length,d=t.maxLength-(t.indent+c+3);for(n=1;n<=t.linesBefore;n++){if(s-n<0)break;a=Wu(e.buffer,o[s-n],r[s-n],e.position-(o[s]-o[s-n]),d),i=ee.repeat(" ",t.indent)+Ku((e.line-n+1).toString(),c)+" | "+a.str+`
`+i}a=Wu(e.buffer,o[s],r[s],e.position,d),i+=ee.repeat(" ",t.indent)+Ku((e.line+1).toString(),c)+" | "+a.str+`
`,i+=ee.repeat("-",t.indent+c+3+a.pos)+`^
`;for(n=1;n<=t.linesAfter;n++){if(s+n>=r.length)break;a=Wu(e.buffer,o[s+n],r[s+n],e.position-(o[s]-o[s+n]),d),i+=ee.repeat(" ",t.indent)+Ku((e.line+n+1).toString(),c)+" | "+a.str+`
`}return i.replace(/\n$/,"")}P_=_M,H_=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],I_=["scalar","sequence","mapping"];function yM(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})}),t}function jM(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(H_.indexOf(t)===-1)throw new rt('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=yM(t.styleAliases||null),I_.indexOf(this.kind)===-1)throw new rt('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}Q=jM;function W_(e,t){var n=[];return e[t].forEach(function(e){var t=n.length;n.forEach(function(n,s){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=s)}),n[t]=e}),n}function gM(){var t,n,e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function s(t){t.multi?(e.multi[t.kind].push(t),e.multi.fallback.push(t)):e[t.kind][t.tag]=e.fallback[t.tag]=t}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(s);return e}function Gu(e){return this.extend(e)}Gu.prototype.extend=function(t){var n,o=[],s=[];if(t instanceof Q)s.push(t);else if(Array.isArray(t))s=s.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(o=o.concat(t.implicit)),t.explicit&&(s=s.concat(t.explicit));else throw new rt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");return o.forEach(function(e){if(!(e instanceof Q))throw new rt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&e.loadKind!=="scalar")throw new rt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new rt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),s.forEach(function(e){if(!(e instanceof Q))throw new rt("Specified list of YAML types (or a single Type object) contains a non-Type object.")}),n=Object.create(Gu.prototype),n.implicit=(this.implicit||[]).concat(o),n.explicit=(this.explicit||[]).concat(s),n.compiledImplicit=W_(n,"implicit"),n.compiledExplicit=W_(n,"explicit"),n.compiledTypeMap=gM(n.compiledImplicit,n.compiledExplicit),n},q_=Gu,Y_=new Q("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),G_=new Q("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),X_=new Q("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Zu=new q_({explicit:[Y_,G_,X_]});function pM(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function fM(){return null}function mM(e){return e===null}tw=new Q("tag:yaml.org,2002:null",{kind:"scalar",resolve:pM,construct:fM,predicate:mM,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function hM(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function uM(e){return e==="true"||e==="True"||e==="TRUE"}function dM(e){return Object.prototype.toString.call(e)==="[object Boolean]"}iw=new Q("tag:yaml.org,2002:bool",{kind:"scalar",resolve:hM,construct:uM,predicate:dM,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function lM(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function cM(e){return 48<=e&&e<=55}function rM(e){return 48<=e&&e<=57}function aM(e){if(e===null)return!1;var t,o=e.length,n=0,s=!1;if(!o)return!1;if(t=e[n],(t==="-"||t==="+")&&(t=e[++n]),t==="0"){if(n+1===o)return!0;if(t=e[++n],t==="b"){for(n++;n<o;n++){if(t=e[n],t==="_")continue;if(t!=="0"&&t!=="1")return!1;s=!0}return s&&t!=="_"}if(t==="x"){for(n++;n<o;n++){if(t=e[n],t==="_")continue;if(!lM(e.charCodeAt(n)))return!1;s=!0}return s&&t!=="_"}if(t==="o"){for(n++;n<o;n++){if(t=e[n],t==="_")continue;if(!cM(e.charCodeAt(n)))return!1;s=!0}return s&&t!=="_"}}if(t==="_")return!1;for(;n<o;n++){if(t=e[n],t==="_")continue;if(!rM(e.charCodeAt(n)))return!1;s=!0}return!!s&&t!=="_"}function iM(e){var n,t=e,s=1;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(s=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return s*parseInt(t.slice(2),2);if(t[1]==="x")return s*parseInt(t.slice(2),16);if(t[1]==="o")return s*parseInt(t.slice(2),8)}return s*parseInt(t,10)}function oM(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ee.isNegativeZero(e)}hw=new Q("tag:yaml.org,2002:int",{kind:"scalar",resolve:aM,construct:iM,predicate:oM,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),mw=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function sM(e){return e!==null&&!!mw.test(e)&&e[e.length-1]!=="_"}function nM(e){var t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1;return"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}gw=/^[-+]?[0-9]+e/;function tM(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ee.isNegativeZero(e))return"-0.0";return n=e.toString(10),gw.test(n)?n.replace("e",".e"):n}function eM(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ee.isNegativeZero(e))}jw=new Q("tag:yaml.org,2002:float",{kind:"scalar",resolve:sM,construct:nM,predicate:eM,represent:tM,defaultStyle:"lowercase"}),yw=Zu.extend({implicit:[tw,iw,hw,jw]}),_w=yw,t1=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),n1=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function JS(e){return e!==null&&(t1.exec(e)!==null||n1.exec(e)!==null)}function ZS(e){var o,i,a,r,c,l,d,u,h,n=0,s=null,t=t1.exec(e);if(t===null&&(t=n1.exec(e)),t===null)throw new Error("Date resolve error");if(a=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(a,r,i));if(c=+t[4],h=+t[5],l=+t[6],t[7]){for(n=t[7].slice(0,3);n.length<3;)n+="0";n=+n}return t[9]&&(d=+t[10],u=+(t[11]||0),s=(d*60+u)*6e4,t[9]==="-"&&(s=-s)),o=new Date(Date.UTC(a,r,i,c,h,l,n)),s&&o.setTime(o.getTime()-s),o}function QS(e){return e.toISOString()}kw=new Q("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:JS,construct:ZS,instanceOf:Date,represent:QS});function XS(e){return e==="<<"||e===null}Sw=new Q("tag:yaml.org,2002:merge",{kind:"scalar",resolve:XS}),tr=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
`;function GS(e){if(e===null)return!1;var t,n,s=0,o=e.length,i=tr;for(t=0;t<o;t++){if(n=i.indexOf(e.charAt(t)),n>64)continue;if(n<0)return!1;s+=6}return s%8===0}function YS(e){var s,o,i=e.replace(/[\r\n=]/g,""),a=i.length,r=tr,t=0,n=[];for(s=0;s<a;s++)s%4===0&&s&&(n.push(t>>16&255),n.push(t>>8&255),n.push(t&255)),t=t<<6|r.indexOf(i.charAt(s));return o=a%4*6,o===0?(n.push(t>>16&255),n.push(t>>8&255),n.push(t&255)):o===18?(n.push(t>>10&255),n.push(t>>2&255)):o===12&&n.push(t>>4&255),new Uint8Array(n)}function qS(e){var o,i,t="",s=0,a=e.length,n=tr;for(o=0;o<a;o++)o%3===0&&o&&(t+=n[s>>18&63],t+=n[s>>12&63],t+=n[s>>6&63],t+=n[s&63]),s=(s<<8)+e[o];return i=a%3,i===0?(t+=n[s>>18&63],t+=n[s>>12&63],t+=n[s>>6&63],t+=n[s&63]):i===2?(t+=n[s>>10&63],t+=n[s>>4&63],t+=n[s<<2&63],t+=n[64]):i===1&&(t+=n[s>>2&63],t+=n[s<<4&63],t+=n[64],t+=n[64]),t}function KS(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}Nw=new Q("tag:yaml.org,2002:binary",{kind:"scalar",resolve:GS,construct:YS,predicate:KS,represent:qS}),Lw=Object.prototype.hasOwnProperty,Rw=Object.prototype.toString;function US(e){if(e===null)return!0;var t,n,s,o,a,i=[],r=e;for(t=0,a=r.length;t<a;t+=1){if(n=r[t],o=!1,Rw.call(n)!=="[object Object]")return!1;for(s in n)if(Lw.call(n,s)){if(o)return!1;o=!0}if(!o)return!1;if(i.indexOf(s)===-1)i.push(s);else return!1}return!0}function WS(e){return e!==null?e:[]}Iw=new Q("tag:yaml.org,2002:omap",{kind:"sequence",resolve:US,construct:WS}),Bw=Object.prototype.toString;function $S(e){if(e===null)return!0;var t,n,s,i,o=e,a=new Array(o.length);for(t=0,i=o.length;t<i;t+=1){if(n=o[t],Bw.call(n)!=="[object Object]")return!1;if(s=Object.keys(n),s.length!==1)return!1;a[t]=[s[0],n[s[0]]]}return!0}function VS(e){if(e===null)return[];var t,n,s,i,o=e,a=new Array(o.length);for(t=0,i=o.length;t<i;t+=1)n=o[t],s=Object.keys(n),a[t]=[s[0],n[s[0]]];return a}Ww=new Q("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:$S,construct:VS}),Uw=Object.prototype.hasOwnProperty;function BS(e){if(e===null)return!0;var t,n=e;for(t in n)if(Uw.call(n,t)&&n[t]!==null)return!1;return!0}function IS(e){return e!==null?e:{}}Yw=new Q("tag:yaml.org,2002:set",{kind:"mapping",resolve:BS,construct:IS}),Gw=_w.extend({implicit:[kw,Sw],explicit:[Nw,Iw,Ww,Yw]}),It=Object.prototype.hasOwnProperty,Ti=1,h1=2,f1=3,ki=4,lr=1,nO=2,p1=3,oO=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,iO=/[\x85\u2028\u2029]/,aO=/[,[\]{}]/,g1=/^(?:!|!!|![a-z-]+!)$/i,j1=/^(?:!|[^,[\]{}])(?:%[0-9a-f]{2}|[0-9a-z-#;/?:@&=+$,_.!~*'()[\]])*$/i;function lO(e){return Object.prototype.toString.call(e)}function nt(e){return e===10||e===13}function Rn(e){return e===9||e===32}function fe(e){return e===9||e===32||e===10||e===13}function io(e){return e===44||e===91||e===93||e===123||e===125}function HS(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function PS(e){return e===120?2:e===117?4:e===85?8:0}function RS(e){return 48<=e&&e<=57?e-48:-1}function vO(e){return e===48?"\0":e===97?"":e===98?"":e===116?"	":e===9?"	":e===110?`
`:e===118?"":e===102?"":e===114?``:e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function LS(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}x1=new Array(256),E1=new Array(256);for(ns=0;ns<256;ns++)x1[ns]=vO(ns)?1:0,E1[ns]=vO(ns);function NS(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Gw,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function OO(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=P_(n),new rt(t,n)}function d(e,t){throw OO(e,t)}function fr(e,t){e.onWarning&&e.onWarning.call(null,OO(e,t))}k1={YAML:function(t,n,s){var o,i,a;t.version!==null&&d(t,"duplication of %YAML directive"),s.length!==1&&d(t,"YAML directive accepts exactly one argument"),o=/^([0-9]+)\.([0-9]+)$/.exec(s[0]),o===null&&d(t,"ill-formed argument of the YAML directive"),a=parseInt(o[1],10),i=parseInt(o[2],10),a!==1&&d(t,"unacceptable YAML version of the document"),t.version=s[0],t.checkLineBreaks=i<2,i!==1&&i!==2&&fr(t,"unsupported YAML version of the document")},TAG:function(t,n,s){var o,i;s.length!==2&&d(t,"TAG directive accepts exactly two arguments"),i=s[0],o=s[1],g1.test(i)||d(t,"ill-formed tag handle (first argument) of the TAG directive"),It.call(t.tagMap,i)&&d(t,'there is a previously declared suffix for "'+i+'" tag handle'),j1.test(o)||d(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{d(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function vn(e,t,n,s){var o,i,a,r;if(t<n){if(o=e.input.slice(t,n),s)for(i=0,r=o.length;i<r;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||d(e,"expected valid JSON character");else oO.test(o)&&d(e,"the stream contains non-printable characters");e.result+=o}}function AO(e,t,n,s){var o,i,a,r;ee.isObject(n)||d(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(n);for(i=0,r=a.length;i<r;i+=1)o=a[i],It.call(t,o)||(t[o]=n[o],s[o]=!0)}function go(e,t,n,s,o,i,a,r,c){var l,u;if(Array.isArray(o)){o=Array.prototype.slice.call(o);for(l=0,u=o.length;l<u;l+=1)Array.isArray(o[l])&&d(e,"nested arrays are not supported inside keys"),typeof o=="object"&&lO(o[l])==="[object Object]"&&(o[l]="[object Object]")}if(typeof o=="object"&&lO(o)==="[object Object]"&&(o="[object Object]"),o=String(o),t===null&&(t={}),s==="tag:yaml.org,2002:merge")if(Array.isArray(i))for(l=0,u=i.length;l<u;l+=1)AO(e,t,i[l],n);else AO(e,t,i,n);else!e.json&&!It.call(n,o)&&It.call(t,o)&&(e.line=a||e.line,e.lineStart=r||e.lineStart,e.position=c||e.position,d(e,"duplicated mapping key")),o==="__proto__"?Object.defineProperty(t,o,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[o]=i,delete n[o];return t}function z1(e){var t=e.input.charCodeAt(e.position);t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):d(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function R(e,t,n){for(var o=0,s=e.input.charCodeAt(e.position);s!==0;){for(;Rn(s);)s===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),s=e.input.charCodeAt(++e.position);if(t&&s===35)do s=e.input.charCodeAt(++e.position);while(s!==10&&s!==13&&s!==0)if(nt(s))for(z1(e),s=e.input.charCodeAt(e.position),o++,e.lineIndent=0;s===32;)e.lineIndent++,s=e.input.charCodeAt(++e.position);else break}return n!==-1&&o!==0&&e.lineIndent<n&&fr(e,"deficient indentation"),o}function jr(e){var n=e.position,t=e.input.charCodeAt(n);return!!((t===45||t===46)&&t===e.input.charCodeAt(n+1)&&t===e.input.charCodeAt(n+2)&&(n+=3,t=e.input.charCodeAt(n),t===0||fe(t)))}function N1(e,t){t===1?e.result+=" ":t>1&&(e.result+=ee.repeat(`
`,t-1))}function DS(e,t,n){var o,i,a,r,c,l,d,u,h=e.kind,m=e.result,s=e.input.charCodeAt(e.position);if(fe(s)||io(s)||s===35||s===38||s===42||s===33||s===124||s===62||s===39||s===34||s===37||s===64||s===96)return!1;if((s===63||s===45)&&(o=e.input.charCodeAt(e.position+1),fe(o)||n&&io(o)))return!1;for(e.kind="scalar",e.result="",a=i=e.position,r=!1;s!==0;){if(s===58){if(o=e.input.charCodeAt(e.position+1),fe(o)||n&&io(o))break}else if(s===35){if(l=e.input.charCodeAt(e.position-1),fe(l))break}else if(e.position===e.lineStart&&jr(e)||n&&io(s))break;if(nt(s)){if(c=e.line,d=e.lineStart,u=e.lineIndent,R(e,!1,-1),e.lineIndent>=t){r=!0,s=e.input.charCodeAt(e.position);continue}e.position=i,e.line=c,e.lineStart=d,e.lineIndent=u;break}r&&(vn(e,a,i,!1),N1(e,e.line-c),a=i=e.position,r=!1),Rn(s)||(i=e.position+1),s=e.input.charCodeAt(++e.position)}return vn(e,a,i,!1),!!e.result||(e.kind=h,e.result=m,!1)}function zS(e,t){if(n=e.input.charCodeAt(e.position),n!==39)return!1;e.kind="scalar",e.result="",e.position++,s=o=e.position;for(var n,s,o;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(vn(e,s,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)s=e.position,e.position++,o=e.position;else return!0;else nt(n)?(vn(e,s,o,!0),N1(e,R(e,!1,t)),s=o=e.position):e.position===e.lineStart&&jr(e)?d(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);d(e,"unexpected end of the stream within a single quoted scalar")}function TS(e,t){if(n=e.input.charCodeAt(e.position),n!==34)return!1;for(e.kind="scalar",e.result="",e.position++,s=o=e.position;(n=e.input.charCodeAt(e.position))!==0;){if(n===34)return vn(e,s,e.position,!0),e.position++,!0;if(n===92){if(vn(e,s,e.position,!0),n=e.input.charCodeAt(++e.position),nt(n))R(e,!1,t);else if(n<256&&x1[n])e.result+=E1[n],e.position++;else if((a=PS(n))>0){r=a,i=0;for(var n,s,o,i,a,r;r>0;r--)n=e.input.charCodeAt(++e.position),(a=HS(n))>=0?i=(i<<4)+a:d(e,"expected hexadecimal character");e.result+=LS(i),e.position++}else d(e,"unknown escape sequence");s=o=e.position}else nt(n)?(vn(e,s,o,!0),N1(e,R(e,!1,t)),s=o=e.position):e.position===e.lineStart&&jr(e)?d(e,"unexpected end of the document within a double quoted scalar"):(e.position++,o=e.position)}d(e,"unexpected end of the stream within a double quoted scalar")}function FS(e,t){var s,o,i,a,r,c,l,u,h,m,f,v,p=!0,j=e.tag,b=e.anchor,g=Object.create(null),n=e.input.charCodeAt(e.position);if(n===91)f=93,i=!1,s=[];else if(n===123)f=125,i=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),n=e.input.charCodeAt(++e.position);n!==0;){if(R(e,!0,t),n=e.input.charCodeAt(e.position),n===f)return e.position++,e.tag=j,e.anchor=b,e.kind=i?"mapping":"sequence",e.result=s,!0;p?n===44&&d(e,"expected the node content, but found ','"):d(e,"missed comma between flow collection entries"),c=o=r=null,a=m=!1,n===63&&(v=e.input.charCodeAt(e.position+1),fe(v)&&(a=m=!0,e.position++,R(e,!0,t))),l=e.line,u=e.lineStart,h=e.position,So(e,t,Ti,!1,!0),c=e.tag,o=e.result,R(e,!0,t),n=e.input.charCodeAt(e.position),(m||e.line===l)&&n===58&&(a=!0,n=e.input.charCodeAt(++e.position),R(e,!0,t),So(e,t,Ti,!1,!0),r=e.result),i?go(e,s,g,c,o,r,l,u,h):a?s.push(go(e,null,g,c,o,r,l,u,h)):s.push(o),R(e,!0,t),n=e.input.charCodeAt(e.position),n===44?(p=!0,n=e.input.charCodeAt(++e.position)):p=!1}d(e,"unexpected end of the stream within a flow collection")}function MS(e,t){var c,u,h,r=lr,o=!1,i=!1,a=t,s=0,l=!1,n=e.input.charCodeAt(e.position);if(n===124)c=!1;else if(n===62)c=!0;else return!1;for(e.kind="scalar",e.result="";n!==0;)if(n=e.input.charCodeAt(++e.position),n===43||n===45)lr===r?r=n===43?p1:nO:d(e,"repeat of a chomping mode identifier");else if((u=RS(n))>=0)u===0?d(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):i?d(e,"repeat of an indentation width identifier"):(a=t+u-1,i=!0);else break;if(Rn(n)){do n=e.input.charCodeAt(++e.position);while(Rn(n))if(n===35)do n=e.input.charCodeAt(++e.position);while(!nt(n)&&n!==0)}for(;n!==0;){for(z1(e),e.lineIndent=0,n=e.input.charCodeAt(e.position);(!i||e.lineIndent<a)&&n===32;)e.lineIndent++,n=e.input.charCodeAt(++e.position);if(!i&&e.lineIndent>a&&(a=e.lineIndent),nt(n)){s++;continue}if(e.lineIndent<a){r===p1?e.result+=ee.repeat(`
`,o?1+s:s):r===lr&&o&&(e.result+=`
`);break}for(c?Rn(n)?(l=!0,e.result+=ee.repeat(`
`,o?1+s:s)):l?(l=!1,e.result+=ee.repeat(`
`,s+1)):s===0?o&&(e.result+=" "):e.result+=ee.repeat(`
`,s):e.result+=ee.repeat(`
`,o?1+s:s),o=!0,i=!0,s=0,h=e.position;!nt(n)&&n!==0;)n=e.input.charCodeAt(++e.position);vn(e,h,e.position,!1)}return!0}function HO(e,t){var n,o,a,r=e.tag,c=e.anchor,s=[],i=!1;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),n=e.input.charCodeAt(e.position);n!==0;){if(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,d(e,"tab characters must not be used in indentation")),n!==45)break;if(o=e.input.charCodeAt(e.position+1),!fe(o))break;if(i=!0,e.position++,R(e,!0,-1)&&e.lineIndent<=t){s.push(null),n=e.input.charCodeAt(e.position);continue}if(a=e.line,So(e,t,f1,!1,!0),s.push(e.result),R(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===a||e.lineIndent>t)&&n!==0)d(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return!!i&&(e.tag=r,e.anchor=c,e.kind="sequence",e.result=s,!0)}function SS(e,t,n){var s,r,c,l,p,g,j,b=e.tag,v=e.anchor,h={},f=Object.create(null),a=null,i=null,m=null,o=!1,u=!1;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),s=e.input.charCodeAt(e.position);s!==0;){if(!o&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,d(e,"tab characters must not be used in indentation")),j=e.input.charCodeAt(e.position+1),p=e.line,(s===63||s===58)&&fe(j))s===63?(o&&(go(e,h,f,a,i,null,r,c,l),a=i=m=null),u=!0,o=!0,g=!0):o?(o=!1,g=!0):d(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,s=j;else{if(r=e.line,c=e.lineStart,l=e.position,!So(e,n,h1,!1,!0))break;if(e.line===p){for(s=e.input.charCodeAt(e.position);Rn(s);)s=e.input.charCodeAt(++e.position);if(s===58)s=e.input.charCodeAt(++e.position),fe(s)||d(e,"a whitespace character is expected after the key-value separator within a block mapping"),o&&(go(e,h,f,a,i,null,r,c,l),a=i=m=null),u=!0,o=!1,g=!1,a=e.tag,i=e.result;else if(u)d(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=b,e.anchor=v,!0}else if(u)d(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=b,e.anchor=v,!0}if((e.line===p||e.lineIndent>t)&&(o&&(r=e.line,c=e.lineStart,l=e.position),So(e,t,ki,!0,g)&&(o?i=e.result:m=e.result),o||(go(e,h,f,a,i,m,r,c,l),a=i=m=null),R(e,!0,-1),s=e.input.charCodeAt(e.position)),(e.line===p||e.lineIndent>t)&&s!==0)d(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return o&&go(e,h,f,a,i,null,r,c,l),u&&(e.tag=b,e.anchor=v,e.kind="mapping",e.result=h),u}function AS(e){var n,s,o,i=!1,a=!1,t=e.input.charCodeAt(e.position);if(t!==33)return!1;if(e.tag!==null&&d(e,"duplication of a tag property"),t=e.input.charCodeAt(++e.position),t===60?(i=!0,t=e.input.charCodeAt(++e.position)):t===33?(a=!0,s="!!",t=e.input.charCodeAt(++e.position)):s="!",o=e.position,i){do t=e.input.charCodeAt(++e.position);while(t!==0&&t!==62)e.position<e.length?(n=e.input.slice(o,e.position),t=e.input.charCodeAt(++e.position)):d(e,"unexpected end of the stream within a verbatim tag")}else{for(;t!==0&&!fe(t);)t===33&&(a?d(e,"tag suffix cannot contain exclamation marks"):(s=e.input.slice(o-1,e.position+1),g1.test(s)||d(e,"named tag handle cannot contain such characters"),a=!0,o=e.position+1)),t=e.input.charCodeAt(++e.position);n=e.input.slice(o,e.position),aO.test(n)&&d(e,"tag suffix cannot contain flow indicator characters")}n&&!j1.test(n)&&d(e,"tag name cannot contain such characters: "+n);try{n=decodeURIComponent(n)}catch{d(e,"tag name is malformed: "+n)}return i?e.tag=n:It.call(e.tagMap,s)?e.tag=e.tagMap[s]+n:s==="!"?e.tag="!"+n:s==="!!"?e.tag="tag:yaml.org,2002:"+n:d(e,'undeclared tag handle "'+s+'"'),!0}function kS(e){if(t=e.input.charCodeAt(e.position),t!==38)return!1;e.anchor!==null&&d(e,"duplication of an anchor property"),t=e.input.charCodeAt(++e.position),n=e.position;for(var t,n;t!==0&&!fe(t)&&!io(t);)t=e.input.charCodeAt(++e.position);return e.position===n&&d(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function ES(e){if(t=e.input.charCodeAt(e.position),t!==42)return!1;t=e.input.charCodeAt(++e.position),s=e.position;for(var t,n,s;t!==0&&!fe(t)&&!io(t);)t=e.input.charCodeAt(++e.position);return e.position===s&&d(e,"name of an alias node must contain at least one character"),n=e.input.slice(s,e.position),It.call(e.anchorMap,n)||d(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],R(e,!0,-1),!0}function So(e,t,n,s,o){var i,a,c,l,h,m,f,g,v,r=1,p=!1,u=!1;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,g=v=l=ki===n||f1===n,s&&R(e,!0,-1)&&(p=!0,e.lineIndent>t?r=1:e.lineIndent===t?r=0:e.lineIndent<t&&(r=-1)),r===1)for(;AS(e)||kS(e);)R(e,!0,-1)?(p=!0,l=g,e.lineIndent>t?r=1:e.lineIndent===t?r=0:e.lineIndent<t&&(r=-1)):l=!1;if(l&&(l=p||o),(r===1||ki===n)&&(Ti===n||h1===n?c=t:c=t+1,f=e.position-e.lineStart,r===1?l&&(HO(e,f)||SS(e,f,c))||FS(e,c)?u=!0:(v&&MS(e,c)||zS(e,c)||TS(e,c)?u=!0:ES(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&d(e,"alias node should not have any properties")):DS(e,c,Ti===n)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):r===0&&(u=l&&HO(e,f))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){{e.result!==null&&e.kind!=="scalar"&&d(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"');for(a=0,m=e.implicitTypes.length;a<m;a+=1)if(i=e.implicitTypes[a],i.resolve(e.result)){e.result=i.construct(e.result),e.tag=i.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}}else if(e.tag!=="!"){if(It.call(e.typeMap[e.kind||"fallback"],e.tag))i=e.typeMap[e.kind||"fallback"][e.tag];else{i=null,h=e.typeMap.multi[e.kind||"fallback"];for(a=0,m=h.length;a<m;a+=1)if(e.tag.slice(0,h[a].tag.length)===h[a].tag){i=h[a];break}}i||d(e,"unknown tag !<"+e.tag+">"),e.result!==null&&i.kind!==e.kind&&d(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+i.kind+'", not "'+e.kind+'"'),i.resolve(e.result,e.tag)?(e.result=i.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):d(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function CS(e){var t,n,s,o,a=e.position,i=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(t=e.input.charCodeAt(e.position))!==0;){if(R(e,!0,-1),t=e.input.charCodeAt(e.position),e.lineIndent>0||t!==37)break;for(i=!0,t=e.input.charCodeAt(++e.position),s=e.position;t!==0&&!fe(t);)t=e.input.charCodeAt(++e.position);for(n=e.input.slice(s,e.position),o=[],n.length<1&&d(e,"directive name must not be less than one character in length");t!==0;){for(;Rn(t);)t=e.input.charCodeAt(++e.position);if(t===35){do t=e.input.charCodeAt(++e.position);while(t!==0&&!nt(t))break}if(nt(t))break;for(s=e.position;t!==0&&!fe(t);)t=e.input.charCodeAt(++e.position);o.push(e.input.slice(s,e.position))}t!==0&&z1(e),It.call(k1,n)?k1[n](e,n,o):fr(e,'unknown document directive "'+n+'"')}if(R(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,R(e,!0,-1)):i&&d(e,"directives end mark is expected"),So(e,e.lineIndent-1,ki,!1,!0),R(e,!0,-1),e.checkLineBreaks&&iO.test(e.input.slice(a,e.position))&&fr(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&jr(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,R(e,!0,-1));return}if(e.position<e.length-1)d(e,"end of the stream or a document separator is expected");else return}function KO(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new NS(e,t),s=e.indexOf("\0");for(s!==-1&&(n.position=s,d(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)CS(n);return n.documents}function xS(e,t,n){if(t!==null&&typeof t=="object"&&typeof n=="undefined"&&(n=t,t=null),s=KO(e,n),typeof t!="function")return s;for(var s,o=0,i=s.length;o<i;o+=1)t(s[o])}function OS(e,t){var n=KO(e,t);if(n.length===0)return void 0;if(n.length===1)return n[0];throw new rt("expected a single document in the stream, but found more")}GO=xS,XO=OS,QO={loadAll:GO,load:XO},ZO=Zu,JO=QO.load,H1=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s;function wS(e,t){var s;const n=e.match(H1);if(n){const o=JO(n[1],{schema:ZO});return o?.title&&((s=t.setDiagramTitle)==null?void 0:s.call(t,o.title)),e.slice(n[0].length)}return e}nx=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,sx=/\s*%%.*\n/gm,Wo={},Or=function(e,t){e=e.replace(H1,"").replace(nx,"").replace(sx,`
`);for(const[n,{detector:s}]of Object.entries(Wo)){const o=s(e,t);if(o)return n}throw new Error(`No diagram type detected for text: ${e}`)},Q1=(t,n,s)=>{if(Wo[t])throw new Error(`Detector with key ${t} already exists`);Wo[t]={detector:n,loader:s},e.debug(`Detector with key ${t} added${s?" with loader":""}`)},rx=e=>Wo[e].loader,xr=function(e,t,n){const{depth:s,clobber:o}=Object.assign({depth:2,clobber:!1},n);return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(t=>xr(e,t,n)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(t=>{e.includes(t)||e.push(t)}),e):e===void 0||s<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(n=>{typeof t[n]=="object"&&(e[n]===void 0||typeof e[n]=="object")?(e[n]===void 0&&(e[n]=Array.isArray(t[n])?[]:{}),e[n]=xr(e[n],t[n],{depth:s-1,clobber:o})):(o||typeof e[n]!="object"&&typeof t[n]!="object")&&(e[n]=t[n])}),e)},U=xr,dx={curveBasis:_o,curveBasisClosed:IL,curveBasisOpen:HL,curveLinear:we,curveLinearClosed:PL,curveMonotoneX:RL,curveMonotoneY:LL,curveNatural:NL,curveStep:DL,curveStepAfter:TL,curveStepBefore:zL},Cr=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,mS=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,mx=function(e,t){const s=u4(e,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(s)){const e=s.map(e=>e.args);rn(e),n=U(n,[...e])}else n=s.args;if(n){let s=Or(e,t);["config"].forEach(e=>{n[e]!==void 0&&(s==="flowchart-v2"&&(s="flowchart"),n[s]=n[e],delete n[e])})}return n},u4=function(t,n=null){try{const i=new RegExp(`[%]{2}(?![{]${mS.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(i,"").replace(/'/gm,'"'),e.debug(`Detecting diagram directive${n!==null?" type:"+n:""} based on the text:${t}`);let s;const o=[];for(;(s=Cr.exec(t))!==null;)if(s.index===Cr.lastIndex&&Cr.lastIndex++,s&&!n||n&&s[1]&&s[1].match(n)||n&&s[2]&&s[2].match(n)){const e=s[1]?s[1]:s[2],t=s[3]?s[3].trim():s[4]?JSON.parse(s[4].trim()):null;o.push({type:e,args:t})}return o.length===0&&o.push({type:t,args:null}),o.length===1?o[0]:o}catch(s){return e.error(`ERROR: ${s.message} - Unable to parse directive
      ${n!==null?" type:"+n:""} based on the text:${t}`),{type:null,args:null}}},px=function(e,t){for(const[n,s]of t.entries())if(s.match(e))return n;return-1};function We(e,t){if(!e)return t;const n=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return dx[n]||t}function _S(e,t){const n=e.trim();if(n)return t.securityLevel!=="loose"?(0,Ut.sanitizeUrl)(n):n}bx=(e,...t)=>{const s=e.split("."),o=s.length-1,i=s[o];let n=window;for(let e=0;e<o;e++)if(n=n[s[e]],!n)return;n[i](...t)};function Nr(e,t){return e&&t?Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0}function yS(e){let t,o=0;e.forEach(e=>{o+=Nr(e,t),t=e});let s=o/2,n=void 0;return t=void 0,e.forEach(e=>{if(t&&!n){const o=Nr(e,t);if(o<s)s-=o;else{const i=s/o;i<=0&&(n=t),i>=1&&(n={x:e.x,y:e.y}),i>0&&i<1&&(n={x:(1-i)*t.x+i*e.x,y:(1-i)*t.y+i*e.y})}}t=e}),n}function jS(e){return e.length===1?e[0]:yS(e)}wx=(t,n,s)=>{let i;e.info(`our points ${JSON.stringify(n)}`),n[0]!==s&&(n=n.reverse());const d=25;let a=d,o;i=void 0,n.forEach(e=>{if(i&&!o){const t=Nr(e,i);if(t<a)a-=t;else{const n=a/t;n<=0&&(o=i),n>=1&&(o={x:e.x,y:e.y}),n>0&&n<1&&(o={x:(1-n)*i.x+n*e.x,y:(1-n)*i.y+n*e.y})}}i=e});const c=t?10:5,l=Math.atan2(n[0].y-o.y,n[0].x-o.x),r={x:0,y:0};return r.x=Math.sin(l)*c+(n[0].x+o.x)/2,r.y=-Math.cos(l)*c+(n[0].y+o.y)/2,r};function bS(t,n,s){let o=JSON.parse(JSON.stringify(s)),l;e.info("our points",o),n!=="start_left"&&n!=="start_right"&&(o=o.reverse()),o.forEach(e=>{l=e});const u=25+t;let d=u,i;l=void 0,o.forEach(e=>{if(l&&!i){const t=Nr(e,l);if(t<d)d-=t;else{const n=d/t;n<=0&&(i=l),n>=1&&(i={x:e.x,y:e.y}),n>0&&n<1&&(i={x:(1-n)*l.x+n*e.x,y:(1-n)*l.y+n*e.y})}}l=e});const r=10+t*.5,c=Math.atan2(o[0].y-i.y,o[0].x-i.x),a={x:0,y:0};return a.x=Math.sin(c)*r+(o[0].x+i.x)/2,a.y=-Math.cos(c)*r+(o[0].y+i.y)/2,n==="start_left"&&(a.x=Math.sin(c+Math.PI)*r+(o[0].x+i.x)/2,a.y=-Math.cos(c+Math.PI)*r+(o[0].y+i.y)/2),n==="end_right"&&(a.x=Math.sin(c-Math.PI)*r+(o[0].x+i.x)/2-5,a.y=-Math.cos(c-Math.PI)*r+(o[0].y+i.y)/2-5),n==="end_left"&&(a.x=Math.sin(c)*r+(o[0].x+i.x)/2-5,a.y=-Math.cos(c)*r+(o[0].y+i.y)/2-5),a}function an(e){let t="",n="";for(const s of e)s!==void 0&&(s.startsWith("color:")||s.startsWith("text-align:")?n=n+s+";":t=t+s+";");return{style:t,labelStyle:n}}f4=0,v4=()=>(f4++,"id-"+Math.random().toString(36).substr(2,12)+"-"+f4);function vS(e){let t="";const n="0123456789abcdef",s=n.length;for(let o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*s));return t}b4=e=>vS(e.length),Sx=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},Mx=function(e,t){const o=t.text.replace(h.lineBreakRegex," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.style("text-anchor",t.anchor),n.style("font-family",t.fontFamily),n.style("font-size",t.fontSize),n.style("font-weight",t.fontWeight),n.attr("fill",t.fill),t.class!==void 0&&n.attr("class",t.class);const s=n.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.attr("fill",t.fill),s.text(o),n},E4=za((e,t,n)=>{if(!e)return e;if(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),h.lineBreakRegex.test(e))return e;const i=e.split(" "),o=[];let s="";return i.forEach((e,a)=>{const r=jt(`${e} `,n),c=jt(s,n);if(r>t){const{hyphenatedStrings:i,remainingWord:a}=Tx(e,t,"-",n);o.push(s,...i),s=a}else c+r>=t?(o.push(s),s=e):s=[s,e].filter(Boolean).join(" ");const l=a+1,d=l===i.length;d&&o.push(s)}),o.filter(e=>e!=="").join(n.joinWith)},(e,t,n)=>`${e}${t}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),Tx=za((e,t,n="-",s)=>{s=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},s);const i=[...e],a=[];let o="";return i.forEach((e,r)=>{const c=`${o}${e}`,l=jt(c,s);if(l>=t){const e=r+1,t=i.length===e,s=`${c}${n}`;a.push(t?c:s),o=""}else o=c}),{hyphenatedStrings:a,remainingWord:o}},(e,t,n="-",s)=>`${e}${t}${n}${s.fontSize}${s.fontWeight}${s.fontFamily}`);function A4(e,t){return t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},t),Br(e,t).height}function jt(e,t){return t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},t),Br(e,t).width}Br=za((e,t)=>{t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},t);const{fontSize:l,fontFamily:d,fontWeight:a}=t;if(!e)return{width:0,height:0};const r=["sans-serif",d],c=e.split(h.lineBreakRegex),n=[],s=i("body");if(!s.remove)return{width:0,height:0,lineHeight:0};const o=s.append("svg");for(const s of r){let t=0;const e={width:0,height:0,lineHeight:0};for(const d of c){const n=Sx();n.text=d;const i=Mx(o,n).style("font-size",l).style("font-weight",a).style("font-family",s),r=(i._groups||i)[0][0].getBBox();e.width=Math.round(Math.max(e.width,r.width)),t=Math.round(r.height),e.height+=t,e.lineHeight=Math.round(Math.max(e.lineHeight,t))}n.push(e)}o.remove();const u=isNaN(n[1].height)||isNaN(n[1].width)||isNaN(n[1].lineHeight)||n[0].height>n[1].height&&n[0].width>n[1].width&&n[0].lineHeight>n[1].lineHeight?0:1;return n[u]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),Lx=class iterator{constructor(e,t){this.deterministic=e,this.seed=t,this.count=t?t.length:0}next(){return this.deterministic?this.count++:Date.now()}},Px=function(e){return Vr=Vr||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Vr.innerHTML=e,unescape(Vr.textContent)},rn=t=>{if(e.debug("directiveSanitizer called with",t),typeof t=="object"&&(t.length?t.forEach(e=>rn(e)):Object.keys(t).forEach(n=>{e.debug("Checking key",n),n.startsWith("__")&&(e.debug("sanitize deleting __ option",n),delete t[n]),n.includes("proto")&&(e.debug("sanitize deleting proto option",n),delete t[n]),n.includes("constr")&&(e.debug("sanitize deleting constr option",n),delete t[n]),n.includes("themeCSS")&&(e.debug("sanitizing themeCss option"),t[n]=Ni(t[n])),n.includes("fontFamily")&&(e.debug("sanitizing fontFamily option"),t[n]=Ni(t[n])),n.includes("altFontFamily")&&(e.debug("sanitizing altFontFamily option"),t[n]=Ni(t[n])),v_.includes(n)?typeof t[n]=="object"&&(e.debug("sanitize deleting object",n),rn(t[n])):(e.debug("sanitize deleting option",n),delete t[n])})),t.themeVariables){const e=Object.keys(t.themeVariables);for(const s of e){const n=t.themeVariables[s];n&&n.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[s]="")}}e.debug("After sanitization",t)},Ni=e=>{let t=0,n=0;for(const s of e){if(t<n)return"{ /* ERROR: Unbalanced CSS */ }";s==="{"?t++:s==="}"&&n++}return t!==n?"{ /* ERROR: Unbalanced CSS */ }":e};function S4(e){return"str"in e}function gS(e){return e instanceof Error?e.message:String(e)}$x=(e,t,n,s)=>{if(!s)return;const o=e.node().getBBox();e.append("text").text(s).attr("x",o.x+o.width/2).attr("y",-n).attr("class",t)},p={assignWithDepth:U,wrapLabel:E4,calculateTextHeight:A4,calculateTextWidth:jt,calculateTextDimensions:Br,detectInit:mx,detectDirective:u4,isSubstringInArray:px,interpolateToCurve:We,calcLabelPosition:jS,calcCardinalityPosition:wx,calcTerminalLabelPosition:bS,formatUrl:_S,getStylesFromArray:an,generateId:v4,random:b4,runFunc:bx,entityDecode:Px,initIdGenerator:Lx,directiveSanitizer:rn,sanitizeCss:Ni,insertTitle:$x},Ux="mermaid",Kx="9.3.0",qx="Markdown-ish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.",Yx="./dist/mermaid.min.js",Gx="./dist/mermaid.core.mjs",Xx="./dist/mermaid.d.ts",Qx={".":{require:"./dist/mermaid.min.js",import:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts"},"./*":"./*"},Zx=["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph"],Jx={clean:"rimraf dist","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaidAPI.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:spellcheck && pnpm docs:code && ts-node-esm src/docs.mts","docs:verify":"pnpm docs:spellcheck && pnpm docs:code && ts-node-esm src/docs.mts --verify","docs:pre:vitepress":"rimraf src/vitepress && pnpm docs:code && ts-node-esm src/docs.mts --vitepress","docs:build:vitepress":"pnpm docs:pre:vitepress && vitepress build src/vitepress","docs:dev":'pnpm docs:pre:vitepress && concurrently "vitepress dev src/vitepress" "ts-node-esm src/docs.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell --config ../../cSpell.json "src/docs/**/*.md"',release:"pnpm build",prepublishOnly:"pnpm -w run build"},eC={type:"git",url:"https://github.com/mermaid-js/mermaid"},tC="Knut Sveidqvist",nC="MIT",sC={ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},oC={"@braintree/sanitize-url":"^6.0.0",d3:"^7.0.0","dagre-d3-es":"7.0.6",dompurify:"2.4.1",khroma:"^2.0.0","lodash-es":"^4.17.21","moment-mini":"^2.24.0","non-layered-tidy-tree-layout":"^2.0.2",stylis:"^4.1.2",uuid:"^9.0.0"},iC={"@types/d3":"^7.4.0","@types/dompurify":"^2.4.0","@types/jsdom":"^20.0.1","@types/lodash-es":"^4.17.6","@types/micromatch":"^4.0.2","@types/prettier":"^2.7.1","@types/stylis":"^4.0.2","@types/uuid":"^8.3.4","@typescript-eslint/eslint-plugin":"^5.42.1","@typescript-eslint/parser":"^5.42.1",chokidar:"^3.5.3",concurrently:"^7.5.0",coveralls:"^3.1.1",cspell:"^6.14.3",globby:"^13.1.2",jison:"^0.4.18","js-base64":"^3.7.2",jsdom:"^20.0.2",micromatch:"^4.0.5",moment:"^2.29.4","path-browserify":"^1.0.1",prettier:"^2.7.1",remark:"^14.0.2",rimraf:"^3.0.2","start-server-and-test":"^1.14.0",typedoc:"^0.23.18","typedoc-plugin-markdown":"^3.13.6",typescript:"^4.8.4","unist-util-flatmap":"^1.0.0",vitepress:"^1.0.0-alpha.28","vitepress-plugin-search":"^1.0.4-alpha.15"},aC=["dist","README.md"],rC=["**/*.css","**/*.scss"],Qi={name:Ux,version:Kx,description:qx,main:Yx,module:Gx,types:Xx,exports:Qx,keywords:Zx,scripts:Jx,repository:eC,author:tC,license:nC,standard:sC,dependencies:oC,devDependencies:iC,files:aC,sideEffects:rC},$n=Object.freeze(b_),le=U({},$n),In=[],Fs=U({},$n),ga=(e,t)=>{let n=U({},e),s={};for(const e of t)e0(e),s=U(s,e);if(n=U(n,s),s.theme&&s.theme in dt){const e=U({},uC),t=U(e.themeVariables||{},s.themeVariables);n.theme&&n.theme in dt&&(n.themeVariables=dt[n.theme].getThemeVariables(t))}return Fs=n,p0(Fs),Fs},pC=e=>(le=U({},$n),le=U(le,e),e.theme&&dt[e.theme]&&(le.themeVariables=dt[e.theme].getThemeVariables(e.themeVariables)),ga(le,In),le),gC=e=>{uC=U({},e)},vC=e=>(le=U(le,e),ga(le,In),le),V4=()=>U({},le),K4=e=>(p0(e),U(Fs,e),t()),t=()=>U({},Fs),e0=t=>{var n;["secure",...(n=le.secure)!=null?n:[]].forEach(n=>{t[n]!==void 0&&(e.debug(`Denied attempt to modify a secure key ${n}`,t[n]),delete t[n])}),Object.keys(t).forEach(e=>{e.indexOf("__")===0&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&e0(t[e])})},Pa=e=>{e.fontFamily&&(e.themeVariables?e.themeVariables.fontFamily||(e.themeVariables={fontFamily:e.fontFamily}):e.themeVariables={fontFamily:e.fontFamily}),In.push(e),ga(le,In)},vs=(e=le)=>{In=[],ga(e,In)},u0=(e=>(e.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",e))(u0||{}),h0={},EC=t=>{if(h0[t])return;e.warn(u0[t]),h0[t]=!0},p0=e=>{if(!e)return;(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&EC("LAZY_LOAD_DEPRECATED")},AC=function(e,t){for(let n of t)e.attr(n[0],n[1])},SC=function(e,t,n){let s=new Map;return n?(s.set("width","100%"),s.set("style",`max-width: ${t}px;`)):(s.set("height",e),s.set("width",t)),s},Fe=function(e,t,n,s){const o=SC(t,n,s);AC(e,o)},ta=function(t,n,s,o){const i=n.node().getBBox(),c=i.width,l=i.height;e.info(`SVG bounds: ${c}x${l}`,i);let a=0,r=0;e.info(`Graph bounds: ${a}x${r}`,t),a=c+s*2,r=l+s*2,e.info(`Calculated bounds: ${a}x${r}`),Fe(n,r,a,o);const d=`${i.x-s} ${i.y-s} ${i.width+2*s} ${i.height+2*s}`;n.attr("viewBox",d)},TC=e=>`g.classGroup text {
  fill: ${e.nodeBorder};
  fill: ${e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,Is=TC,DC=e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${e.attributeBackgroundColorOdd};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${e.attributeBackgroundColorEven};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${e.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }    
`,g0=DC,LC=()=>``,j0=LC,PC=e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span {
    color: ${e.titleColor};
  }

  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,zi=PC,IC=e=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${e.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${e.fontFamily};
      fill: ${e.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${e.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${e.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${e.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,y0=IC,VC=()=>``,_0=VC,WC=e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,O0=WC,KC=e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 100%;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }

`,x0=KC,YC=e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }
`,E0=YC,XC=e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,Ei=XC,ZC=e=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
`,k0=ZC,eE=e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,A0=eE,xi={flowchart:zi,"flowchart-v2":zi,sequence:E0,gantt:y0,classDiagram:Is,"classDiagram-v2":Is,class:Is,stateDiagram:Ei,state:Ei,info:_0,pie:O0,er:g0,error:j0,journey:k0,requirement:x0,c4:A0},sE=(t,n,s)=>{let o="";return t in xi&&xi[t]?o=xi[t](s):e.warn(`No theme found for ${t}`),` & {
    font-family: ${s.fontFamily};
    font-size: ${s.fontSize};
    fill: ${s.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${s.errorBkgColor};
  }
  & .error-text {
    fill: ${s.errorTextColor};
    stroke: ${s.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${s.lineColor};
    stroke: ${s.lineColor};
  }
  & .marker.cross {
    stroke: ${s.lineColor};
  }

  & svg {
    font-family: ${s.fontFamily};
    font-size: ${s.fontSize};
  }

  ${o}

  ${n}
`},oE=(e,t)=>{xi[e]=t},iE=sE,aE=e,rE=$r,eo=t,lE=e=>Le(e,eo()),D0=ta,oi={},$=(e,t,n)=>{if(oi[e])throw new Error(`Diagram ${e} already registered.`);oi[e]=t,n&&Q1(e,n),oE(e,t.styles),t.injectUtils&&t.injectUtils(aE,rE,eo,lE,D0)},R0=e=>{if(e in oi)return oi[e];throw new Error(`Diagram ${e} not found.`)},xc=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},g=[1,4],a=[1,7],r=[1,5],l=[1,9],i=[1,6],m=[2,6],h=[1,16],u=[6,8,14,20,22,24,25,27,29,32,37,40,50,55],c=[8,14,20,22,24,25,27,29,32,37,40],_=[8,13,14,20,22,24,25,27,29,32,37,40],y=[1,26],b=[6,8,14,50,55],t=[8,14,55],f=[1,53],p=[1,52],w=[8,14,30,33,35,38,55],o=[1,67],n=[1,68],s=[1,69],v=[8,14,33,35,42,55],d={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ref:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,ID:54,";":55,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:"ID",55:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[28,1],[28,1],[4,1],[4,1],[4,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 3:return a[c];case 4:return a[c-1];case 5:return o.setDirection(a[c-3]),a[c-1];case 7:o.setOptions(a[c-1]),this.$=a[c];break;case 8:a[c-1]+=a[c],this.$=a[c-1];break;case 10:this.$=[];break;case 11:a[c-1].push(a[c]),this.$=a[c-1];break;case 12:this.$=a[c-1];break;case 17:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 18:case 19:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 20:o.addSection(a[c].substr(8)),this.$=a[c].substr(8);break;case 22:o.checkout(a[c]);break;case 23:o.branch(a[c]);break;case 24:o.branch(a[c-2],a[c]);break;case 25:o.cherryPick(a[c],"",void 0);break;case 26:o.cherryPick(a[c-2],"",a[c]);break;case 27:case 29:o.cherryPick(a[c-2],"","");break;case 28:o.cherryPick(a[c],"",a[c-2]);break;case 30:o.merge(a[c],"","","");break;case 31:o.merge(a[c-2],a[c],"","");break;case 32:o.merge(a[c-2],"",a[c],"");break;case 33:o.merge(a[c-2],"","",a[c]);break;case 34:o.merge(a[c-4],a[c],"",a[c-2]);break;case 35:o.merge(a[c-4],"",a[c],a[c-2]);break;case 36:o.merge(a[c-4],"",a[c-2],a[c]);break;case 37:o.merge(a[c-4],a[c-2],a[c],"");break;case 38:o.merge(a[c-4],a[c-2],"",a[c]);break;case 39:o.merge(a[c-4],a[c],a[c-2],"");break;case 40:o.merge(a[c-6],a[c-4],a[c-2],a[c]);break;case 41:o.merge(a[c-6],a[c],a[c-4],a[c-2]);break;case 42:o.merge(a[c-6],a[c-4],a[c],a[c-2]);break;case 43:o.merge(a[c-6],a[c-2],a[c-4],a[c]);break;case 44:o.merge(a[c-6],a[c],a[c-2],a[c-4]);break;case 45:o.merge(a[c-6],a[c-2],a[c],a[c-4]);break;case 46:o.commit(a[c]);break;case 47:o.commit("","",o.commitType.NORMAL,a[c]);break;case 48:o.commit("","",a[c],"");break;case 49:o.commit("","",a[c],a[c-2]);break;case 50:o.commit("","",a[c-2],a[c]);break;case 51:o.commit("",a[c],o.commitType.NORMAL,"");break;case 52:o.commit("",a[c-2],o.commitType.NORMAL,a[c]);break;case 53:o.commit("",a[c],o.commitType.NORMAL,a[c-2]);break;case 54:o.commit("",a[c-2],a[c],"");break;case 55:o.commit("",a[c],a[c-2],"");break;case 56:o.commit("",a[c-4],a[c-2],a[c]);break;case 57:o.commit("",a[c-4],a[c],a[c-2]);break;case 58:o.commit("",a[c-2],a[c-4],a[c]);break;case 59:o.commit("",a[c],a[c-4],a[c-2]);break;case 60:o.commit("",a[c],a[c-2],a[c-4]);break;case 61:o.commit("",a[c-2],a[c],a[c-4]);break;case 62:o.commit(a[c],"",o.commitType.NORMAL,"");break;case 63:o.commit(a[c],"",o.commitType.NORMAL,a[c-2]);break;case 64:o.commit(a[c-2],"",o.commitType.NORMAL,a[c]);break;case 65:o.commit(a[c-2],"",a[c],"");break;case 66:o.commit(a[c],"",a[c-2],"");break;case 67:o.commit(a[c],a[c-2],o.commitType.NORMAL,"");break;case 68:o.commit(a[c-2],a[c],o.commitType.NORMAL,"");break;case 69:o.commit(a[c-4],"",a[c-2],a[c]);break;case 70:o.commit(a[c-4],"",a[c],a[c-2]);break;case 71:o.commit(a[c-2],"",a[c-4],a[c]);break;case 72:o.commit(a[c],"",a[c-4],a[c-2]);break;case 73:o.commit(a[c],"",a[c-2],a[c-4]);break;case 74:o.commit(a[c-2],"",a[c],a[c-4]);break;case 75:o.commit(a[c-4],a[c],a[c-2],"");break;case 76:o.commit(a[c-4],a[c-2],a[c],"");break;case 77:o.commit(a[c-2],a[c],a[c-4],"");break;case 78:o.commit(a[c],a[c-2],a[c-4],"");break;case 79:o.commit(a[c],a[c-4],a[c-2],"");break;case 80:o.commit(a[c-2],a[c-4],a[c],"");break;case 81:o.commit(a[c-4],a[c],o.commitType.NORMAL,a[c-2]);break;case 82:o.commit(a[c-4],a[c-2],o.commitType.NORMAL,a[c]);break;case 83:o.commit(a[c-2],a[c],o.commitType.NORMAL,a[c-4]);break;case 84:o.commit(a[c],a[c-2],o.commitType.NORMAL,a[c-4]);break;case 85:o.commit(a[c],a[c-4],o.commitType.NORMAL,a[c-2]);break;case 86:o.commit(a[c-2],a[c-4],o.commitType.NORMAL,a[c]);break;case 87:o.commit(a[c-6],a[c-4],a[c-2],a[c]);break;case 88:o.commit(a[c-6],a[c-4],a[c],a[c-2]);break;case 89:o.commit(a[c-6],a[c-2],a[c-4],a[c]);break;case 90:o.commit(a[c-6],a[c],a[c-4],a[c-2]);break;case 91:o.commit(a[c-6],a[c-2],a[c],a[c-4]);break;case 92:o.commit(a[c-6],a[c],a[c-2],a[c-4]);break;case 93:o.commit(a[c-4],a[c-6],a[c-2],a[c]);break;case 94:o.commit(a[c-4],a[c-6],a[c],a[c-2]);break;case 95:o.commit(a[c-2],a[c-6],a[c-4],a[c]);break;case 96:o.commit(a[c],a[c-6],a[c-4],a[c-2]);break;case 97:o.commit(a[c-2],a[c-6],a[c],a[c-4]);break;case 98:o.commit(a[c],a[c-6],a[c-2],a[c-4]);break;case 99:o.commit(a[c],a[c-4],a[c-2],a[c-6]);break;case 100:o.commit(a[c-2],a[c-4],a[c],a[c-6]);break;case 101:o.commit(a[c],a[c-2],a[c-4],a[c-6]);break;case 102:o.commit(a[c-2],a[c],a[c-4],a[c-6]);break;case 103:o.commit(a[c-4],a[c-2],a[c],a[c-6]);break;case 104:o.commit(a[c-4],a[c],a[c-2],a[c-6]);break;case 105:o.commit(a[c-2],a[c-4],a[c-6],a[c]);break;case 106:o.commit(a[c],a[c-4],a[c-6],a[c-2]);break;case 107:o.commit(a[c-2],a[c],a[c-6],a[c-4]);break;case 108:o.commit(a[c],a[c-2],a[c-6],a[c-4]);break;case 109:o.commit(a[c-4],a[c-2],a[c-6],a[c]);break;case 110:o.commit(a[c-4],a[c],a[c-6],a[c-2]);break;case 111:this.$="";break;case 112:this.$=a[c];break;case 113:this.$=o.commitType.NORMAL;break;case 114:this.$=o.commitType.REVERSE;break;case 115:this.$=o.commitType.HIGHLIGHT;break;case 118:o.parseDirective("%%{","open_directive");break;case 119:o.parseDirective(a[c],"type_directive");break;case 120:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 121:o.parseDirective("}%%","close_directive","gitGraph");break}},table:[{3:1,4:2,5:3,6:g,8:a,14:r,46:8,50:l,55:i},{1:[3]},{3:10,4:2,5:3,6:g,8:a,14:r,46:8,50:l,55:i},{3:11,4:2,5:3,6:g,8:a,14:r,46:8,50:l,55:i},{7:12,8:m,9:[1,13],10:[1,14],11:15,14:h},e(u,[2,124]),e(u,[2,125]),e(u,[2,126]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:m,11:15,14:h},{9:[1,21]},e(c,[2,10],{12:22,13:[1,23]}),e(_,[2,9]),{9:[1,25],48:24,53:y},e([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:m,11:15,14:h},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},e(_,[2,8]),e(b,[2,116]),{49:45,52:[1,46]},e(b,[2,121]),{1:[2,4]},{8:[1,47]},e(c,[2,11]),{4:48,8:a,14:r,55:i},e(c,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),{21:[1,49]},{23:[1,50]},e(t,[2,19]),e(t,[2,20]),e(t,[2,21]),{28:51,34:f,54:p},e(t,[2,111],{41:54,33:[1,57],34:[1,59],35:[1,55],38:[1,56],42:[1,58]}),{28:60,34:f,54:p},{33:[1,61],35:[1,62]},{28:63,34:f,54:p},{48:64,53:y},{53:[2,120]},{1:[2,5]},e(c,[2,12]),e(t,[2,17]),e(t,[2,18]),e(t,[2,22]),e(w,[2,122]),e(w,[2,123]),e(t,[2,46]),{34:[1,65]},{39:66,43:o,44:n,45:s},{34:[1,70]},{34:[1,71]},e(t,[2,112]),e(t,[2,30],{33:[1,72],35:[1,74],38:[1,73]}),{34:[1,75]},{34:[1,76],36:[1,77]},e(t,[2,23],{30:[1,78]}),e(b,[2,117]),e(t,[2,47],{33:[1,80],38:[1,79],42:[1,81]}),e(t,[2,48],{33:[1,83],35:[1,82],42:[1,84]}),e(v,[2,113]),e(v,[2,114]),e(v,[2,115]),e(t,[2,51],{35:[1,85],38:[1,86],42:[1,87]}),e(t,[2,62],{33:[1,90],35:[1,88],38:[1,89]}),{34:[1,91]},{39:92,43:o,44:n,45:s},{34:[1,93]},e(t,[2,25],{35:[1,94]}),{33:[1,95]},{33:[1,96]},{31:[1,97]},{39:98,43:o,44:n,45:s},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{34:[1,103]},{34:[1,104]},{39:105,43:o,44:n,45:s},{34:[1,106]},{34:[1,107]},{39:108,43:o,44:n,45:s},{34:[1,109]},e(t,[2,31],{35:[1,111],38:[1,110]}),e(t,[2,32],{33:[1,113],35:[1,112]}),e(t,[2,33],{33:[1,114],38:[1,115]}),{34:[1,116],36:[1,117]},{34:[1,118]},{34:[1,119]},e(t,[2,24]),e(t,[2,49],{33:[1,120],42:[1,121]}),e(t,[2,53],{38:[1,122],42:[1,123]}),e(t,[2,63],{33:[1,125],38:[1,124]}),e(t,[2,50],{33:[1,126],42:[1,127]}),e(t,[2,55],{35:[1,128],42:[1,129]}),e(t,[2,66],{33:[1,131],35:[1,130]}),e(t,[2,52],{38:[1,132],42:[1,133]}),e(t,[2,54],{35:[1,134],42:[1,135]}),e(t,[2,67],{35:[1,137],38:[1,136]}),e(t,[2,64],{33:[1,139],38:[1,138]}),e(t,[2,65],{33:[1,141],35:[1,140]}),e(t,[2,68],{35:[1,143],38:[1,142]}),{39:144,43:o,44:n,45:s},{34:[1,145]},{34:[1,146]},{34:[1,147]},{34:[1,148]},{39:149,43:o,44:n,45:s},e(t,[2,26]),e(t,[2,27]),e(t,[2,28]),e(t,[2,29]),{34:[1,150]},{34:[1,151]},{39:152,43:o,44:n,45:s},{34:[1,153]},{39:154,43:o,44:n,45:s},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{34:[1,160]},{34:[1,161]},{39:162,43:o,44:n,45:s},{34:[1,163]},{34:[1,164]},{34:[1,165]},{39:166,43:o,44:n,45:s},{34:[1,167]},{39:168,43:o,44:n,45:s},{34:[1,169]},{34:[1,170]},{34:[1,171]},{39:172,43:o,44:n,45:s},{34:[1,173]},e(t,[2,37],{35:[1,174]}),e(t,[2,38],{38:[1,175]}),e(t,[2,36],{33:[1,176]}),e(t,[2,39],{35:[1,177]}),e(t,[2,34],{38:[1,178]}),e(t,[2,35],{33:[1,179]}),e(t,[2,60],{42:[1,180]}),e(t,[2,73],{33:[1,181]}),e(t,[2,61],{42:[1,182]}),e(t,[2,84],{38:[1,183]}),e(t,[2,74],{33:[1,184]}),e(t,[2,83],{38:[1,185]}),e(t,[2,59],{42:[1,186]}),e(t,[2,72],{33:[1,187]}),e(t,[2,58],{42:[1,188]}),e(t,[2,78],{35:[1,189]}),e(t,[2,71],{33:[1,190]}),e(t,[2,77],{35:[1,191]}),e(t,[2,57],{42:[1,192]}),e(t,[2,85],{38:[1,193]}),e(t,[2,56],{42:[1,194]}),e(t,[2,79],{35:[1,195]}),e(t,[2,80],{35:[1,196]}),e(t,[2,86],{38:[1,197]}),e(t,[2,70],{33:[1,198]}),e(t,[2,81],{38:[1,199]}),e(t,[2,69],{33:[1,200]}),e(t,[2,75],{35:[1,201]}),e(t,[2,76],{35:[1,202]}),e(t,[2,82],{38:[1,203]}),{34:[1,204]},{39:205,43:o,44:n,45:s},{34:[1,206]},{34:[1,207]},{39:208,43:o,44:n,45:s},{34:[1,209]},{34:[1,210]},{34:[1,211]},{34:[1,212]},{39:213,43:o,44:n,45:s},{34:[1,214]},{39:215,43:o,44:n,45:s},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{34:[1,221]},{34:[1,222]},{39:223,43:o,44:n,45:s},{34:[1,224]},{34:[1,225]},{34:[1,226]},{39:227,43:o,44:n,45:s},{34:[1,228]},{39:229,43:o,44:n,45:s},{34:[1,230]},{34:[1,231]},{34:[1,232]},{39:233,43:o,44:n,45:s},e(t,[2,40]),e(t,[2,42]),e(t,[2,41]),e(t,[2,43]),e(t,[2,45]),e(t,[2,44]),e(t,[2,101]),e(t,[2,102]),e(t,[2,99]),e(t,[2,100]),e(t,[2,104]),e(t,[2,103]),e(t,[2,108]),e(t,[2,107]),e(t,[2,106]),e(t,[2,105]),e(t,[2,110]),e(t,[2,109]),e(t,[2,98]),e(t,[2,97]),e(t,[2,96]),e(t,[2,95]),e(t,[2,93]),e(t,[2,94]),e(t,[2,92]),e(t,[2,91]),e(t,[2,90]),e(t,[2,89]),e(t,[2,87]),e(t,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,d,u,m,f,g,v,j,y,_,w,S=this,i=[0],b=[],c=[null],n=[],p=this.table,C="",h=0,x=0,k=2,O=1,E=n.slice.call(arguments,1),s=Object.create(this.lexer),l={yy:{}};for(y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(l.yy[y]=this.yy[y]);s.setInput(t,l.yy),l.yy.lexer=s,l.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),w=s.options&&s.options.ranges,typeof l.yy.parseError=="function"?this.parseError=l.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function A(){var e=b.pop()||s.lex()||O;return typeof e!="number"&&(e instanceof Array&&(b=e,e=b.pop()),e=S.symbols_[e]||e),e}for(d={};!0;){if(u=i[i.length-1],this.defaultActions[u]?a=this.defaultActions[u]:((o===null||typeof o=="undefined")&&(o=A()),a=p[u]&&p[u][o]),typeof a=="undefined"||!a.length||!a[0]){g="",f=[];for(m in p[u])this.terminals_[m]&&m>k&&f.push("'"+this.terminals_[m]+"'");s.showPosition?g="Parse error on line "+(h+1)+`:
`+s.showPosition()+`
Expecting `+f.join(", ")+", got '"+(this.terminals_[o]||o)+"'":g="Parse error on line "+(h+1)+": Unexpected "+(o==O?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(g,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:f})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+o);switch(a[0]){case 1:i.push(o),c.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,x=s.yyleng,C=s.yytext,h=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],d.$=c[c.length-r],d._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},w&&(d._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(d,[C,x,h,l.yy,a[1],c,n].concat(E)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),c=c.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),c.push(d.$),n.push(d._$),_=p[i[i.length-2]][i[i.length-1]],i.push(_);break;case 3:return!0}}return!0}},O=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:break;case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:return 10;case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 34:this.popState();break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 38:this.popState();break;case 39:return 34;case 40:return 31;case 41:return 54;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};return e}();d.lexer=O;function j(){this.yy={}}return j.prototype=d,d.Parser=j,new j}(),xc.parser=xc,pE=xc,gE=e=>e.match(/^\s*gitGraph/)!==null,Ec="",Zo="",Ac="",Sc=e=>Le(e,t()),Ce=function(){Ec="",Ac="",Zo=""},je=function(e){Ec=Sc(e).replace(/^\s+/g,"")},Ee=function(){return Ec||Zo},ke=function(e){Ac=Sc(e).replace(/\n\s+/g,`
`)},xe=function(){return Ac},Je=function(e){Zo=Sc(e)},ut=function(){return Zo},Io=t().gitGraph.mainBranchName,SE=t().gitGraph.mainBranchOrder,H={},te=null,Fo={},Fo[Io]={name:Io,order:SE},F={},F[Io]=te,V=Io,K0="LR",en=0;function q0(){return b4({length:7})}PE=function(e,t,n){_.parseDirective(this,e,t,n)};function pS(e,t){const n=Object.create(null);return e.reduce((e,s)=>{const o=t(s);return n[o]||(n[o]=!0,e.push(s)),e},[])}IE=function(e){K0=e},X0={},VE=function(t){e.debug("options str",t),t=t&&t.trim(),t=t||"{}";try{X0=JSON.parse(t)}catch(t){e.error("error while parsing gitGraph options",t.message)}},$E=function(){return X0},WE=function(n,s,o,i){e.debug("Entering commit:",n,s,o,i),s=h.sanitizeText(s,t()),n=h.sanitizeText(n,t()),i=h.sanitizeText(i,t());const a={id:s||en+"-"+q0(),message:n,seq:en++,type:o||vo.NORMAL,tag:i||"",parents:te==null?[]:[te.id],branch:V};te=a,H[a.id]=a,F[V]=a.id,e.debug("in pushCommit "+a.id)},UE=function(n,s){if(n=h.sanitizeText(n,t()),F[n]===void 0)F[n]=te!=null?te.id:null,Fo[n]={name:n,order:s?parseInt(s,10):null},Q0(n),e.debug("in createBranch");else{let e=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+n+'")');throw e.hash={text:"branch "+n,token:"branch "+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+n+'"']},e}},KE=function(n,s,o,i){n=h.sanitizeText(n,t()),s=h.sanitizeText(s,t());const r=H[F[V]],c=H[F[n]];if(V===n){let e=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw e.hash={text:"merge "+n,token:"merge "+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},e}if(r===void 0||!r){let e=new Error('Incorrect usage of "merge". Current branch ('+V+")has no commits");throw e.hash={text:"merge "+n,token:"merge "+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},e}if(F[n]===void 0){let e=new Error('Incorrect usage of "merge". Branch to be merged ('+n+") does not exist");throw e.hash={text:"merge "+n,token:"merge "+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+n]},e}if(c===void 0||!c){let e=new Error('Incorrect usage of "merge". Branch to be merged ('+n+") has no commits");throw e.hash={text:"merge "+n,token:"merge "+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},e}if(r===c){let e=new Error('Incorrect usage of "merge". Both branches have same head');throw e.hash={text:"merge "+n,token:"merge "+n,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},e}if(s&&H[s]!==void 0){let e=new Error('Incorrect usage of "merge". Commit with id:'+s+" already exists, use different custom Id");throw e.hash={text:"merge "+n+s+o+i,token:"merge "+n+s+o+i,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+n+" "+s+"_UNIQUE "+o+" "+i]},e}const a={id:s||en+"-"+q0(),message:"merged branch "+n+" into "+V,seq:en++,parents:[te==null?null:te.id,F[n]],branch:V,type:vo.MERGE,customType:o,customId:!!s,tag:i||""};te=a,H[a.id]=a,F[V]=a.id,e.debug(F),e.debug("in mergeBranch")},qE=function(n,s,o){if(e.debug("Entering cherryPick:",n,s,o),n=h.sanitizeText(n,t()),s=h.sanitizeText(s,t()),o=h.sanitizeText(o,t()),!n||H[n]===void 0){let e=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw e.hash={text:"cherryPick "+n+" "+s,token:"cherryPick "+n+" "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},e}let i=H[n],a=i.branch;if(i.type===vo.MERGE){let e=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw e.hash={text:"cherryPick "+n+" "+s,token:"cherryPick "+n+" "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},e}if(!s||H[s]===void 0){if(a===V){let e=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw e.hash={text:"cherryPick "+n+" "+s,token:"cherryPick "+n+" "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},e}const r=H[F[V]];if(r===void 0||!r){let e=new Error('Incorrect usage of "cherry-pick". Current branch ('+V+")has no commits");throw e.hash={text:"cherryPick "+n+" "+s,token:"cherryPick "+n+" "+s,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},e}const t={id:en+"-"+q0(),message:"cherry-picked "+i+" into "+V,seq:en++,parents:[te==null?null:te.id,i.id],branch:V,type:vo.CHERRY_PICK,tag:o??"cherry-pick:"+i.id};te=t,H[t.id]=t,F[V]=t.id,e.debug(F),e.debug("in cherryPick")}},Q0=function(e){if(e=h.sanitizeText(e,t()),F[e]===void 0){let t=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+e+'")');throw t.hash={text:"checkout "+e,token:"checkout "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+e+'"']},t}V=e;const n=F[V];te=H[n]};function GE(e,t,n){const s=e.indexOf(t);s===-1?e.push(n):e.splice(s,1,n)}function XE(t){const n=t.reduce((e,t)=>e.seq>t.seq?e:t,t[0]);let s="";t.forEach(function(e){e===n?s+="	*":s+="	|"});const o=[s,n.id,n.seq];for(let e in F)F[e]===n.id&&o.push(e);if(e.debug(o.join(" ")),n.parents&&n.parents.length==2){const e=H[n.parents[0]];GE(t,n,e),t.push(H[n.parents[1]])}else if(n.parents.length==0)return;const i=H[n.parents];GE(t,n,i),t=pS(t,e=>e.id),XE(t)}QE=function(){e.debug(H);const t=z3()[0];XE([t])},ZE=function(){H={},te=null;let e=t().gitGraph.mainBranchName,n=t().gitGraph.mainBranchOrder;F={},F[e]=null,Fo={},Fo[e]={name:e,order:n},V=e,en=0,Ce()},JE=function(){const e=Object.values(Fo).map((e,t)=>e.order!==null?e:{...e,order:parseFloat(`0.${t}`,10)}).sort((e,t)=>e.order-t.order).map(({name:e})=>({name:e}));return e},ek=function(){return F},tk=function(){return H},z3=function(){const t=Object.keys(H).map(function(e){return H[e]});return t.forEach(function(t){e.debug(t.id)}),t.sort((e,t)=>e.seq-t.seq),t},sk=function(){return V},ok=function(){return K0},ik=function(){return te},vo={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},rk={parseDirective:PE,getConfig:()=>t().gitGraph,setDirection:IE,setOptions:VE,getOptions:$E,commit:WE,branch:UE,merge:KE,cherryPick:qE,checkout:Q0,prettyPrint:QE,clear:ZE,getBranchesAsObjArray:JE,getBranches:ek,getCommits:tk,getCommitsArray:z3,getCurrentBranch:sk,getDirection:ok,getHead:ik,setAccTitle:je,getAccTitle:Ee,getAccDescription:xe,setAccDescription:ke,setDiagramTitle:Je,getDiagramTitle:ut,commitType:vo},fo={},ue={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},hn=8,ie={},mi={},fi=[],pi=0,pk=()=>{ie={},mi={},fo={},pi=0,fi=[]},gk=e=>{const n=document.createElementNS("http://www.w3.org/2000/svg","text");let t=[];typeof e=="string"?t=e.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(e)?t=e:t=[];for(const s of t){const e=document.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","0"),e.setAttribute("class","row"),e.textContent=s.trim(),n.appendChild(e)}return n},w2=(e,t,n)=>{const a=eo().gitGraph,o=e.append("g").attr("class","commit-bullets"),i=e.append("g").attr("class","commit-labels");let s=0;const r=Object.keys(t),c=r.sort((e,n)=>t[e].seq-t[n].seq);c.forEach(e=>{const r=t[e],c=ie[r.branch].pos,l=s+10;if(n){let e,t=r.customType!==void 0&&r.customType!==""?r.customType:r.type;switch(t){case ue.NORMAL:e="commit-normal";break;case ue.REVERSE:e="commit-reverse";break;case ue.HIGHLIGHT:e="commit-highlight";break;case ue.MERGE:e="commit-merge";break;case ue.CHERRY_PICK:e="commit-cherry-pick";break;default:e="commit-normal"}if(t===ue.HIGHLIGHT){const t=o.append("rect");t.attr("x",l-10),t.attr("y",c-10),t.attr("height",20),t.attr("width",20),t.attr("class",`commit ${r.id} commit-highlight${ie[r.branch].index%hn} ${e}-outer`),o.append("rect").attr("x",l-6).attr("y",c-6).attr("height",12).attr("width",12).attr("class",`commit ${r.id} commit${ie[r.branch].index%hn} ${e}-inner`)}else if(t===ue.CHERRY_PICK)o.append("circle").attr("cx",l).attr("cy",c).attr("r",10).attr("class",`commit ${r.id} ${e}`),o.append("circle").attr("cx",l-3).attr("cy",c+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${r.id} ${e}`),o.append("circle").attr("cx",l+3).attr("cy",c+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${r.id} ${e}`),o.append("line").attr("x1",l+3).attr("y1",c+1).attr("x2",l).attr("y2",c-5).attr("stroke","#fff").attr("class",`commit ${r.id} ${e}`),o.append("line").attr("x1",l-3).attr("y1",c+1).attr("x2",l).attr("y2",c-5).attr("stroke","#fff").attr("class",`commit ${r.id} ${e}`);else{const n=o.append("circle");if(n.attr("cx",l),n.attr("cy",c),n.attr("r",r.type===ue.MERGE?9:10),n.attr("class",`commit ${r.id} commit${ie[r.branch].index%hn}`),t===ue.MERGE){const t=o.append("circle");t.attr("cx",l),t.attr("cy",c),t.attr("r",6),t.attr("class",`commit ${e} ${r.id} commit${ie[r.branch].index%hn}`)}if(t===ue.REVERSE){const t=o.append("path");t.attr("d",`M ${l-5},${c-5}L${l+5},${c+5}M${l-5},${c+5}L${l+5},${c-5}`).attr("class",`commit ${e} ${r.id} commit${ie[r.branch].index%hn}`)}}}if(mi[r.id]={x:s+10,y:c},n){const t=4,e=2;if(r.type!==ue.CHERRY_PICK&&(r.customId&&r.type===ue.MERGE||r.type!==ue.MERGE)&&a.showCommitLabel){const n=i.append("g"),l=n.insert("rect").attr("class","commit-label-bkg"),o=n.append("text").attr("x",s).attr("y",c+25).attr("class","commit-label").text(r.id);let t=o.node().getBBox();if(l.attr("x",s+10-t.width/2-e).attr("y",c+13.5).attr("width",t.width+2*e).attr("height",t.height+2*e),o.attr("x",s+10-t.width/2),a.rotateCommitLabel){let e=-7.5-(t.width+10)/25*9.5,o=10+t.width/25*8.5;n.attr("transform","translate("+e+", "+o+") rotate("+-45+", "+s+", "+c+")")}}if(r.tag){const d=i.insert("polygon"),u=i.append("circle"),l=i.append("text").attr("y",c-16).attr("class","tag-label").text(r.tag);let n=l.node().getBBox();l.attr("x",s+10-n.width/2);const a=n.height/2,o=c-19.2;d.attr("class","tag-label-bkg").attr("points",`
          ${s-n.width/2-t/2},${o+e}
          ${s-n.width/2-t/2},${o-e}
          ${s+10-n.width/2-t},${o-a-e}
          ${s+10+n.width/2+t},${o-a-e}
          ${s+10+n.width/2+t},${o+a+e}
          ${s+10-n.width/2-t},${o+a+e}`),u.attr("cx",s-n.width/2+t/2).attr("cy",o).attr("r",1.5).attr("class","tag-hole")}}s+=50,s>pi&&(pi=s)})},bk=(e,t,n)=>{const s=Object.keys(n),o=s.filter(s=>n[s].branch===t.branch&&n[s].seq>e.seq&&n[s].seq<t.seq);return o.length>0},sl=(e,t,n=0)=>{const s=e+Math.abs(e-t)/2;if(n>5)return s;let o=fi.every(e=>Math.abs(e-s)>=10);if(o)return fi.push(s),s;const i=Math.abs(e-t);return sl(e,t-i/5,n+1)},yk=(e,t,n,s)=>{const o=mi[t.id],i=mi[n.id],h=bk(t,n,s);let c="",u="",a=0,r=0,d=ie[n.branch].index,l;if(h){c="A 10 10, 0, 0, 0,",u="A 10 10, 0, 0, 1,",a=10,r=10,d=ie[n.branch].index;const e=o.y<i.y?sl(o.y,i.y):sl(i.y,o.y);o.y<i.y?l=`M ${o.x} ${o.y} L ${o.x} ${e-a} ${c} ${o.x+r} ${e} L ${i.x-a} ${e} ${u} ${i.x} ${e+r} L ${i.x} ${i.y}`:l=`M ${o.x} ${o.y} L ${o.x} ${e+a} ${u} ${o.x+r} ${e} L ${i.x-a} ${e} ${c} ${i.x} ${e-r} L ${i.x} ${i.y}`}else o.y<i.y&&(c="A 20 20, 0, 0, 0,",a=20,r=20,d=ie[n.branch].index,l=`M ${o.x} ${o.y} L ${o.x} ${i.y-a} ${c} ${o.x+r} ${i.y} L ${i.x} ${i.y}`),o.y>i.y&&(c="A 20 20, 0, 0, 0,",a=20,r=20,d=ie[t.branch].index,l=`M ${o.x} ${o.y} L ${i.x-a} ${o.y} ${c} ${i.x} ${o.y-r} L ${i.x} ${i.y}`),o.y===i.y&&(d=ie[t.branch].index,l=`M ${o.x} ${o.y} L ${o.x} ${i.y-a} ${c} ${o.x+r} ${i.y} L ${i.x} ${i.y}`);e.append("path").attr("d",l).attr("class","arrow arrow"+d%hn)},_k=(e,t)=>{const n=e.append("g").attr("class","commit-arrows");Object.keys(t).forEach(e=>{const s=t[e];s.parents&&s.parents.length>0&&s.parents.forEach(e=>{yk(n,t[e],s,t)})})},wk=(e,t)=>{const s=eo().gitGraph,n=e.append("g");t.forEach((e,t)=>{const r=t%hn,i=ie[e.name].pos,a=n.append("line");a.attr("x1",0),a.attr("y1",i),a.attr("x2",pi),a.attr("y2",i),a.attr("class","branch branch"+r),fi.push(i);let u=e.name;const c=gk(u),l=n.insert("rect"),h=n.insert("g").attr("class","branchLabel"),d=h.insert("g").attr("class","label branch-label"+r);d.node().appendChild(c);let o=c.getBBox();l.attr("class","branchLabelBkg label"+r).attr("rx",4).attr("ry",4).attr("x",-o.width-4-(s.rotateCommitLabel===!0?30:0)).attr("y",-o.height/2+8).attr("width",o.width+18).attr("height",o.height+4),d.attr("transform","translate("+(-o.width-14-(s.rotateCommitLabel===!0?30:0))+", "+(i-o.height/2-1)+")"),l.attr("transform","translate("+-19+", "+(i-o.height/2)+")")})},Ok=function(t,n,s,o){var c;pk();const l=eo(),r=l.gitGraph;e.debug("in gitgraph renderer",t+`
`,"id:",n,s),fo=o.db.getCommits();const d=o.db.getBranchesAsObjArray();let u=0;d.forEach((e,t)=>{ie[e.name]={pos:u,index:t},u+=50+(r.rotateCommitLabel?40:0)});const a=i(`[id="${n}"]`);w2(a,fo,!1),r.showBranches&&wk(a,d),_k(a,fo),w2(a,fo,!0),p.insertTitle(a,"gitTitleText",r.titleTopMargin,o.db.getDiagramTitle()),D0(void 0,a,r.diagramPadding,(c=r.useMaxWidth)!=null?c:l.useMaxWidth)},xk={draw:Ok},Ck=e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
  }
`,Ek=Ck,ji=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},le=[1,6],ce=[1,7],re=[1,8],ae=[1,9],ie=[1,16],pe=[1,11],oe=[1,12],ge=[1,13],fe=[1,14],he=[1,15],me=[1,27],G=[1,33],Y=[1,34],q=[1,35],K=[1,36],U=[1,37],b=[1,72],j=[1,73],y=[1,74],_=[1,75],w=[1,76],O=[1,77],x=[1,78],C=[1,38],E=[1,39],k=[1,40],A=[1,41],S=[1,42],M=[1,43],F=[1,44],T=[1,45],z=[1,46],D=[1,47],N=[1,48],L=[1,49],R=[1,50],P=[1,51],H=[1,52],I=[1,53],B=[1,54],V=[1,55],$=[1,56],a=[1,57],v=[1,59],g=[1,60],p=[1,61],f=[1,62],m=[1,63],h=[1,64],u=[1,65],d=[1,66],r=[1,67],l=[1,68],W=[1,69],Q=[24,52],se=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Z=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],o=[1,94],s=[1,95],n=[1,96],t=[1,97],i=[15,24,52],de=[7,8,9,10,18,22,25,26,27,28],ue=[15,24,43,52],J=[15,24,43,52,86,87,89,90],X=[15,43],ne=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],ee={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 4:o.setDirection("TB");break;case 5:o.setDirection("BT");break;case 6:o.setDirection("RL");break;case 7:o.setDirection("LR");break;case 11:o.parseDirective("%%{","open_directive");break;case 12:break;case 13:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 14:o.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:o.setC4Type(a[c-3]);break;case 26:o.setTitle(a[c].substring(6)),this.$=a[c].substring(6);break;case 27:o.setAccDescription(a[c].substring(15)),this.$=a[c].substring(15);break;case 28:this.$=a[c].trim(),o.setTitle(this.$);break;case 29:case 30:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 35:case 36:a[c].splice(2,0,"ENTERPRISE"),o.addPersonOrSystemBoundary(...a[c]),this.$=a[c];break;case 37:o.addPersonOrSystemBoundary(...a[c]),this.$=a[c];break;case 38:a[c].splice(2,0,"CONTAINER"),o.addContainerBoundary(...a[c]),this.$=a[c];break;case 39:o.addDeploymentNode("node",...a[c]),this.$=a[c];break;case 40:o.addDeploymentNode("nodeL",...a[c]),this.$=a[c];break;case 41:o.addDeploymentNode("nodeR",...a[c]),this.$=a[c];break;case 42:o.popBoundaryParseStack();break;case 46:o.addPersonOrSystem("person",...a[c]),this.$=a[c];break;case 47:o.addPersonOrSystem("external_person",...a[c]),this.$=a[c];break;case 48:o.addPersonOrSystem("system",...a[c]),this.$=a[c];break;case 49:o.addPersonOrSystem("system_db",...a[c]),this.$=a[c];break;case 50:o.addPersonOrSystem("system_queue",...a[c]),this.$=a[c];break;case 51:o.addPersonOrSystem("external_system",...a[c]),this.$=a[c];break;case 52:o.addPersonOrSystem("external_system_db",...a[c]),this.$=a[c];break;case 53:o.addPersonOrSystem("external_system_queue",...a[c]),this.$=a[c];break;case 54:o.addContainer("container",...a[c]),this.$=a[c];break;case 55:o.addContainer("container_db",...a[c]),this.$=a[c];break;case 56:o.addContainer("container_queue",...a[c]),this.$=a[c];break;case 57:o.addContainer("external_container",...a[c]),this.$=a[c];break;case 58:o.addContainer("external_container_db",...a[c]),this.$=a[c];break;case 59:o.addContainer("external_container_queue",...a[c]),this.$=a[c];break;case 60:o.addComponent("component",...a[c]),this.$=a[c];break;case 61:o.addComponent("component_db",...a[c]),this.$=a[c];break;case 62:o.addComponent("component_queue",...a[c]),this.$=a[c];break;case 63:o.addComponent("external_component",...a[c]),this.$=a[c];break;case 64:o.addComponent("external_component_db",...a[c]),this.$=a[c];break;case 65:o.addComponent("external_component_queue",...a[c]),this.$=a[c];break;case 67:o.addRel("rel",...a[c]),this.$=a[c];break;case 68:o.addRel("birel",...a[c]),this.$=a[c];break;case 69:o.addRel("rel_u",...a[c]),this.$=a[c];break;case 70:o.addRel("rel_d",...a[c]),this.$=a[c];break;case 71:o.addRel("rel_l",...a[c]),this.$=a[c];break;case 72:o.addRel("rel_r",...a[c]),this.$=a[c];break;case 73:o.addRel("rel_b",...a[c]),this.$=a[c];break;case 74:a[c].splice(0,1),o.addRel("rel",...a[c]),this.$=a[c];break;case 75:o.updateElStyle("update_el_style",...a[c]),this.$=a[c];break;case 76:o.updateRelStyle("update_rel_style",...a[c]),this.$=a[c];break;case 77:o.updateLayoutConfig("update_layout_config",...a[c]),this.$=a[c];break;case 78:this.$=[a[c]];break;case 79:a[c].unshift(a[c-1]),this.$=a[c];break;case 80:case 82:this.$=a[c].trim();break;case 81:let e={};e[a[c-1].trim()]=a[c].trim(),this.$=e;break;case 83:this.$="";break}},table:[{3:1,4:2,5:3,6:4,7:le,8:ce,9:re,10:ae,11:5,12:10,18:ie,22:pe,25:oe,26:ge,27:fe,28:he},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:le,8:ce,9:re,10:ae,11:5,12:10,18:ie,22:pe,25:oe,26:ge,27:fe,28:he},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:me},e([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:G,33:Y,34:q,36:K,38:U,39:58,40:70,42:71,44:b,46:j,47:y,48:_,49:w,50:O,51:x,53:32,54:C,55:E,56:k,57:A,58:S,59:M,60:F,61:T,62:z,63:D,64:N,65:L,66:R,67:P,68:H,69:I,70:B,71:V,72:$,73:a,74:v,75:g,76:p,77:f,78:m,79:h,80:u,81:d,82:r,83:l,84:W},{23:79,29:29,30:30,31:31,32:G,33:Y,34:q,36:K,38:U,39:58,40:70,42:71,44:b,46:j,47:y,48:_,49:w,50:O,51:x,53:32,54:C,55:E,56:k,57:A,58:S,59:M,60:F,61:T,62:z,63:D,64:N,65:L,66:R,67:P,68:H,69:I,70:B,71:V,72:$,73:a,74:v,75:g,76:p,77:f,78:m,79:h,80:u,81:d,82:r,83:l,84:W},{23:80,29:29,30:30,31:31,32:G,33:Y,34:q,36:K,38:U,39:58,40:70,42:71,44:b,46:j,47:y,48:_,49:w,50:O,51:x,53:32,54:C,55:E,56:k,57:A,58:S,59:M,60:F,61:T,62:z,63:D,64:N,65:L,66:R,67:P,68:H,69:I,70:B,71:V,72:$,73:a,74:v,75:g,76:p,77:f,78:m,79:h,80:u,81:d,82:r,83:l,84:W},{23:81,29:29,30:30,31:31,32:G,33:Y,34:q,36:K,38:U,39:58,40:70,42:71,44:b,46:j,47:y,48:_,49:w,50:O,51:x,53:32,54:C,55:E,56:k,57:A,58:S,59:M,60:F,61:T,62:z,63:D,64:N,65:L,66:R,67:P,68:H,69:I,70:B,71:V,72:$,73:a,74:v,75:g,76:p,77:f,78:m,79:h,80:u,81:d,82:r,83:l,84:W},{23:82,29:29,30:30,31:31,32:G,33:Y,34:q,36:K,38:U,39:58,40:70,42:71,44:b,46:j,47:y,48:_,49:w,50:O,51:x,53:32,54:C,55:E,56:k,57:A,58:S,59:M,60:F,61:T,62:z,63:D,64:N,65:L,66:R,67:P,68:H,69:I,70:B,71:V,72:$,73:a,74:v,75:g,76:p,77:f,78:m,79:h,80:u,81:d,82:r,83:l,84:W},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},e(Q,[2,20],{53:32,39:58,40:70,42:71,30:87,44:b,46:j,47:y,48:_,49:w,50:O,51:x,54:C,55:E,56:k,57:A,58:S,59:M,60:F,61:T,62:z,63:D,64:N,65:L,66:R,67:P,68:H,69:I,70:B,71:V,72:$,73:a,74:v,75:g,76:p,77:f,78:m,79:h,80:u,81:d,82:r,83:l,84:W}),e(Q,[2,21]),e(se,[2,23],{15:[1,88]}),e(Q,[2,43],{15:[1,89]}),e(Z,[2,26]),e(Z,[2,27]),{35:[1,90]},{37:[1,91]},e(Z,[2,30]),{45:92,85:93,86:o,87:s,89:n,90:t},{45:98,85:93,86:o,87:s,89:n,90:t},{45:99,85:93,86:o,87:s,89:n,90:t},{45:100,85:93,86:o,87:s,89:n,90:t},{45:101,85:93,86:o,87:s,89:n,90:t},{45:102,85:93,86:o,87:s,89:n,90:t},{45:103,85:93,86:o,87:s,89:n,90:t},{45:104,85:93,86:o,87:s,89:n,90:t},{45:105,85:93,86:o,87:s,89:n,90:t},{45:106,85:93,86:o,87:s,89:n,90:t},{45:107,85:93,86:o,87:s,89:n,90:t},{45:108,85:93,86:o,87:s,89:n,90:t},{45:109,85:93,86:o,87:s,89:n,90:t},{45:110,85:93,86:o,87:s,89:n,90:t},{45:111,85:93,86:o,87:s,89:n,90:t},{45:112,85:93,86:o,87:s,89:n,90:t},{45:113,85:93,86:o,87:s,89:n,90:t},{45:114,85:93,86:o,87:s,89:n,90:t},{45:115,85:93,86:o,87:s,89:n,90:t},{45:116,85:93,86:o,87:s,89:n,90:t},e(i,[2,66]),{45:117,85:93,86:o,87:s,89:n,90:t},{45:118,85:93,86:o,87:s,89:n,90:t},{45:119,85:93,86:o,87:s,89:n,90:t},{45:120,85:93,86:o,87:s,89:n,90:t},{45:121,85:93,86:o,87:s,89:n,90:t},{45:122,85:93,86:o,87:s,89:n,90:t},{45:123,85:93,86:o,87:s,89:n,90:t},{45:124,85:93,86:o,87:s,89:n,90:t},{45:125,85:93,86:o,87:s,89:n,90:t},{45:126,85:93,86:o,87:s,89:n,90:t},{45:127,85:93,86:o,87:s,89:n,90:t},{30:128,39:58,40:70,42:71,44:b,46:j,47:y,48:_,49:w,50:O,51:x,53:32,54:C,55:E,56:k,57:A,58:S,59:M,60:F,61:T,62:z,63:D,64:N,65:L,66:R,67:P,68:H,69:I,70:B,71:V,72:$,73:a,74:v,75:g,76:p,77:f,78:m,79:h,80:u,81:d,82:r,83:l,84:W},{15:[1,130],43:[1,129]},{45:131,85:93,86:o,87:s,89:n,90:t},{45:132,85:93,86:o,87:s,89:n,90:t},{45:133,85:93,86:o,87:s,89:n,90:t},{45:134,85:93,86:o,87:s,89:n,90:t},{45:135,85:93,86:o,87:s,89:n,90:t},{45:136,85:93,86:o,87:s,89:n,90:t},{45:137,85:93,86:o,87:s,89:n,90:t},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},e(de,[2,9]),{14:142,21:me},{21:[2,13]},{1:[2,15]},e(Q,[2,22]),e(se,[2,24],{31:31,29:143,32:G,33:Y,34:q,36:K,38:U}),e(Q,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:G,33:Y,34:q,36:K,38:U,44:b,46:j,47:y,48:_,49:w,50:O,51:x,54:C,55:E,56:k,57:A,58:S,59:M,60:F,61:T,62:z,63:D,64:N,65:L,66:R,67:P,68:H,69:I,70:B,71:V,72:$,73:a,74:v,75:g,76:p,77:f,78:m,79:h,80:u,81:d,82:r,83:l,84:W}),e(Z,[2,28]),e(Z,[2,29]),e(i,[2,46]),e(ue,[2,78],{85:93,45:145,86:o,87:s,89:n,90:t}),e(J,[2,80]),{88:[1,146]},e(J,[2,82]),e(J,[2,83]),e(i,[2,47]),e(i,[2,48]),e(i,[2,49]),e(i,[2,50]),e(i,[2,51]),e(i,[2,52]),e(i,[2,53]),e(i,[2,54]),e(i,[2,55]),e(i,[2,56]),e(i,[2,57]),e(i,[2,58]),e(i,[2,59]),e(i,[2,60]),e(i,[2,61]),e(i,[2,62]),e(i,[2,63]),e(i,[2,64]),e(i,[2,65]),e(i,[2,67]),e(i,[2,68]),e(i,[2,69]),e(i,[2,70]),e(i,[2,71]),e(i,[2,72]),e(i,[2,73]),e(i,[2,74]),e(i,[2,75]),e(i,[2,76]),e(i,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},e(X,[2,35]),e(X,[2,36]),e(X,[2,37]),e(X,[2,38]),e(X,[2,39]),e(X,[2,40]),e(X,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},e(se,[2,25]),e(Q,[2,45]),e(ue,[2,79]),e(J,[2,81]),e(i,[2,31]),e(i,[2,42]),e(ne,[2,32]),e(ne,[2,33],{15:[1,152]}),e(de,[2,10]),e(ne,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,d,u,m,f,g,v,j,y,_,w,S=this,i=[0],b=[],c=[null],n=[],p=this.table,C="",h=0,x=0,k=2,O=1,E=n.slice.call(arguments,1),s=Object.create(this.lexer),l={yy:{}};for(y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(l.yy[y]=this.yy[y]);s.setInput(t,l.yy),l.yy.lexer=s,l.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),w=s.options&&s.options.ranges,typeof l.yy.parseError=="function"?this.parseError=l.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function A(){var e=b.pop()||s.lex()||O;return typeof e!="number"&&(e instanceof Array&&(b=e,e=b.pop()),e=S.symbols_[e]||e),e}for(d={};!0;){if(u=i[i.length-1],this.defaultActions[u]?a=this.defaultActions[u]:((o===null||typeof o=="undefined")&&(o=A()),a=p[u]&&p[u][o]),typeof a=="undefined"||!a.length||!a[0]){g="",f=[];for(m in p[u])this.terminals_[m]&&m>k&&f.push("'"+this.terminals_[m]+"'");s.showPosition?g="Parse error on line "+(h+1)+`:
`+s.showPosition()+`
Expecting `+f.join(", ")+", got '"+(this.terminals_[o]||o)+"'":g="Parse error on line "+(h+1)+": Unexpected "+(o==O?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(g,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:f})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+o);switch(a[0]){case 1:i.push(o),c.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,x=s.yyleng,C=s.yytext,h=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],d.$=c[c.length-r],d._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},w&&(d._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(d,[C,x,h,l.yy,a[1],c,n].concat(E)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),c=c.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),c.push(d.$),n.push(d._$),_=p[i[i.length-2]][i[i.length-1]],i.push(_);break;case 3:return!0}}return!0}},ve=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:break;case 19:c;break;case 20:return 15;case 21:break;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:return this.begin("node"),49;case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:return this.begin("rel_u"),76;case 58:return this.begin("rel_u"),76;case 59:return this.begin("rel_d"),77;case 60:return this.begin("rel_d"),77;case 61:return this.begin("rel_l"),78;case 62:return this.begin("rel_l"),78;case 63:return this.begin("rel_r"),79;case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:this.popState(),this.popState();break;case 74:return 90;case 75:break;case 76:return 90;case 77:this.begin("string");break;case 78:this.popState();break;case 79:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 84:this.popState(),this.popState();break;case 85:return"STR";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[}])/,/^(?:[^}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};return e}();ee.lexer=ve;function te(){this.yy={}}return te.prototype=ee,ee.Parser=te,new te}(),ji.parser=ji,Ak=ji,Sk=e=>e.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null,ze=[],$t=[""],J="global",Se="",Ve=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Zs=[],ml="",gl=!1,Li=4,Pi=2,Bk=function(){return Ik},Vk=function(e){let n=Le(e,t());Ik=n},$k=function(e,t,n){_.parseDirective(this,e,t,n)},Wk=function(e,t,n,s,o,i,a,r,c){if(e==null||t===void 0||t===null||n===void 0||n===null||s===void 0||s===null)return;let l={};const d=Zs.find(e=>e.from===t&&e.to===n);if(d?l=d:Zs.push(l),l.type=e,l.from=t,l.to=n,l.label={text:s},o==null)l.techn={text:""};else if(typeof o=="object"){let[e,t]=Object.entries(o)[0];l[e]={text:t}}else l.techn={text:o};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[e,t]=Object.entries(i)[0];l[e]={text:t}}else l.descr={text:i};if(typeof a=="object"){let[e,t]=Object.entries(a)[0];l[e]=t}else l.sprite=a;if(typeof r=="object"){let[e,t]=Object.entries(r)[0];l[e]=t}else l.tags=r;if(typeof c=="object"){let[e,t]=Object.entries(c)[0];l[e]=t}else l.link=c;l.wrap=Rt()},Uk=function(e,t,n,s,o,i,a){if(t===null||n===null)return;let r={};const c=ze.find(e=>e.alias===t);if(c&&t===c.alias?r=c:(r.alias=t,ze.push(r)),n==null?r.label={text:""}:r.label={text:n},s==null)r.descr={text:""};else if(typeof s=="object"){let[e,t]=Object.entries(s)[0];r[e]={text:t}}else r.descr={text:s};if(typeof o=="object"){let[e,t]=Object.entries(o)[0];r[e]=t}else r.sprite=o;if(typeof i=="object"){let[e,t]=Object.entries(i)[0];r[e]=t}else r.tags=i;if(typeof a=="object"){let[e,t]=Object.entries(a)[0];r[e]=t}else r.link=a;r.typeC4Shape={text:e},r.parentBoundary=J,r.wrap=Rt()},Kk=function(e,t,n,s,o,i,a,r){if(t===null||n===null)return;let c={};const l=ze.find(e=>e.alias===t);if(l&&t===l.alias?c=l:(c.alias=t,ze.push(c)),n==null?c.label={text:""}:c.label={text:n},s==null)c.techn={text:""};else if(typeof s=="object"){let[e,t]=Object.entries(s)[0];c[e]={text:t}}else c.techn={text:s};if(o==null)c.descr={text:""};else if(typeof o=="object"){let[e,t]=Object.entries(o)[0];c[e]={text:t}}else c.descr={text:o};if(typeof i=="object"){let[e,t]=Object.entries(i)[0];c[e]=t}else c.sprite=i;if(typeof a=="object"){let[e,t]=Object.entries(a)[0];c[e]=t}else c.tags=a;if(typeof r=="object"){let[e,t]=Object.entries(r)[0];c[e]=t}else c.link=r;c.wrap=Rt(),c.typeC4Shape={text:e},c.parentBoundary=J},qk=function(e,t,n,s,o,i,a,r){if(t===null||n===null)return;let c={};const l=ze.find(e=>e.alias===t);if(l&&t===l.alias?c=l:(c.alias=t,ze.push(c)),n==null?c.label={text:""}:c.label={text:n},s==null)c.techn={text:""};else if(typeof s=="object"){let[e,t]=Object.entries(s)[0];c[e]={text:t}}else c.techn={text:s};if(o==null)c.descr={text:""};else if(typeof o=="object"){let[e,t]=Object.entries(o)[0];c[e]={text:t}}else c.descr={text:o};if(typeof i=="object"){let[e,t]=Object.entries(i)[0];c[e]=t}else c.sprite=i;if(typeof a=="object"){let[e,t]=Object.entries(a)[0];c[e]=t}else c.tags=a;if(typeof r=="object"){let[e,t]=Object.entries(r)[0];c[e]=t}else c.link=r;c.wrap=Rt(),c.typeC4Shape={text:e},c.parentBoundary=J},Yk=function(e,t,n,s,o){if(e===null||t===null)return;let i={};const a=Ve.find(t=>t.alias===e);if(a&&e===a.alias?i=a:(i.alias=e,Ve.push(i)),t==null?i.label={text:""}:i.label={text:t},n==null)i.type={text:"system"};else if(typeof n=="object"){let[e,t]=Object.entries(n)[0];i[e]={text:t}}else i.type={text:n};if(typeof s=="object"){let[e,t]=Object.entries(s)[0];i[e]=t}else i.tags=s;if(typeof o=="object"){let[e,t]=Object.entries(o)[0];i[e]=t}else i.link=o;i.parentBoundary=J,i.wrap=Rt(),Se=J,J=e,$t.push(Se)},Gk=function(e,t,n,s,o){if(e===null||t===null)return;let i={};const a=Ve.find(t=>t.alias===e);if(a&&e===a.alias?i=a:(i.alias=e,Ve.push(i)),t==null?i.label={text:""}:i.label={text:t},n==null)i.type={text:"container"};else if(typeof n=="object"){let[e,t]=Object.entries(n)[0];i[e]={text:t}}else i.type={text:n};if(typeof s=="object"){let[e,t]=Object.entries(s)[0];i[e]=t}else i.tags=s;if(typeof o=="object"){let[e,t]=Object.entries(o)[0];i[e]=t}else i.link=o;i.parentBoundary=J,i.wrap=Rt(),Se=J,J=e,$t.push(Se)},Xk=function(e,t,n,s,o,i,a,r){if(t===null||n===null)return;let c={};const l=Ve.find(e=>e.alias===t);if(l&&t===l.alias?c=l:(c.alias=t,Ve.push(c)),n==null?c.label={text:""}:c.label={text:n},s==null)c.type={text:"node"};else if(typeof s=="object"){let[e,t]=Object.entries(s)[0];c[e]={text:t}}else c.type={text:s};if(o==null)c.descr={text:""};else if(typeof o=="object"){let[e,t]=Object.entries(o)[0];c[e]={text:t}}else c.descr={text:o};if(typeof a=="object"){let[e,t]=Object.entries(a)[0];c[e]=t}else c.tags=a;if(typeof r=="object"){let[e,t]=Object.entries(r)[0];c[e]=t}else c.link=r;c.nodeType=e,c.parentBoundary=J,c.wrap=Rt(),Se=J,J=t,$t.push(Se)},Qk=function(){J=Se,$t.pop(),Se=$t.pop(),$t.push(Se)},Zk=function(e,t,n,s,o,i,a,r,c,l,d){let u=ze.find(e=>e.alias===t);if(u===void 0&&(u=Ve.find(e=>e.alias===t),u===void 0))return;if(n!=null)if(typeof n=="object"){let[e,t]=Object.entries(n)[0];u[e]=t}else u.bgColor=n;if(s!=null)if(typeof s=="object"){let[e,t]=Object.entries(s)[0];u[e]=t}else u.fontColor=s;if(o!=null)if(typeof o=="object"){let[e,t]=Object.entries(o)[0];u[e]=t}else u.borderColor=o;if(i!=null)if(typeof i=="object"){let[e,t]=Object.entries(i)[0];u[e]=t}else u.shadowing=i;if(a!=null)if(typeof a=="object"){let[e,t]=Object.entries(a)[0];u[e]=t}else u.shape=a;if(r!=null)if(typeof r=="object"){let[e,t]=Object.entries(r)[0];u[e]=t}else u.sprite=r;if(c!=null)if(typeof c=="object"){let[e,t]=Object.entries(c)[0];u[e]=t}else u.techn=c;if(l!=null)if(typeof l=="object"){let[e,t]=Object.entries(l)[0];u[e]=t}else u.legendText=l;if(d!=null)if(typeof d=="object"){let[e,t]=Object.entries(d)[0];u[e]=t}else u.legendSprite=d},Jk=function(e,t,n,s,o,i,a){const r=Zs.find(e=>e.from===t&&e.to===n);if(r===void 0)return;if(s!=null)if(typeof s=="object"){let[e,t]=Object.entries(s)[0];r[e]=t}else r.textColor=s;if(o!=null)if(typeof o=="object"){let[e,t]=Object.entries(o)[0];r[e]=t}else r.lineColor=o;if(i!=null)if(typeof i=="object"){let[e,t]=Object.entries(i)[0];r[e]=parseInt(t)}else r.offsetX=parseInt(i);if(a!=null)if(typeof a=="object"){let[e,t]=Object.entries(a)[0];r[e]=parseInt(t)}else r.offsetY=parseInt(a)},eA=function(e,t,n){let s=Li,o=Pi;if(typeof t=="object"){const e=Object.values(t)[0];s=parseInt(e)}else s=parseInt(t);if(typeof n=="object"){const e=Object.values(n)[0];o=parseInt(e)}else o=parseInt(n);s>=1&&(Li=s),o>=1&&(Pi=o)},tA=function(){return Li},nA=function(){return Pi},sA=function(){return J},oA=function(){return Se},H2=function(e){return e==null?ze:ze.filter(t=>t.parentBoundary===e)},aA=function(e){return ze.find(t=>t.alias===e)},rA=function(e){return Object.keys(H2(e))},cA=function(e){return e==null?Ve:Ve.filter(t=>t.parentBoundary===e)},lA=function(){return Zs},dA=function(){return ml},uA=function(e){gl=e},Rt=function(){return gl},mA=function(){ze=[],Ve=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Se="",J="global",$t=[""],Zs=[],$t=[""],ml="",gl=!1,Li=4,Pi=2},fA={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},pA={FILLED:0,OPEN:1},gA={LEFTOF:0,RIGHTOF:1,OVER:2},vA=function(e){let n=Le(e,t());ml=n},V2={addPersonOrSystem:Uk,addPersonOrSystemBoundary:Yk,addContainer:Kk,addContainerBoundary:Gk,addComponent:qk,addDeploymentNode:Xk,popBoundaryParseStack:Qk,addRel:Wk,updateElStyle:Zk,updateRelStyle:Jk,updateLayoutConfig:eA,autoWrap:Rt,setWrap:uA,getC4ShapeArray:H2,getC4Shape:aA,getC4ShapeKeys:rA,getBoundarys:cA,getCurrentBoundaryParse:sA,getParentBoundaryParse:oA,getRels:lA,getTitle:dA,getC4Type:Bk,getC4ShapeInRow:tA,getC4BoundaryInRow:nA,setAccTitle:je,getAccTitle:Ee,getAccDescription:xe,setAccDescription:ke,parseDirective:$k,getConfig:()=>t().c4,clear:mA,LINETYPE:fA,ARROWTYPE:pA,PLACEMENT:gA,setTitle:vA,setC4Type:Vk},Ol=function(e,t){const n=e.append("rect");if(n.attr("x",t.x),n.attr("y",t.y),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("width",t.width),n.attr("height",t.height),n.attr("rx",t.rx),n.attr("ry",t.ry),t.attrs!=="undefined"&&t.attrs!==null)for(let e in t.attrs)n.attr(e,t.attrs[e]);return t.class!=="undefined"&&n.attr("class",t.class),n},W2=function(e,t,n,s,o,i){const a=e.append("image");a.attr("width",t),a.attr("height",n),a.attr("x",s),a.attr("y",o);let r=i.startsWith("data:image/png;base64")?i:(0,Ut.sanitizeUrl)(i);a.attr("xlink:href",r)},_A=(e,t,n)=>{const s=e.append("g");let o=0;for(let e of t){let r=e.textColor?e.textColor:"#444444",c=e.lineColor?e.lineColor:"#444444",l=e.offsetX?parseInt(e.offsetX):0,d=e.offsetY?parseInt(e.offsetY):0,i="";if(o===0){let t=s.append("line");t.attr("x1",e.startPoint.x),t.attr("y1",e.startPoint.y),t.attr("x2",e.endPoint.x),t.attr("y2",e.endPoint.y),t.attr("stroke-width","1"),t.attr("stroke",c),t.style("fill","none"),e.type!=="rel_b"&&t.attr("marker-end","url("+i+"#arrowhead)"),(e.type==="birel"||e.type==="rel_b")&&t.attr("marker-start","url("+i+"#arrowend)"),o=-1}else{let t=s.append("path");t.attr("fill","none").attr("stroke-width","1").attr("stroke",c).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",e.startPoint.x).replaceAll("starty",e.startPoint.y).replaceAll("controlx",e.startPoint.x+(e.endPoint.x-e.startPoint.x)/2-(e.endPoint.x-e.startPoint.x)/4).replaceAll("controly",e.startPoint.y+(e.endPoint.y-e.startPoint.y)/2).replaceAll("stopx",e.endPoint.x).replaceAll("stopy",e.endPoint.y)),e.type!=="rel_b"&&t.attr("marker-end","url("+i+"#arrowhead)"),(e.type==="birel"||e.type==="rel_b")&&t.attr("marker-start","url("+i+"#arrowend)")}let a=n.messageFont();ft(n)(e.label.text,s,Math.min(e.startPoint.x,e.endPoint.x)+Math.abs(e.endPoint.x-e.startPoint.x)/2+l,Math.min(e.startPoint.y,e.endPoint.y)+Math.abs(e.endPoint.y-e.startPoint.y)/2+d,e.label.width,e.label.height,{fill:r},a),e.techn&&e.techn.text!==""&&(a=n.messageFont(),ft(n)("["+e.techn.text+"]",s,Math.min(e.startPoint.x,e.endPoint.x)+Math.abs(e.endPoint.x-e.startPoint.x)/2+l,Math.min(e.startPoint.y,e.endPoint.y)+Math.abs(e.endPoint.y-e.startPoint.y)/2+n.messageFontSize+5+d,Math.max(e.label.width,e.techn.width),e.techn.height,{fill:r,"font-style":"italic"},a))}},wA=function(e,t,n){const o=e.append("g");let r=t.bgColor?t.bgColor:"none",c=t.borderColor?t.borderColor:"#444444",i=t.fontColor?t.fontColor:"black",a={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(a={"stroke-width":1});let l={x:t.x,y:t.y,fill:r,stroke:c,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:a};Ol(o,l);let s=n.boundaryFont();s.fontWeight="bold",s.fontSize=s.fontSize+2,s.fontColor=i,ft(n)(t.label.text,o,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},s),t.type&&t.type.text!==""&&(s=n.boundaryFont(),s.fontColor=i,ft(n)(t.type.text,o,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},s)),t.descr&&t.descr.text!==""&&(s=n.boundaryFont(),s.fontSize=s.fontSize-2,s.fontColor=i,ft(n)(t.descr.text,o,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},s))},OA=function(e,t,n){let c=t.bgColor?t.bgColor:n[t.typeC4Shape.text+"_bg_color"],r=t.borderColor?t.borderColor:n[t.typeC4Shape.text+"_border_color"],a=t.fontColor?t.fontColor:"#FFFFFF",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const o=e.append("g");o.attr("class","person-man");const i=U2();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":i.x=t.x,i.y=t.y,i.fill=c,i.width=t.width,i.height=t.height,i.style="stroke:"+r+";stroke-width:0.5;",i.rx=2.5,i.ry=2.5,Ol(o,i);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":o.append("path").attr("fill",c).attr("stroke-width","0.5").attr("stroke",r).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",r).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":o.append("path").attr("fill",c).attr("stroke-width","0.5").attr("stroke",r).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",r).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2));break}let d=zA(n,t.typeC4Shape.text);switch(o.append("text").attr("fill",a).attr("font-family",d.fontFamily).attr("font-size",d.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":W2(o,48,48,t.x+t.width/2-24,t.y+t.image.Y,l);break}let s=n[t.typeC4Shape.text+"Font"]();return s.fontWeight="bold",s.fontSize=s.fontSize+2,s.fontColor=a,ft(n)(t.label.text,o,t.x,t.y+t.label.Y,t.width,t.height,{fill:a},s),s=n[t.typeC4Shape.text+"Font"](),s.fontColor=a,t.thchn&&t.thchn.text!==""?ft(n)(t.thchn.text,o,t.x,t.y+t.thchn.Y,t.width,t.height,{fill:a,"font-style":"italic"},s):t.type&&t.type.text!==""&&ft(n)(t.type.text,o,t.x,t.y+t.type.Y,t.width,t.height,{fill:a,"font-style":"italic"},s),t.descr&&t.descr.text!==""&&(s=n.personFont(),s.fontColor=a,ft(n)(t.descr.text,o,t.x,t.y+t.descr.Y,t.width,t.height,{fill:a},s)),t.height},xA=function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},CA=function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},EA=function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},kA=function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},AA=function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},SA=function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},MA=function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},FA=function(e){const n=e.append("defs"),t=n.append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);t.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),t.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},U2=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},zA=(e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),ft=function(){function n(t,n,s,o,i,a,r){const c=n.append("text").attr("x",s+i/2).attr("y",o+a/2+5).style("text-anchor","middle").text(t);e(c,r)}function t(t,n,s,o,i,a,r,c){const{fontSize:l,fontFamily:u,fontWeight:m}=c,d=t.split(h.lineBreakRegex);for(let t=0;t<d.length;t++){const c=t*l-l*(d.length-1)/2,a=n.append("text").attr("x",s+i/2).attr("y",o).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",l).style("font-weight",m).style("font-family",u);a.append("tspan").attr("dy",c).text(d[t]).attr("alignment-baseline","mathematical"),e(a,r)}}function s(n,s,o,i,a,r,c,l){const d=s.append("switch"),h=d.append("foreignObject").attr("x",o).attr("y",i).attr("width",a).attr("height",r),u=h.append("xhtml:div").style("display","table").style("height","100%").style("width","100%");u.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),t(n,d,o,i,a,r,c,l),e(u,c)}function e(e,t){for(const n in t)t.hasOwnProperty(n)&&e.attr(n,t[n])}return function(e){return e.textPlacement==="fo"?s:e.textPlacement==="old"?n:t}}(),Ue={drawRect:Ol,drawBoundary:wA,drawC4Shape:OA,drawRels:_A,drawImage:W2,insertArrowHead:kA,insertArrowEnd:AA,insertArrowFilledHead:SA,insertDynamicNumber:MA,insertArrowCrossHead:FA,insertDatabaseIcon:xA,insertComputerIcon:CA,insertClockIcon:EA,getNoteRect:U2,sanitizeUrl:Ut.sanitizeUrl},di=0,Ui=0,t3=4,El=2,ji.yy=V2,l={},i3=class{constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,Dl(e.db.getConfig())}setData(e,t,n,s){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=t,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=s}updateVal(e,t,n,s){e[t]===void 0?e[t]=n:e[t]=s(n,e[t])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let t=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,s=t+e.width,n=this.nextData.starty+e.margin*2,o=n+e.height;(t>=this.data.widthLimit||s>=this.data.widthLimit||this.nextData.cnt>t3)&&(t=this.nextData.startx+e.margin+l.nextLinePaddingX,n=this.nextData.stopy+e.margin*2,this.nextData.stopx=s=t+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=o=n+e.height,this.nextData.cnt=1),e.x=t,e.y=n,this.updateVal(this.data,"startx",t,Math.min),this.updateVal(this.data,"starty",n,Math.min),this.updateVal(this.data,"stopx",s,Math.max),this.updateVal(this.data,"stopy",o,Math.max),this.updateVal(this.nextData,"startx",t,Math.min),this.updateVal(this.nextData,"starty",n,Math.min),this.updateVal(this.nextData,"stopx",s,Math.max),this.updateVal(this.nextData,"stopy",o,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},Dl(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}},Dl=function(e){U(l,e),e.fontFamily&&(l.personFontFamily=l.systemFontFamily=l.messageFontFamily=e.fontFamily),e.fontSize&&(l.personFontSize=l.systemFontSize=l.messageFontSize=e.fontSize),e.fontWeight&&(l.personFontWeight=l.systemFontWeight=l.messageFontWeight=e.fontWeight)},zs=(e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),la=e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),UA=e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight});function Ge(e,t,n,s,o){if(!t[e].width)if(n)t[e].text=E4(t[e].text,o,s),t[e].textLines=t[e].text.split(h.lineBreakRegex).length,t[e].width=o,t[e].height=A4(t[e].text,s);else{let n=t[e].text.split(h.lineBreakRegex);t[e].textLines=n.length;let o=0;t[e].height=0,t[e].width=0;for(const i of n)t[e].width=Math.max(jt(i,s),t[e].width),o=A4(i,s),t[e].height=t[e].height+o}}d3=function(e,t,n){t.x=n.data.startx,t.y=n.data.starty,t.width=n.data.stopx-n.data.startx,t.height=n.data.stopy-n.data.starty,t.label.y=l.c4ShapeMargin-35;let o=t.wrap&&l.wrap,s=la(l);s.fontSize=s.fontSize+2,s.fontWeight="bold";let i=jt(t.label.text,s);Ge("label",t,o,s,i),Ue.drawBoundary(e,t,l)},h3=function(e,t,n,s){let o=0;for(const m of s){o=0;const i=n[m];let a=zs(l,i.typeC4Shape.text);switch(a.fontSize=a.fontSize-2,i.typeC4Shape.width=jt("<<"+i.typeC4Shape.text+">>",a),i.typeC4Shape.height=a.fontSize+2,i.typeC4Shape.Y=l.c4ShapePadding,o=i.typeC4Shape.Y+i.typeC4Shape.height-4,i.image={width:0,height:0,Y:0},i.typeC4Shape.text){case"person":case"external_person":i.image.width=48,i.image.height=48,i.image.Y=o,o=i.image.Y+i.image.height;break}i.sprite&&(i.image.width=48,i.image.height=48,i.image.Y=o,o=i.image.Y+i.image.height);let r=i.wrap&&l.wrap,c=l.width-l.c4ShapePadding*2,d=zs(l,i.typeC4Shape.text);if(d.fontSize=d.fontSize+2,d.fontWeight="bold",Ge("label",i,r,d,c),i.label.Y=o+8,o=i.label.Y+i.label.height,i.type&&i.type.text!==""){i.type.text="["+i.type.text+"]";let e=zs(l,i.typeC4Shape.text);Ge("type",i,r,e,c),i.type.Y=o+5,o=i.type.Y+i.type.height}else if(i.techn&&i.techn.text!==""){i.techn.text="["+i.techn.text+"]";let e=zs(l,i.techn.text);Ge("techn",i,r,e,c),i.techn.Y=o+5,o=i.techn.Y+i.techn.height}let h=o,u=i.label.width;if(i.descr&&i.descr.text!==""){let e=zs(l,i.typeC4Shape.text);Ge("descr",i,r,e,c),i.descr.Y=o+20,o=i.descr.Y+i.descr.height,u=Math.max(i.label.width,i.descr.width),h=o-i.descr.textLines*5}u=u+l.c4ShapePadding,i.width=Math.max(i.width||l.width,u,l.width),i.height=Math.max(i.height||l.height,h,l.height),i.margin=i.margin||l.c4ShapeMargin,e.insert(i),Ue.drawC4Shape(t,i,l)}e.bumpLastMargin(l.c4ShapeMargin)},pe=class{constructor(e,t){this.x=e,this.y=t}},v3=function(e,t){let n=e.x,s=e.y,i=t.x,a=t.y,l=n+e.width/2,c=s+e.height/2,d=Math.abs(n-i),u=Math.abs(s-a),r=u/d,h=e.height/e.width,o=null;return s==a&&n<i?o=new pe(n+e.width,c):s==a&&n>i?o=new pe(n,c):n==i&&s<a?o=new pe(l,s+e.height):n==i&&s>a&&(o=new pe(l,s)),n>i&&s<a?h>=r?o=new pe(n,c+r*e.width/2):o=new pe(l-d/u*e.height/2,s+e.height):n<i&&s<a?h>=r?o=new pe(n+e.width,c+r*e.width/2):o=new pe(l+d/u*e.height/2,s+e.height):n<i&&s>a?h>=r?o=new pe(n+e.width,c-r*e.width/2):o=new pe(l+e.height/2*d/u,s):n>i&&s>a&&(h>=r?o=new pe(n,c-e.width/2*r):o=new pe(l-e.height/2*d/u,s)),o},QA=function(e,t){let n={x:0,y:0};n.x=t.x+t.width/2,n.y=t.y+t.height/2;let s=v3(e,n);n.x=e.x+e.width/2,n.y=e.y+e.height/2;let o=v3(t,n);return{startPoint:s,endPoint:o}},ZA=function(e,t,n,s){let o=0;for(let e of t){o=o+1;let r=e.wrap&&l.wrap,i=UA(l),d=s.db.getC4Type();d==="C4Dynamic"&&(e.label.text=o+": "+e.label.text);let a=jt(e.label.text,i);Ge("label",e,r,i,a),e.techn&&e.techn.text!==""&&(a=jt(e.techn.text,i),Ge("techn",e,r,i,a)),e.descr&&e.descr.text!==""&&(a=jt(e.descr.text,i),Ge("descr",e,r,i,a));let u=n(e.from),h=n(e.to),c=QA(u,h);e.startPoint=c.startPoint,e.endPoint=c.endPoint}Ue.drawRels(e,t,l)};function JA(e,t,n,s,o){let i=new i3(o);i.data.widthLimit=n.data.widthLimit/Math.min(El,s.length);for(let[u,a]of s.entries()){let r=0;a.image={width:0,height:0,Y:0},a.sprite&&(a.image.width=48,a.image.height=48,a.image.Y=r,r=a.image.Y+a.image.height);let d=a.wrap&&l.wrap,c=la(l);if(c.fontSize=c.fontSize+2,c.fontWeight="bold",Ge("label",a,d,c,i.data.widthLimit),a.label.Y=r+8,r=a.label.Y+a.label.height,a.type&&a.type.text!==""){a.type.text="["+a.type.text+"]";let e=la(l);Ge("type",a,d,e,i.data.widthLimit),a.type.Y=r+5,r=a.type.Y+a.type.height}if(a.descr&&a.descr.text!==""){let e=la(l);e.fontSize=e.fontSize-2,Ge("descr",a,d,e,i.data.widthLimit),a.descr.Y=r+20,r=a.descr.Y+a.descr.height}if(u==0||u%El===0){let e=n.data.startx+l.diagramMarginX,t=n.data.stopy+l.diagramMarginY+r;i.setData(e,e,t,t)}else{let e=i.data.stopx!==i.data.startx?i.data.stopx+l.diagramMarginX:i.data.startx,t=i.data.starty;i.setData(e,e,t,t)}i.name=a.alias;let f=o.db.getC4ShapeArray(a.alias),h=o.db.getC4ShapeKeys(a.alias);h.length>0&&h3(i,e,f,h),t=a.alias;let m=o.db.getBoundarys(t);m.length>0&&JA(e,t,i,m,o),a.alias!=="global"&&d3(e,a,i),n.data.stopy=Math.max(i.data.stopy+l.c4ShapeMargin,n.data.stopy),n.data.stopx=Math.max(i.data.stopx+l.c4ShapeMargin,n.data.stopx),di=Math.max(di,n.data.stopx),Ui=Math.max(Ui,n.data.stopy)}}eS=function(n,s,o,a){l=t().c4;const u=t().securityLevel;let g;u==="sandbox"&&(g=i("#i"+s));const y=i(u==="sandbox"?g.nodes()[0].contentDocument.body:"body");let f=a.db;a.db.setWrap(l.wrap),t3=f.getC4ShapeInRow(),El=f.getC4BoundaryInRow(),e.debug(`C:${JSON.stringify(l,null,2)}`);const r=u==="sandbox"?y.select(`[id="${s}"]`):i(`[id="${s}"]`);Ue.insertComputerIcon(r),Ue.insertDatabaseIcon(r),Ue.insertClockIcon(r);let d=new i3(a);d.setData(l.diagramMarginX,l.diagramMarginX,l.diagramMarginY,l.diagramMarginY),d.data.widthLimit=screen.availWidth,di=l.diagramMarginX,Ui=l.diagramMarginY;const h=a.db.getTitle();let _=a.db.getBoundarys("");JA(r,"",d,_,a),Ue.insertArrowHead(r),Ue.insertArrowEnd(r),Ue.insertArrowCrossHead(r),Ue.insertArrowFilledHead(r),ZA(r,a.db.getRels(),a.db.getC4Shape,a),d.data.stopx=di,d.data.stopy=Ui;const c=d.data;let b=c.stopy-c.starty,v=b+2*l.diagramMarginY,j=c.stopx-c.startx;const p=j+2*l.diagramMarginX;h&&r.append("text").text(h).attr("x",(c.stopx-c.startx)/2-4*l.diagramMarginX).attr("y",c.starty+l.diagramMarginY),Fe(r,v,p,l.useMaxWidth);const m=h?60:0;r.attr("viewBox",c.startx-l.diagramMarginX+" -"+(l.diagramMarginY+m)+" "+p+" "+(v+m)),e.debug(`models:`,c)},j3={drawPersonOrSystemArray:h3,drawBoundary:d3,setConf:Dl,draw:eS},Hl=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},V=[1,3],v=[1,7],g=[1,8],p=[1,9],y=[1,10],d=[1,13],B=[1,12],l=[1,16,25],I=[1,20],H=[1,32],T=[1,33],F=[1,34],M=[1,36],S=[1,39],k=[1,37],z=[1,38],D=[1,44],A=[1,45],R=[1,40],$=[1,41],U=[1,42],W=[1,43],s=[1,48],n=[1,49],o=[1,50],i=[1,51],t=[16,25],j=[1,65],f=[1,66],m=[1,67],h=[1,68],u=[1,69],_=[1,70],C=[1,71],N=[1,80],r=[16,25,32,45,46,54,60,61,62,63,64,65,66,71,73],x=[16,25,30,32,45,46,50,54,60,61,62,63,64,65,66,71,73,88,89,90,91],P=[5,8,9,10,11,16,19,23,25],c=[54,88,89,90,91],a=[54,65,66,88,89,90,91],L=[54,60,61,62,63,64,88,89,90,91],b=[16,25,32],O=[1,107],w={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,noteStatement:38,acc_title:39,acc_title_value:40,acc_descr:41,acc_descr_value:42,acc_descr_multiline_value:43,CLASS:44,STYLE_SEPARATOR:45,STRUCT_START:46,members:47,STRUCT_STOP:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,STR:54,NOTE_FOR:55,noteText:56,NOTE:57,relationType:58,lineType:59,AGGREGATION:60,EXTENSION:61,COMPOSITION:62,DEPENDENCY:63,LOLLIPOP:64,LINE:65,DOTTED_LINE:66,CALLBACK:67,LINK:68,LINK_TARGET:69,CLICK:70,CALLBACK_NAME:71,CALLBACK_ARGS:72,HREF:73,CSSCLASS:74,commentToken:75,textToken:76,graphCodeTokens:77,textNoTagsToken:78,TAGSTART:79,TAGEND:80,"==":81,"--":82,PCT:83,DEFAULT:84,SPACE:85,MINUS:86,keywords:87,UNICODE_TEXT:88,NUM:89,ALPHA:90,BQUOTE_STR:91,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",39:"acc_title",40:"acc_title_value",41:"acc_descr",42:"acc_descr_value",43:"acc_descr_multiline_value",44:"CLASS",45:"STYLE_SEPARATOR",46:"STRUCT_START",48:"STRUCT_STOP",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"STR",55:"NOTE_FOR",57:"NOTE",60:"AGGREGATION",61:"EXTENSION",62:"COMPOSITION",63:"DEPENDENCY",64:"LOLLIPOP",65:"LINE",66:"DOTTED_LINE",67:"CALLBACK",68:"LINK",69:"LINK_TARGET",70:"CLICK",71:"CALLBACK_NAME",72:"CALLBACK_ARGS",73:"HREF",74:"CSSCLASS",77:"graphCodeTokens",79:"TAGSTART",80:"TAGEND",81:"==",82:"--",83:"PCT",84:"DEFAULT",85:"SPACE",86:"MINUS",87:"keywords",88:"UNICODE_TEXT",89:"NUM",90:"ALPHA",91:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[47,1],[47,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[38,3],[38,2],[53,3],[53,2],[53,2],[53,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[75,1],[75,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[78,1],[78,1],[78,1],[78,1],[28,1],[28,1],[28,1],[29,1],[56,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 5:o.setDirection("TB");break;case 6:o.setDirection("BT");break;case 7:o.setDirection("RL");break;case 8:o.setDirection("LR");break;case 12:o.parseDirective("%%{","open_directive");break;case 13:o.parseDirective(a[c],"type_directive");break;case 14:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 15:o.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=a[c];break;case 22:this.$=a[c-1]+a[c];break;case 23:case 24:this.$=a[c-1]+"~"+a[c];break;case 25:o.addRelation(a[c]);break;case 26:a[c-1].title=o.cleanupLabel(a[c]),o.addRelation(a[c-1]);break;case 35:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 36:case 37:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 38:o.addClass(a[c]);break;case 39:o.addClass(a[c-2]),o.setCssClass(a[c-2],a[c]);break;case 40:o.addClass(a[c-3]),o.addMembers(a[c-3],a[c-1]);break;case 41:o.addClass(a[c-5]),o.setCssClass(a[c-5],a[c-3]),o.addMembers(a[c-5],a[c-1]);break;case 42:o.addAnnotation(a[c],a[c-2]);break;case 43:this.$=[a[c]];break;case 44:a[c].push(a[c-1]),this.$=a[c];break;case 45:break;case 46:o.addMember(a[c-1],o.cleanupLabel(a[c]));break;case 47:break;case 48:break;case 49:this.$={id1:a[c-2],id2:a[c],relation:a[c-1],relationTitle1:"none",relationTitle2:"none"};break;case 50:this.$={id1:a[c-3],id2:a[c],relation:a[c-1],relationTitle1:a[c-2],relationTitle2:"none"};break;case 51:this.$={id1:a[c-3],id2:a[c],relation:a[c-2],relationTitle1:"none",relationTitle2:a[c-1]};break;case 52:this.$={id1:a[c-4],id2:a[c],relation:a[c-2],relationTitle1:a[c-3],relationTitle2:a[c-1]};break;case 53:o.addNote(a[c],a[c-1]);break;case 54:o.addNote(a[c]);break;case 55:this.$={type1:a[c-2],type2:a[c],lineType:a[c-1]};break;case 56:this.$={type1:"none",type2:a[c],lineType:a[c-1]};break;case 57:this.$={type1:a[c-1],type2:"none",lineType:a[c]};break;case 58:this.$={type1:"none",type2:"none",lineType:a[c]};break;case 59:this.$=o.relationType.AGGREGATION;break;case 60:this.$=o.relationType.EXTENSION;break;case 61:this.$=o.relationType.COMPOSITION;break;case 62:this.$=o.relationType.DEPENDENCY;break;case 63:this.$=o.relationType.LOLLIPOP;break;case 64:this.$=o.lineType.LINE;break;case 65:this.$=o.lineType.DOTTED_LINE;break;case 66:case 72:this.$=a[c-2],o.setClickEvent(a[c-1],a[c]);break;case 67:case 73:this.$=a[c-3],o.setClickEvent(a[c-2],a[c-1]),o.setTooltip(a[c-2],a[c]);break;case 68:case 76:this.$=a[c-2],o.setLink(a[c-1],a[c]);break;case 69:this.$=a[c-3],o.setLink(a[c-2],a[c-1],a[c]);break;case 70:case 78:this.$=a[c-3],o.setLink(a[c-2],a[c-1]),o.setTooltip(a[c-2],a[c]);break;case 71:case 79:this.$=a[c-4],o.setLink(a[c-3],a[c-2],a[c]),o.setTooltip(a[c-3],a[c-1]);break;case 74:this.$=a[c-3],o.setClickEvent(a[c-2],a[c-1],a[c]);break;case 75:this.$=a[c-4],o.setClickEvent(a[c-3],a[c-2],a[c-1]),o.setTooltip(a[c-3],a[c]);break;case 77:this.$=a[c-3],o.setLink(a[c-2],a[c-1],a[c]);break;case 80:o.setCssClass(a[c-1],a[c]);break}},table:[{3:1,4:2,5:V,6:4,7:5,8:v,9:g,10:p,11:y,12:6,13:11,19:d,23:B},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:V,6:4,7:5,8:v,9:g,10:p,11:y,12:6,13:11,19:d,23:B},{1:[2,9]},e(l,[2,5]),e(l,[2,6]),e(l,[2,7]),e(l,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:I},e([17,22],[2,13]),{6:31,7:30,8:v,9:g,10:p,11:y,13:11,19:d,24:21,26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:H,41:T,43:F,44:M,49:S,51:k,52:z,55:D,57:A,67:R,68:$,70:U,74:W,88:s,89:n,90:o,91:i},{16:[1,52]},{18:53,21:[1,54]},{16:[2,15]},{25:[1,55]},{16:[1,56],25:[2,17]},e(t,[2,25],{32:[1,57]}),e(t,[2,27]),e(t,[2,28]),e(t,[2,29]),e(t,[2,30]),e(t,[2,31]),e(t,[2,32]),e(t,[2,33]),e(t,[2,34]),{40:[1,58]},{42:[1,59]},e(t,[2,37]),e(t,[2,45],{53:60,58:63,59:64,32:[1,62],54:[1,61],60:j,61:f,62:m,63:h,64:u,65:_,66:C}),{27:72,28:46,29:47,88:s,89:n,90:o,91:i},e(t,[2,47]),e(t,[2,48]),{28:73,88:s,89:n,90:o},{27:74,28:46,29:47,88:s,89:n,90:o,91:i},{27:75,28:46,29:47,88:s,89:n,90:o,91:i},{27:76,28:46,29:47,88:s,89:n,90:o,91:i},{54:[1,77]},{27:78,28:46,29:47,88:s,89:n,90:o,91:i},{54:N,56:79},e(r,[2,20],{28:46,29:47,27:81,30:[1,82],88:s,89:n,90:o,91:i}),e(r,[2,21],{30:[1,83]}),e(x,[2,94]),e(x,[2,95]),e(x,[2,96]),e([16,25,30,32,45,46,54,60,61,62,63,64,65,66,71,73],[2,97]),e(P,[2,10]),{15:84,22:I},{22:[2,14]},{1:[2,16]},{6:31,7:30,8:v,9:g,10:p,11:y,13:11,19:d,24:85,25:[2,18],26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:H,41:T,43:F,44:M,49:S,51:k,52:z,55:D,57:A,67:R,68:$,70:U,74:W,88:s,89:n,90:o,91:i},e(t,[2,26]),e(t,[2,35]),e(t,[2,36]),{27:86,28:46,29:47,54:[1,87],88:s,89:n,90:o,91:i},{53:88,58:63,59:64,60:j,61:f,62:m,63:h,64:u,65:_,66:C},e(t,[2,46]),{59:89,65:_,66:C},e(c,[2,58],{58:90,60:j,61:f,62:m,63:h,64:u}),e(a,[2,59]),e(a,[2,60]),e(a,[2,61]),e(a,[2,62]),e(a,[2,63]),e(L,[2,64]),e(L,[2,65]),e(t,[2,38],{45:[1,91],46:[1,92]}),{50:[1,93]},{54:[1,94]},{54:[1,95]},{71:[1,96],73:[1,97]},{28:98,88:s,89:n,90:o},{54:N,56:99},e(t,[2,54]),e(t,[2,98]),e(r,[2,22]),e(r,[2,23]),e(r,[2,24]),{16:[1,100]},{25:[2,19]},e(b,[2,49]),{27:101,28:46,29:47,88:s,89:n,90:o,91:i},{27:102,28:46,29:47,54:[1,103],88:s,89:n,90:o,91:i},e(c,[2,57],{58:104,60:j,61:f,62:m,63:h,64:u}),e(c,[2,56]),{28:105,88:s,89:n,90:o},{47:106,51:O},{27:108,28:46,29:47,88:s,89:n,90:o,91:i},e(t,[2,66],{54:[1,109]}),e(t,[2,68],{54:[1,111],69:[1,110]}),e(t,[2,72],{54:[1,112],72:[1,113]}),e(t,[2,76],{54:[1,115],69:[1,114]}),e(t,[2,80]),e(t,[2,53]),e(P,[2,11]),e(b,[2,51]),e(b,[2,50]),{27:116,28:46,29:47,88:s,89:n,90:o,91:i},e(c,[2,55]),e(t,[2,39],{46:[1,117]}),{48:[1,118]},{47:119,48:[2,43],51:O},e(t,[2,42]),e(t,[2,67]),e(t,[2,69]),e(t,[2,70],{69:[1,120]}),e(t,[2,73]),e(t,[2,74],{54:[1,121]}),e(t,[2,77]),e(t,[2,78],{69:[1,122]}),e(b,[2,52]),{47:123,51:O},e(t,[2,40]),{48:[2,44]},e(t,[2,71]),e(t,[2,75]),e(t,[2,79]),{48:[1,124]},e(t,[2,41])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],54:[2,14],55:[2,16],85:[2,19],119:[2,44]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,d,u,m,f,g,v,j,y,_,w,S=this,i=[0],b=[],c=[null],n=[],p=this.table,C="",h=0,x=0,k=2,O=1,E=n.slice.call(arguments,1),s=Object.create(this.lexer),l={yy:{}};for(y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(l.yy[y]=this.yy[y]);s.setInput(t,l.yy),l.yy.lexer=s,l.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),w=s.options&&s.options.ranges,typeof l.yy.parseError=="function"?this.parseError=l.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function A(){var e=b.pop()||s.lex()||O;return typeof e!="number"&&(e instanceof Array&&(b=e,e=b.pop()),e=S.symbols_[e]||e),e}for(d={};!0;){if(u=i[i.length-1],this.defaultActions[u]?a=this.defaultActions[u]:((o===null||typeof o=="undefined")&&(o=A()),a=p[u]&&p[u][o]),typeof a=="undefined"||!a.length||!a[0]){g="",f=[];for(m in p[u])this.terminals_[m]&&m>k&&f.push("'"+this.terminals_[m]+"'");s.showPosition?g="Parse error on line "+(h+1)+`:
`+s.showPosition()+`
Expecting `+f.join(", ")+", got '"+(this.terminals_[o]||o)+"'":g="Parse error on line "+(h+1)+": Unexpected "+(o==O?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(g,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:f})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+o);switch(a[0]){case 1:i.push(o),c.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,x=s.yyleng,C=s.yytext,h=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],d.$=c[c.length-r],d._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},w&&(d._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(d,[C,x,h,l.yy,a[1],c,n].concat(E)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),c=c.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),c.push(d.$),n.push(d._$),_=p[i[i.length-2]][i[i.length-1]],i.push(_);break;case 3:return!0}}return!0}},K=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:break;case 10:break;case 11:return this.begin("acc_title"),39;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),41;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 19:break;case 20:return 23;case 21:return 23;case 22:return this.begin("struct"),46;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),48;case 27:break;case 28:return"MEMBER";case 29:return 44;case 30:return 74;case 31:return 67;case 32:return 68;case 33:return 70;case 34:return 55;case 35:return 57;case 36:return 49;case 37:return 50;case 38:this.begin("generic");break;case 39:this.popState();break;case 40:return"GENERICTYPE";case 41:this.begin("string");break;case 42:this.popState();break;case 43:return"STR";case 44:this.begin("bqstring");break;case 45:this.popState();break;case 46:return"BQUOTE_STR";case 47:this.begin("href");break;case 48:this.popState();break;case 49:return 73;case 50:this.begin("callback_name");break;case 51:this.popState();break;case 52:this.popState(),this.begin("callback_args");break;case 53:return 71;case 54:this.popState();break;case 55:return 72;case 56:return 69;case 57:return 69;case 58:return 69;case 59:return 69;case 60:return 61;case 61:return 61;case 62:return 63;case 63:return 63;case 64:return 62;case 65:return 60;case 66:return 64;case 67:return 65;case 68:return 66;case 69:return 32;case 70:return 45;case 71:return 86;case 72:return"DOT";case 73:return"PLUS";case 74:return 83;case 75:return"EQUALS";case 76:return"EQUALS";case 77:return 90;case 78:return"PUNCTUATION";case 79:return 89;case 80:return 88;case 81:return 85;case 82:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[}])/,/^(?:[^}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[54,55],inclusive:!1},callback_name:{rules:[51,52,53],inclusive:!1},href:{rules:[48,49],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[39,40],inclusive:!1},bqstring:{rules:[45,46],inclusive:!1},string:{rules:[42,43],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,37,38,41,44,47,50,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],inclusive:!0}}};return e}();w.lexer=K;function E(){this.yy={}}return E.prototype=w,w.Parser=E,new E}(),Hl.parser=Hl,C3=Hl,oS=(e,t)=>{var n;return((n=t?.class)==null?void 0:n.defaultRenderer)!=="dagre-wrapper"&&e.match(/^\s*classDiagram/)!==null},iS=(e,t)=>{var n;return e.match(/^\s*classDiagram/)!==null&&((n=t?.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||e.match(/^\s*classDiagram-v2/)!==null},Vl="classid-",$l=[],M={},Ma=[],M3=0,bs=[],ms=e=>h.sanitizeText(e,t()),uj=function(e,t,n){_.parseDirective(this,e,t,n)},ro=function(e){let n="",s=e;if(e.indexOf("~")>0){let o=e.split("~");s=o[0],n=h.sanitizeText(o[1],t())}return{className:s,type:n}},Bc=function(e){let t=ro(e);if(M[t.className]!==void 0)return;M[t.className]={id:t.className,type:t.type,cssClasses:[],methods:[],members:[],annotations:[],domId:Vl+t.className+"-"+M3},M3++},M4=function(e){const t=Object.keys(M);for(const n of t)if(M[n].id===e)return M[n].domId},kx=function(){$l=[],M={},Ma=[],bs=[],bs.push(O1),Ce()},Ox=function(e){return M[e]},_x=function(){return M},yx=function(){return $l},vx=function(){return Ma},tx=function(n){e.debug("Adding relation: "+JSON.stringify(n)),Bc(n.id1),Bc(n.id2),n.id1=ro(n.id1).className,n.id2=ro(n.id2).className,n.relationTitle1=h.sanitizeText(n.relationTitle1.trim(),t()),n.relationTitle2=h.sanitizeText(n.relationTitle2.trim(),t()),$l.push(n)},YO=function(e,t){const n=ro(e).className;M[n].annotations.push(t)},R1=function(e,t){const s=ro(e).className,n=M[s];if(typeof t=="string"){const e=t.trim();e.startsWith("<<")&&e.endsWith(">>")?n.annotations.push(ms(e.substring(2,e.length-2))):e.indexOf(")")>0?n.methods.push(ms(e)):e&&n.members.push(ms(e))}},UO=function(e,t){Array.isArray(t)&&(t.reverse(),t.forEach(t=>R1(e,t)))},$O=function(e,t){const n={id:`note${Ma.length}`,class:t,text:e};Ma.push(n)},VO=function(e){return e.substring(0,1)===":"?h.sanitizeText(e.substr(1).trim(),t()):ms(e.trim())},_r=function(e,t){e.split(",").forEach(function(e){let n=e;e[0].match(/\d/)&&(n=Vl+n),M[n]!==void 0&&M[n].cssClasses.push(t)})},IO=function(e,n){const s=t();e.split(",").forEach(function(e){n!==void 0&&(M[e].tooltip=h.sanitizeText(n,s))})},PO=function(e){return M[e].tooltip},RO=function(e,n,s){const o=t();e.split(",").forEach(function(e){let t=e;e[0].match(/\d/)&&(t=Vl+t),M[t]!==void 0&&(M[t].link=p.formatUrl(n,o),o.securityLevel==="sandbox"?M[t].linkTarget="_top":typeof s=="string"?M[t].linkTarget=ms(s):M[t].linkTarget="_blank")}),_r(e,"clickable")},LO=function(e,t,n){e.split(",").forEach(function(e){NO(e,t,n),M[e].haveCallback=!0}),_r(e,"clickable")},NO=function(e,n,s){const a=t();let o=e,i=M4(o);if(a.securityLevel!=="loose")return;if(n===void 0)return;if(M[o]!==void 0){let e=[];if(typeof s=="string"){e=s.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let n=0;n<e.length;n++){let t=e[n].trim();t.charAt(0)==='"'&&t.charAt(t.length-1)==='"'&&(t=t.substr(1,t.length-2)),e[n]=t}}e.length===0&&e.push(i),bs.push(function(){const t=document.querySelector(`[id="${i}"]`);t!==null&&t.addEventListener("click",function(){p.runFunc(n,...e)},!1)})}},DO=function(e){bs.forEach(function(t){t(e)})},wO={LINE:0,DOTTED_LINE:1},bO={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},O1=function(e){let t=i(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=i("body").append("div").attr("class","mermaidTooltip").style("opacity",0));const n=i(e).select("svg"),s=n.selectAll("g.node");s.on("mouseover",function(){const n=i(this),s=n.attr("title");if(s===null)return;const e=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(n.attr("title")).style("left",window.scrollX+e.left+(e.right-e.left)/2+"px").style("top",window.scrollY+e.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),n.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0);const e=i(this);e.classed("hover",!1)})},bs.push(O1),_1="TB",fO=()=>_1,qw=e=>{_1=e},En={parseDirective:uj,setAccTitle:je,getAccTitle:Ee,getAccDescription:xe,setAccDescription:ke,getConfig:()=>t().class,addClass:Bc,bindFunctions:DO,clear:kx,getClass:Ox,getClasses:_x,getNotes:vx,addAnnotation:YO,addNote:$O,getRelations:yx,addRelation:tx,getDirection:fO,setDirection:qw,addMember:R1,addMembers:UO,cleanupLabel:VO,lineType:wO,relationType:bO,setClickEvent:LO,setCssClass:_r,setLink:RO,getTooltip:PO,setTooltip:IO,lookUpDomId:M4,setDiagramTitle:Je,getDiagramTitle:ut},a1=0,Vw=function(t,n,s,o,i){const l=function(e){switch(e){case i.db.relationType.AGGREGATION:return"aggregation";case i.db.relationType.EXTENSION:return"extension";case i.db.relationType.COMPOSITION:return"composition";case i.db.relationType.DEPENDENCY:return"dependency";case i.db.relationType.LOLLIPOP:return"lollipop"}};n.points=n.points.filter(e=>!Number.isNaN(e.y));const j=n.points,b=uo().x(function(e){return e.x}).y(function(e){return e.y}).curve(_o),r=t.append("path").attr("d",b(j)).attr("id","edge"+a1).attr("class","relation");let a="";o.arrowMarkerAbsolute&&(a=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,a=a.replace(/\(/g,"\\("),a=a.replace(/\)/g,"\\)")),s.relation.lineType==1&&r.attr("class","relation dashed-line"),s.relation.lineType==10&&r.attr("class","relation dotted-line"),s.relation.type1!=="none"&&r.attr("marker-start","url("+a+"#"+l(s.relation.type1)+"Start)"),s.relation.type2!=="none"&&r.attr("marker-end","url("+a+"#"+l(s.relation.type2)+"End)");let u,h;const c=n.points.length;let f=p.calcLabelPosition(n.points);u=f.x,h=f.y;let g,d,m,v;if(c%2!==0&&c>1){let t=p.calcCardinalityPosition(s.relation.type1!=="none",n.points,n.points[0]),o=p.calcCardinalityPosition(s.relation.type2!=="none",n.points,n.points[c-1]);e.debug("cardinality_1_point "+JSON.stringify(t)),e.debug("cardinality_2_point "+JSON.stringify(o)),g=t.x,d=t.y,m=o.x,v=o.y}if(s.title!==void 0){const n=t.append("g").attr("class","classLabel"),i=n.append("text").attr("class","label").attr("x",u).attr("y",h).attr("fill","red").attr("text-anchor","middle").text(s.title);window.label=i;const e=i.node().getBBox();n.insert("rect",":first-child").attr("class","box").attr("x",e.x-o.padding/2).attr("y",e.y-o.padding/2).attr("width",e.width+o.padding).attr("height",e.height+o.padding)}if(e.info("Rendering relation "+JSON.stringify(s)),s.relationTitle1!==void 0&&s.relationTitle1!=="none"){const e=t.append("g").attr("class","cardinality");e.append("text").attr("class","type1").attr("x",g).attr("y",d).attr("fill","black").attr("font-size","6").text(s.relationTitle1)}if(s.relationTitle2!==void 0&&s.relationTitle2!=="none"){const e=t.append("g").attr("class","cardinality");e.append("text").attr("class","type2").attr("x",m).attr("y",v).attr("fill","black").attr("font-size","6").text(s.relationTitle2)}a1++},Hw=function(t,n,s,o){e.debug("Rendering class ",n,s);const g=n.id,h={id:g,label:n.id,width:0,height:0},a=t.append("g").attr("id",o.db.lookUpDomId(g)).attr("class","classGroup");let r;n.link?r=a.append("svg:a").attr("xlink:href",n.link).attr("target",n.linkTarget).append("text").attr("y",s.textHeight+s.padding).attr("x",0):r=a.append("text").attr("y",s.textHeight+s.padding).attr("x",0);let i=!0;n.annotations.forEach(function(e){const t=r.append("tspan").text("\xAB"+e+"\xBB");i||t.attr("dy",s.textHeight),i=!1});let f=n.id;n.type!==void 0&&n.type!==""&&(f+="<"+n.type+">");const j=r.append("tspan").text(f).attr("class","title");i||j.attr("dy",s.textHeight);const c=r.node().getBBox().height,_=a.append("line").attr("x1",0).attr("y1",s.padding+c+s.dividerMargin/2).attr("y2",s.padding+c+s.dividerMargin/2),p=a.append("text").attr("x",s.padding).attr("y",c+s.dividerMargin+s.textHeight).attr("fill","white").attr("class","classText");i=!0,n.members.forEach(function(e){o1(p,e,i,s),i=!1});const m=p.node().getBBox(),b=a.append("line").attr("x1",0).attr("y1",s.padding+c+s.dividerMargin+m.height).attr("y2",s.padding+c+s.dividerMargin+m.height),v=a.append("text").attr("x",s.padding).attr("y",c+2*s.dividerMargin+m.height+s.textHeight).attr("fill","white").attr("class","classText");i=!0,n.methods.forEach(function(e){o1(v,e,i,s),i=!1});const d=a.node().getBBox();var u=" ";n.cssClasses.length>0&&(u=u+n.cssClasses.join(" "));const y=a.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",d.width+2*s.padding).attr("height",d.height+s.padding+.5*s.dividerMargin).attr("class",u),l=y.node().getBBox().width;return r.node().childNodes.forEach(function(e){e.setAttribute("x",(l-e.getBBox().width)/2)}),n.tooltip&&r.insert("title").text(n.tooltip),_.attr("x2",l),b.attr("x2",l),h.width=l,h.height=d.height+s.padding+.5*s.dividerMargin,h},Pw=function(t,n,s){e.debug("Rendering note ",n,s);const l=n.id,i={id:l,text:n.text,width:0,height:0},a=t.append("g").attr("id",l).attr("class","classGroup");let d=a.append("text").attr("y",s.textHeight+s.padding).attr("x",0);const r=JSON.parse(`"${n.text}"`).split(`
`);r.forEach(function(t){e.debug(`Adding line: ${t}`),d.append("tspan").text(t).attr("class","title").attr("dy",s.textHeight)});const c=a.node().getBBox(),h=a.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",c.width+2*s.padding).attr("height",c.height+r.length*s.textHeight+s.padding+.5*s.dividerMargin),u=h.node().getBBox().width;return d.node().childNodes.forEach(function(e){e.setAttribute("x",(u-e.getBBox().width)/2)}),i.width=u,i.height=c.height+r.length*s.textHeight+s.padding+.5*s.dividerMargin,i},$o=function(e){const s=/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/,o=/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/;let n=e.match(s),t=e.match(o);return n&&!t?zw(n):t?Tw(t):Fw(e)},zw=function(e){let n="",t="";try{let s=e[1]?e[1].trim():"",o=e[2]?e[2].trim():"",i=e[3]?At(e[3].trim()):"",a=e[4]?e[4].trim():"",r=e[5]?e[5].trim():"";t=s+o+i+" "+a,n=er(r)}catch{t=e}return{displayText:t,cssStyle:n}},Tw=function(e){let n="",t="";try{let s=e[1]?e[1].trim():"",o=e[2]?e[2].trim():"",i=e[3]?At(e[3].trim()):"",a=e[4]?e[4].trim():"",r=e[5]?" : "+At(e[5]).trim():"";t=s+o+"("+i+")"+r,n=er(a)}catch{t=e}return{displayText:t,cssStyle:n}},Fw=function(e){let o="",i="",n="",s=e.indexOf("("),t=e.indexOf(")");if(s>1&&t>s&&t<=e.length){let c="",a="",r=e.substring(0,1);r.match(/\w/)?a=e.substring(0,s).trim():(r.match(/[#+~-]/)&&(c=r),a=e.substring(1,s).trim());const l=e.substring(s+1,t);e.substring(t+1,1),i=er(e.substring(t+1,t+2)),o=c+a+"("+At(l.trim())+")",t<e.length&&(n=e.substring(t+2).trim(),n!==""&&(n=" : "+At(n),o+=n))}else o=At(e);return{displayText:o,cssStyle:i}},o1=function(e,t,n,s){let o=$o(t);const i=e.append("tspan").attr("x",s.padding).text(o.displayText);o.cssStyle!==""&&i.attr("style",o.cssStyle),n||i.attr("dy",s.textHeight)},er=function(e){switch(e){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},Za={drawClass:Hw,drawEdge:Vw,drawNote:Pw,parseMember:$o},Xi={},ea=20,Hs=function(e){const t=Object.entries(Xi).find(t=>t[1].label===e);if(t)return t[0]},pw=function(e){e.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),e.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},fw=function(n,s,o,a){const d=t().class;Xi={},e.info("Rendering diagram "+n);const v=t().securityLevel;let f;v==="sandbox"&&(f=i("#i"+s));const m=i(v==="sandbox"?f.nodes()[0].contentDocument.body:"body"),c=m.select(`[id='${s}']`);pw(c);const r=new z({multigraph:!0});r.setGraph({isMultiGraph:!0}),r.setDefaultEdgeLabel(function(){return{}});const u=a.db.getClasses(),y=Object.keys(u);for(const n of y){const s=u[n],t=Za.drawClass(c,s,d,a);Xi[t.id]=t,r.setNode(t.id,t),e.info("Org height: "+t.height)}const j=a.db.getRelations();j.forEach(function(t){e.info("tjoho"+Hs(t.id1)+Hs(t.id2)+JSON.stringify(t)),r.setEdge(Hs(t.id1),Hs(t.id2),{relation:t},t.title||"DEFAULT")});const b=a.db.getNotes();b.forEach(function(t){e.debug(`Adding note: ${JSON.stringify(t)}`);const n=Za.drawNote(c,t,d,a);Xi[n.id]=n,r.setNode(n.id,n),t.class&&t.class in u&&r.setEdge(t.id,Hs(t.class),{relation:{id1:t.id,id2:t.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),Rs(r),r.nodes().forEach(function(t){t!==void 0&&r.node(t)!==void 0&&(e.debug("Node "+t+": "+JSON.stringify(r.node(t))),m.select("#"+(a.db.lookUpDomId(t)||t)).attr("transform","translate("+(r.node(t).x-r.node(t).width/2)+","+(r.node(t).y-r.node(t).height/2)+" )"))}),r.edges().forEach(function(t){t!==void 0&&r.edge(t)!==void 0&&(e.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(r.edge(t))),Za.drawEdge(c,r.edge(t),r.edge(t).relation,d,a))});const l=c.node().getBBox(),g=l.width+ea*2,p=l.height+ea*2;Fe(c,p,g,d.useMaxWidth);const h=`${l.x-ea} ${l.y-ea} ${g} ${p}`;e.debug(`viewBox ${h}`),c.attr("viewBox",h)},uw={draw:fw},dw=(e,t,n,s)=>{t.forEach(t=>{Z_[t](e,n,s)})},lw=(t,n,s)=>{e.trace("Making markers for ",s),t.append("defs").append("marker").attr("id",n+"-extensionStart").attr("class","marker extension "+n).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",n+"-extensionEnd").attr("class","marker extension "+n).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},cw=(e,t)=>{e.append("defs").append("marker").attr("id",t+"-compositionStart").attr("class","marker composition "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},rw=(e,t)=>{e.append("defs").append("marker").attr("id",t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aw=(e,t)=>{e.append("defs").append("marker").attr("id",t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},ow=(e,t)=>{e.append("defs").append("marker").attr("id",t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},sw=(e,t)=>{e.append("marker").attr("id",t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},nw=(e,t)=>{e.append("marker").attr("id",t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},ew=(e,t)=>{e.append("marker").attr("id",t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},J_=(e,t)=>{e.append("defs").append("marker").attr("id",t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},Z_={extension:lw,composition:cw,aggregation:rw,dependency:aw,lollipop:ow,point:sw,circle:nw,cross:ew,barb:J_},U_=dw;function vM(e,t){t&&e.attr("style",t)}function bM(e){const n=i(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),t=n.append("xhtml:div"),s=e.label,o=e.isNode?"nodeLabel":"edgeLabel";return t.html('<span class="'+o+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+s+"</span>"),vM(t,e.labelStyle),t.style("display","inline-block"),t.style("white-space","nowrap"),t.attr("xmlns","http://www.w3.org/1999/xhtml"),n.node()}V_=(n,s,o,i)=>{let a=n||"";if(typeof a=="object"&&(a=a[0]),B(t().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),e.info("vertexText"+a);const t={isNode:i,label:rl(a).replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`),labelStyle:s.replace("fill:","color:")};let n=bM(t);return n}const c=document.createElementNS("http://www.w3.org/2000/svg","text");c.setAttribute("style",s.replace("color:","fill:"));let r=[];typeof a=="string"?r=a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?r=a:r=[];for(const t of r){const e=document.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","0"),o?e.setAttribute("class","title-row"):e.setAttribute("class","row"),e.textContent=t.trim(),c.appendChild(e)}return c},re=V_,X=(e,n,s,o)=>{let r;s?r=s:r="node default";const u=e.insert("g").attr("class",r).attr("id",n.domId||n.id),c=u.insert("g").attr("class","label").attr("style",n.labelStyle);let l;n.labelText===void 0?l="":l=typeof n.labelText=="string"?n.labelText:n.labelText[0];const d=c.node().appendChild(re(Le(rl(l),t()),n.labelStyle,!1,o));let a=d.getBBox();if(B(t().flowchart.htmlLabels)){const t=d.children[0],e=i(d);a=t.getBoundingClientRect(),e.attr("width",a.width),e.attr("height",a.height)}const h=n.padding/2;return c.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),{shapeSvg:u,bbox:a,halfPadding:h,label:c}},A=(e,t)=>{const n=t.node().getBBox();e.width=n.width,e.height=n.height};function Kt(e,t,n,s){return e.insert("polygon",":first-child").attr("points",s.map(function(e){return e.x+","+e.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+n/2+")")}v={},Me={},Nu={},Ty=()=>{Me={},Nu={},v={}},La=(t,n)=>(e.trace("In isDecendant",n," ",t," = ",Me[n].includes(t)),!!Me[n].includes(t)),Ay=(t,n)=>(e.info("Decendants of ",n," is ",Me[n]),e.info("Edge is ",t),t.v!==n&&t.w!==n&&(Me[n]?Me[n].includes(t.v)||La(t.v,n)||La(t.w,n)||Me[n].includes(t.w):(e.debug("Tilt, ",n,",not in decendants"),!1))),Jd=(t,n,s,o)=>{e.warn("Copying children of ",t,"root",o,"data",n.node(t),o);const i=n.children(t)||[];t!==o&&i.push(t),e.warn("Copying (nodes) clusterId",t,"nodes",i),i.forEach(i=>{if(n.children(i).length>0)Jd(i,n,s,o);else{const r=n.node(i);e.info("cp ",i," to ",o," with parent ",t),s.setNode(i,r),o!==n.parent(i)&&(e.warn("Setting parent",i,n.parent(i)),s.setParent(i,n.parent(i))),t!==o&&i!==t?(e.debug("Setting parent",i,t),s.setParent(i,t)):(e.info("In copy ",t,"root",o,"data",n.node(t),o),e.debug("Not Setting parent for node=",i,"cluster!==rootId",t!==o,"node!==clusterId",i!==t));const a=n.edges(i);e.debug("Copying Edges",a),a.forEach(i=>{e.info("Edge",i);const a=n.edge(i.v,i.w,i.name);e.info("Edge data",a,o);try{Ay(i,o)?(e.info("Copying as ",i.v,i.w,a,i.name),s.setEdge(i.v,i.w,a,i.name),e.info("newGraph edges ",s.edges(),s.edge(s.edges()[0]))):e.info("Skipping copy of edge ",i.v,"-->",i.w," rootId: ",o," clusterId:",t)}catch(t){e.error(t)}})}e.debug("Removing node",i),n.removeNode(i)})},Gd=(e,t)=>{const s=t.children(e);let n=[...s];for(const o of s)Nu[o]=e,n=[...n,...Gd(o,t)];return n},$s=(t,n)=>{e.trace("Searching",t);const s=n.children(t);if(e.trace("Searching children of id ",t,s),s.length<1)return e.trace("This is a valid node",t),t;for(const i of s){const o=$s(i,n);if(o)return e.trace("Found replacement for",t," => ",o),o}},ai=e=>v[e]?v[e].externalConnections&&v[e]?v[e].id:e:e,Oy=(t,n)=>{if(!t||n>10){e.debug("Opting out, no graph ");return}e.debug("Opting in, graph "),t.nodes().forEach(function(n){const s=t.children(n);s.length>0&&(e.warn("Cluster identified",n," Replacement id in edges: ",$s(n,t)),Me[n]=Gd(n,t),v[n]={id:$s(n,t),clusterData:t.node(n)})}),t.nodes().forEach(function(n){const s=t.children(n),o=t.edges();s.length>0?(e.debug("Cluster identified",n,Me),o.forEach(t=>{if(t.v!==n&&t.w!==n){const s=La(t.v,n),o=La(t.w,n);s^o&&(e.warn("Edge: ",t," leaves cluster ",n),e.warn("Decendants of XXX ",n,": ",Me[n]),v[n].externalConnections=!0)}})):e.debug("Not a cluster ",n,Me)}),t.edges().forEach(function(n){const s=t.edge(n);e.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(n)),e.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(t.edge(n)));let o=n.v,i=n.w;if(e.warn("Fix XXX",v,"ids:",n.v,n.w,"Translating: ",v[n.v]," --- ",v[n.w]),v[n.v]&&v[n.w]&&v[n.v]===v[n.w]){e.warn("Fixing and trixing link to self - removing XXX",n.v,n.w,n.name),e.warn("Fixing and trixing - removing XXX",n.v,n.w,n.name),o=ai(n.v),i=ai(n.w),t.removeEdge(n.v,n.w,n.name);const a=n.w+"---"+n.v;t.setNode(a,{domId:a,id:a,labelStyle:"",labelText:s.label,padding:0,shape:"labelRect",style:""});const r=JSON.parse(JSON.stringify(s)),c=JSON.parse(JSON.stringify(s));r.label="",r.arrowTypeEnd="none",c.label="",r.fromCluster=n.v,c.toCluster=n.v,t.setEdge(o,a,r,n.name+"-cyclic-special"),t.setEdge(a,i,c,n.name+"-cyclic-special")}else(v[n.v]||v[n.w])&&(e.warn("Fixing and trixing - removing XXX",n.v,n.w,n.name),o=ai(n.v),i=ai(n.w),t.removeEdge(n.v,n.w,n.name),o!==n.v&&(s.fromCluster=n.v),i!==n.w&&(s.toCluster=n.w),e.warn("Fix Replacing with XXX",o,i,n.name),t.setEdge(o,i,s,n.name))}),e.warn("Adjusted Graph",Mt(t)),Hd(t,0),e.trace(v)},Hd=(t,n)=>{if(e.warn("extractor - ",n,Mt(t),t.children("D")),n>10){e.error("Bailing out");return}let s=t.nodes(),o=!1;for(const e of s){const n=t.children(e);o=o||n.length>0}if(!o){e.debug("Done, no node has children",t.nodes());return}e.debug("Nodes = ",s,n);for(const o of s)if(e.debug("Extracting node",o,v,v[o]&&!v[o].externalConnections,!t.parent(o),t.node(o),t.children("D")," Depth ",n),v[o])if(!v[o].externalConnections&&t.children(o)&&t.children(o).length>0){e.warn("Cluster without external connections, without a parent and with children",o,n);const a=t.graph();let s=a.rankdir==="TB"?"LR":"TB";v[o]&&v[o].clusterData&&v[o].clusterData.dir&&(s=v[o].clusterData.dir,e.warn("Fixing dir",v[o].clusterData.dir,s));const i=new z({multigraph:!0,compound:!0}).setGraph({rankdir:s,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});e.warn("Old graph before copy",Mt(t)),Jd(o,t,i,o),t.setNode(o,{clusterNode:!0,id:o,clusterData:v[o].clusterData,labelText:v[o].labelText,graph:i}),e.warn("New graph after copy node: (",o,")",Mt(i)),e.debug("Old graph after copy",Mt(t))}else e.warn("Cluster ** ",o," **not meeting the criteria !externalConnections:",!v[o].externalConnections," no parent: ",!t.parent(o)," children ",t.children(o)&&t.children(o).length>0,t.children("D"),n),e.debug(v);else e.debug("Not a cluster",o,n);s=t.nodes(),e.warn("New list of nodes",s);for(const i of s){const o=t.node(i);e.warn(" Now next level",i,o),o.clusterNode&&Hd(o.graph,n+1)}},Pd=(e,t)=>{if(t.length===0)return[];let n=Object.assign(t);return t.forEach(t=>{const s=e.children(t),o=Pd(e,s);n=[...n,...o]}),n},py=e=>Pd(e,e.children());function PM(e,t){return e.intersect(t)}function fy(e,t,n,s){var o,l=e.x,i=e.y,a=l-s.x,r=i-s.y,d=Math.sqrt(t*t*r*r+n*n*a*a),c=Math.abs(t*n*a/d);return s.x<l&&(c=-c),o=Math.abs(t*n*r/d),s.y<i&&(o=-o),{x:l+c,y:i+o}}function IM(e,t,n){return fy(e,t,t,n)}function BM(e,t,n,s){var o,i,a,r,c,l,m,f,v,b,u=t.y-e.y,h=e.x-t.x,d=t.x*e.y-e.x*t.y,g=u*n.x+h*n.y+d,p=u*s.x+h*s.y+d;if(g!==0&&p!==0&&my(g,p))return;if(a=s.y-n.y,r=n.x-s.x,c=s.x*n.y-n.x*s.y,f=a*e.x+r*e.y+c,m=a*t.x+r*t.y+c,f!==0&&m!==0&&my(f,m))return;if(i=u*r-a*h,i===0)return;return l=Math.abs(i/2),o=h*c-r*d,v=o<0?(o-l)/i:(o+l)/i,o=a*d-u*c,b=o<0?(o-l)/i:(o+l)/i,{x:v,y:b}}function my(e,t){return e*t>0}function $M(e,t,n){var s,r,c,l,d,u,h=e.x,m=e.y,o=[],i=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(e){i=Math.min(i,e.x),a=Math.min(a,e.y)}):(i=Math.min(i,t.x),a=Math.min(a,t.y)),c=h-e.width/2-i,r=m-e.height/2-a;for(s=0;s<t.length;s++)l=t[s],d=t[s<t.length-1?s+1:0],u=BM(e,n,{x:c+l.x,y:r+l.y},{x:c+d.x,y:r+d.y}),u&&o.push(u);return o.length?(o.length>1&&o.sort(function(e,t){var s=e.x-n.x,o=e.y-n.y,i=Math.sqrt(s*s+o*o),a=t.x-n.x,r=t.y-n.y,c=Math.sqrt(a*a+r*r);return i<c?-1:i===c?0:1}),o[0]):e}hy=(e,t)=>{var a,r,c=e.x,l=e.y,n=t.x-c,s=t.y-l,o=e.width/2,i=e.height/2;return Math.abs(s)*o>Math.abs(n)*i?(s<0&&(i=-i),a=s===0?0:i*n/s,r=i):(n<0&&(o=-o),a=o,r=n===0?0:o*s/n),{x:c+a,y:l+r}},Co=hy,C={node:PM,circle:IM,ellipse:fy,polygon:$M,rect:Co},cy=(t,n)=>{const{shapeSvg:o,bbox:s,halfPadding:i}=X(t,n,"node "+n.classes,!0);e.info("Classes = ",n.classes);const a=o.insert("rect",":first-child");return a.attr("rx",n.rx).attr("ry",n.ry).attr("x",-s.width/2-i).attr("y",-s.height/2-i).attr("width",s.width+n.padding).attr("height",s.height+n.padding),A(n,a),n.intersect=function(e){return C.rect(n,e)},o},ay=cy,iy=(t,n)=>{const{shapeSvg:o,bbox:i}=X(t,n,void 0,!0),c=i.width+n.padding,l=i.height+n.padding,s=c+l,a=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];e.info("Question main (Circle)");const r=Kt(o,s,s,a);return r.attr("style",n.style),A(n,r),n.intersect=function(t){return e.warn("Intersect called"),C.polygon(n,a,t)},o},oy=(e,t)=>{const s=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=28,o=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}],i=s.insert("polygon",":first-child").attr("points",o.map(function(e){return e.x+","+e.y}).join(" "));return i.attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(e){return C.circle(t,14,e)},s},ty=(e,t)=>{const{shapeSvg:i,bbox:a}=X(e,t,void 0,!0),l=4,n=a.height+t.padding,s=n/l,o=a.width+2*s+t.padding,r=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-n/2},{x:o-s,y:-n},{x:s,y:-n},{x:0,y:-n/2}],c=Kt(i,o,n,r);return c.attr("style",t.style),A(t,c),t.intersect=function(e){return C.polygon(t,r,e)},i},Jj=(e,t)=>{const{shapeSvg:o,bbox:i}=X(e,t,void 0,!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:-n/2,y:0},{x:s,y:0},{x:s,y:-n},{x:-n/2,y:-n},{x:0,y:-n/2}],r=Kt(o,s,n,a);return r.attr("style",t.style),t.width=s+n,t.height=n,t.intersect=function(e){return C.polygon(t,a,e)},o},Xj=(e,t)=>{const{shapeSvg:o,bbox:i}=X(e,t,void 0,!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:-2*n/6,y:0},{x:s-n/6,y:0},{x:s+2*n/6,y:-n},{x:n/6,y:-n}],r=Kt(o,s,n,a);return r.attr("style",t.style),A(t,r),t.intersect=function(e){return C.polygon(t,a,e)},o},Gj=(e,t)=>{const{shapeSvg:o,bbox:i}=X(e,t,void 0,!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:2*n/6,y:0},{x:s+n/6,y:0},{x:s-2*n/6,y:-n},{x:-n/6,y:-n}],r=Kt(o,s,n,a);return r.attr("style",t.style),A(t,r),t.intersect=function(e){return C.polygon(t,a,e)},o},Yj=(e,t)=>{const{shapeSvg:o,bbox:i}=X(e,t,void 0,!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:-2*n/6,y:0},{x:s+2*n/6,y:0},{x:s-n/6,y:-n},{x:n/6,y:-n}],r=Kt(o,s,n,a);return r.attr("style",t.style),A(t,r),t.intersect=function(e){return C.polygon(t,a,e)},o},Kj=(e,t)=>{const{shapeSvg:o,bbox:i}=X(e,t,void 0,!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:n/6,y:0},{x:s-n/6,y:0},{x:s+2*n/6,y:-n},{x:-2*n/6,y:-n}],r=Kt(o,s,n,a);return r.attr("style",t.style),A(t,r),t.intersect=function(e){return C.polygon(t,a,e)},o},Uj=(e,t)=>{const{shapeSvg:o,bbox:i}=X(e,t,void 0,!0),s=i.width+t.padding,n=i.height+t.padding,a=[{x:0,y:0},{x:s+n/2,y:0},{x:s,y:-n/2},{x:s+n/2,y:-n},{x:0,y:-n}],r=Kt(o,s,n,a);return r.attr("style",t.style),A(t,r),t.intersect=function(e){return C.polygon(t,a,e)},o},Wj=(e,t)=>{const{shapeSvg:a,bbox:r}=X(e,t,void 0,!0),o=r.width+t.padding,s=o/2,n=s/(2.5+o/50),i=r.height+n+t.padding,c="M 0,"+n+" a "+s+","+n+" 0,0,0 "+o+" 0 a "+s+","+n+" 0,0,0 "+-o+" 0 l 0,"+i+" a "+s+","+n+" 0,0,0 "+o+" 0 l 0,"+-i,l=a.attr("label-offset-y",n).insert("path",":first-child").attr("style",t.style).attr("d",c).attr("transform","translate("+-o/2+","+-(i/2+n)+")");return A(t,l),t.intersect=function(e){const o=C.rect(t,e),i=o.x-t.x;if(s!=0&&(Math.abs(i)<t.width/2||Math.abs(i)==t.width/2&&Math.abs(o.y-t.y)>t.height/2-n)){let a=n*n*(1-i*i/(s*s));a!=0&&(a=Math.sqrt(a)),a=n-a,e.y-t.y>0&&(a=-a),o.y+=a}return o},a},$j=(t,n)=>{const{shapeSvg:i,bbox:s,halfPadding:a}=X(t,n,"node "+n.classes,!0);e.trace("Classes = ",n.classes);const o=i.insert("rect",":first-child"),r=s.width+n.padding,c=s.height+n.padding;if(o.attr("class","basic label-container").attr("style",n.style).attr("rx",n.rx).attr("ry",n.ry).attr("x",-s.width/2-a).attr("y",-s.height/2-a).attr("width",r).attr("height",c),n.props){const t=new Set(Object.keys(n.props));n.props.borders&&(Mj(o,n.props.borders,r,c),t.delete("borders")),t.forEach(t=>{e.warn(`Unknown node property ${t}`)})}return A(n,o),n.intersect=function(e){return C.rect(n,e)},i},zj=(t,n)=>{const{shapeSvg:s}=X(t,n,"label",!0);e.trace("Classes = ",n.classes);const o=s.insert("rect",":first-child"),i=0,a=0;if(o.attr("width",i).attr("height",a),s.attr("class","label edgeLabel"),n.props){const t=new Set(Object.keys(n.props));n.props.borders&&(Mj(o,n.props.borders,i,a),t.delete("borders")),t.forEach(t=>{e.warn(`Unknown node property ${t}`)})}return A(n,o),n.intersect=function(e){return C.rect(n,e)},s};function Mj(t,n,s,o){const r=[],i=e=>{r.push(e,0)},a=e=>{r.push(0,e)};n.includes("t")?(e.debug("add top border"),i(s)):a(s),n.includes("r")?(e.debug("add right border"),i(o)):a(o),n.includes("b")?(e.debug("add bottom border"),i(s)):a(s),n.includes("l")?(e.debug("add left border"),i(o)):a(o),t.attr("stroke-dasharray",r.join(" "))}Aj=(n,s)=>{let p;s.classes?p="node "+s.classes:p="node default";const l=n.insert("g").attr("class",p).attr("id",s.domId||s.id),g=l.insert("rect",":first-child"),v=l.insert("line"),d=l.insert("g").attr("class","label"),r=s.labelText.flat?s.labelText.flat():s.labelText;let h="";typeof r=="object"?h=r[0]:h=r,e.info("Label text abc79",h,r,typeof r=="object");const u=d.node().appendChild(re(h,s.labelStyle,!0,!0));let o={width:0,height:0};if(B(t().flowchart.htmlLabels)){const t=u.children[0],e=i(u);o=t.getBoundingClientRect(),e.attr("width",o.width),e.attr("height",o.height)}e.info("Text 2",r);const m=r.slice(1,r.length);let c=u.getBBox();const f=d.node().appendChild(re(m.join?m.join("<br/>"):m,s.labelStyle,!0,!0));if(B(t().flowchart.htmlLabels)){const t=f.children[0],e=i(f);o=t.getBoundingClientRect(),e.attr("width",o.width),e.attr("height",o.height)}const a=s.padding/2;return i(f).attr("transform","translate( "+(o.width>c.width?0:(c.width-o.width)/2)+", "+(c.height+a+5)+")"),i(u).attr("transform","translate( "+(o.width<c.width?0:-(c.width-o.width)/2)+", "+0+")"),o=d.node().getBBox(),d.attr("transform","translate("+-o.width/2+", "+(-o.height/2-a+3)+")"),g.attr("class","outer title-state").attr("x",-o.width/2-a).attr("y",-o.height/2-a).attr("width",o.width+s.padding).attr("height",o.height+s.padding),v.attr("class","divider").attr("x1",-o.width/2-a).attr("x2",o.width/2+a).attr("y1",-o.height/2-a+c.height+a).attr("y2",-o.height/2-a+c.height+a),A(s,g),s.intersect=function(e){return C.rect(s,e)},l},Cj=(e,t)=>{const{shapeSvg:s,bbox:o}=X(e,t,void 0,!0),n=o.height+t.padding,i=o.width+n/4+t.padding,a=s.insert("rect",":first-child").attr("style",t.style).attr("rx",n/2).attr("ry",n/2).attr("x",-i/2).attr("y",-n/2).attr("width",i).attr("height",n);return A(t,a),t.intersect=function(e){return C.rect(t,e)},s},xj=(t,n)=>{const{shapeSvg:i,bbox:s,halfPadding:o}=X(t,n,void 0,!0),a=i.insert("circle",":first-child");return a.attr("style",n.style).attr("rx",n.rx).attr("ry",n.ry).attr("r",s.width/2+o).attr("width",s.width+n.padding).attr("height",s.height+n.padding),e.info("Circle main"),A(n,a),n.intersect=function(t){return e.info("Circle intersect",n,s.width/2+o,t),C.circle(n,s.width/2+o,t)},i},_j=(t,n)=>{const{shapeSvg:a,bbox:s,halfPadding:i}=X(t,n,void 0,!0),o=5,r=a.insert("g",":first-child"),c=r.insert("circle"),l=r.insert("circle");return c.attr("style",n.style).attr("rx",n.rx).attr("ry",n.ry).attr("r",s.width/2+i+o).attr("width",s.width+n.padding+o*2).attr("height",s.height+n.padding+o*2),l.attr("style",n.style).attr("rx",n.rx).attr("ry",n.ry).attr("r",s.width/2+i).attr("width",s.width+n.padding).attr("height",s.height+n.padding),e.info("DoubleCircle main"),A(n,c),n.intersect=function(t){return e.info("DoubleCircle intersect",n,s.width/2+i+o,t),C.circle(n,s.width/2+i+o,t)},a},jj=(e,t)=>{const{shapeSvg:o,bbox:i}=X(e,t,void 0,!0),n=i.width+t.padding,s=i.height+t.padding,a=[{x:0,y:0},{x:n,y:0},{x:n,y:-s},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:n+8,y:0},{x:n+8,y:-s},{x:-8,y:-s},{x:-8,y:0}],r=Kt(o,n,s,a);return r.attr("style",t.style),A(t,r),t.intersect=function(e){return C.polygon(t,a,e)},o},vj=(e,t)=>{const n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),s=n.insert("circle",":first-child");return s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),A(t,s),t.intersect=function(e){return C.circle(t,7,e)},n},Sd=(e,t,n)=>{const i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let s=70,o=10;n==="LR"&&(s=10,o=70);const a=i.append("rect").attr("x",-1*s/2).attr("y",-1*o/2).attr("width",s).attr("height",o).attr("class","fork-join");return A(t,a),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(e){return C.rect(t,e)},i},lj=(e,t)=>{const n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),o=n.insert("circle",":first-child"),s=n.insert("circle",":first-child");return s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),o.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),A(t,s),t.intersect=function(e){return C.circle(t,7,e)},n},aj=(e,n)=>{const l=n.padding/2,d=4,c=8;let g;n.classes?g="node "+n.classes:g="node default";const m=e.insert("g").attr("class",g).attr("id",n.domId||n.id),y=m.insert("rect",":first-child"),_=m.insert("line"),x=m.insert("line");let s=0,o=d;const p=m.insert("g").attr("class","label");let a=0;const O=n.classData.annotations&&n.classData.annotations[0],w=n.classData.annotations[0]?"\xAB"+n.classData.annotations[0]+"\xBB":"",f=p.node().appendChild(re(w,n.labelStyle,!0,!0));let u=f.getBBox();if(B(t().flowchart.htmlLabels)){const t=f.children[0],e=i(f);u=t.getBoundingClientRect(),e.attr("width",u.width),e.attr("height",u.height)}n.classData.annotations[0]&&(o+=u.height+d,s+=u.width);let v=n.classData.id;n.classData.type!==void 0&&n.classData.type!==""&&(t().flowchart.htmlLabels?v+="&lt;"+n.classData.type+"&gt;":v+="<"+n.classData.type+">");const h=p.node().appendChild(re(v,n.labelStyle,!0,!0));i(h).attr("class","classTitle");let r=h.getBBox();if(B(t().flowchart.htmlLabels)){const t=h.children[0],e=i(h);r=t.getBoundingClientRect(),e.attr("width",r.width),e.attr("height",r.height)}o+=r.height+d,r.width>s&&(s=r.width);const b=[];n.classData.members.forEach(e=>{const c=$o(e);let l=c.displayText;t().flowchart.htmlLabels&&(l=l.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const r=p.node().appendChild(re(l,c.cssStyle?c.cssStyle:n.labelStyle,!0,!0));let a=r.getBBox();if(B(t().flowchart.htmlLabels)){const t=r.children[0],e=i(r);a=t.getBoundingClientRect(),e.attr("width",a.width),e.attr("height",a.height)}a.width>s&&(s=a.width),o+=a.height+d,b.push(r)}),o+=c;const j=[];if(n.classData.methods.forEach(e=>{const c=$o(e);let l=c.displayText;t().flowchart.htmlLabels&&(l=l.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const r=p.node().appendChild(re(l,c.cssStyle?c.cssStyle:n.labelStyle,!0,!0));let a=r.getBBox();if(B(t().flowchart.htmlLabels)){const t=r.children[0],e=i(r);a=t.getBoundingClientRect(),e.attr("width",a.width),e.attr("height",a.height)}a.width>s&&(s=a.width),o+=a.height+d,j.push(r)}),o+=c,O){let e=(s-u.width)/2;i(f).attr("transform","translate( "+(-1*s/2+e)+", "+-1*o/2+")"),a=u.height+d}let E=(s-r.width)/2;return i(h).attr("transform","translate( "+(-1*s/2+E)+", "+(-1*o/2+a)+")"),a+=r.height+d,_.attr("class","divider").attr("x1",-s/2-l).attr("x2",s/2+l).attr("y1",-o/2-l+c+a).attr("y2",-o/2-l+c+a),a+=c,b.forEach(e=>{i(e).attr("transform","translate( "+-s/2+", "+(-1*o/2+a+c/2)+")"),a+=r.height+d}),a+=c,x.attr("class","divider").attr("x1",-s/2-l).attr("x2",s/2+l).attr("y1",-o/2-l+c+a).attr("y2",-o/2-l+c+a),a+=c,j.forEach(e=>{i(e).attr("transform","translate( "+-s/2+", "+(-1*o/2+a)+")"),a+=r.height+d}),y.attr("class","outer title-state").attr("x",-s/2-l).attr("y",-(o/2)-l).attr("width",s+n.padding).attr("height",o+n.padding),A(n,y),n.intersect=function(e){return C.rect(n,e)},m},kd={question:iy,rect:$j,labelRect:zj,rectWithTitle:Aj,choice:oy,circle:xj,doublecircle:_j,stadium:Cj,hexagon:ty,rect_left_inv_arrow:Jj,lean_right:Xj,lean_left:Gj,trapezoid:Yj,inv_trapezoid:Kj,rect_right_inv_arrow:Uj,cylinder:Wj,start:vj,end:lj,note:ay,subroutine:jj,fork:Sd,join:Sd,class_box:aj},Nn={},ej=(e,n,s)=>{let i,o;if(n.link){let a;t().securityLevel==="sandbox"?a="_top":n.linkTarget&&(a=n.linkTarget||"_blank"),i=e.insert("svg:a").attr("xlink:href",n.link).attr("target",a),o=kd[n.shape](i,n,s)}else o=kd[n.shape](e,n,s),i=o;n.tooltip&&o.attr("title",n.tooltip),n.class&&o.attr("class","node default "+n.class),Nn[n.id]=i,n.haveCallback&&Nn[n.id].attr("class",Nn[n.id].attr("class")+" clickable")},Jb=(e,t)=>{Nn[t.id]=e},Zb=()=>{Nn={}},xd=t=>{const n=Nn[t.id];e.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const o=8,s=t.diff||0;return t.clusterNode?n.attr("transform","translate("+(t.x+s-t.width/2)+", "+(t.y-t.height/2-o)+")"):n.attr("transform","translate("+t.x+", "+t.y+")"),s},Xb=(n,s)=>{e.trace("Creating subgraph rect for ",s.id,s);const r=n.insert("g").attr("class","cluster"+(s.class?" "+s.class:"")).attr("id",s.id),l=r.insert("rect",":first-child"),d=r.insert("g").attr("class","cluster-label"),c=d.node().appendChild(re(s.labelText,s.labelStyle,void 0,!0));let o=c.getBBox();if(B(t().flowchart.htmlLabels)){const t=c.children[0],e=i(c);o=t.getBoundingClientRect(),e.attr("width",o.width),e.attr("height",o.height)}const a=0*s.padding,m=a/2,u=s.width<=o.width+a?o.width+a:s.width;s.width<=o.width+a?s.diff=(o.width-s.width)/2-s.padding/2:s.diff=-s.padding/2,e.trace("Data ",s,JSON.stringify(s)),l.attr("style",s.style).attr("rx",s.rx).attr("ry",s.ry).attr("x",s.x-u/2).attr("y",s.y-s.height/2-m).attr("width",u).attr("height",s.height+a),d.attr("transform","translate("+(s.x-o.width/2)+", "+(s.y-s.height/2)+")");const h=l.node().getBBox();return s.width=h.width,s.height=h.height,s.intersect=function(e){return Co(s,e)},r},Kb=(e,t)=>{const s=e.insert("g").attr("class","note-cluster").attr("id",t.id),o=s.insert("rect",":first-child"),n=0*t.padding,i=n/2;o.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-i).attr("y",t.y-t.height/2-i).attr("width",t.width+n).attr("height",t.height+n).attr("fill","none");const a=o.node().getBBox();return t.width=a.width,t.height=a.height,t.intersect=function(e){return Co(t,e)},s},Ub=(e,n)=>{const l=e.insert("g").attr("class",n.classes).attr("id",n.id),d=l.insert("rect",":first-child"),u=l.insert("g").attr("class","cluster-label"),h=l.append("rect"),c=u.node().appendChild(re(n.labelText,n.labelStyle,void 0,!0));let s=c.getBBox();if(B(t().flowchart.htmlLabels)){const t=c.children[0],e=i(c);s=t.getBoundingClientRect(),e.attr("width",s.width),e.attr("height",s.height)}s=c.getBBox();const o=0*n.padding,a=o/2,r=n.width<=s.width+n.padding?s.width+n.padding:n.width;n.width<=s.width+n.padding?n.diff=(s.width+n.padding*0-n.width)/2:n.diff=-n.padding/2,d.attr("class","outer").attr("x",n.x-r/2-a).attr("y",n.y-n.height/2-a).attr("width",r+o).attr("height",n.height+o),h.attr("class","inner").attr("x",n.x-r/2-a).attr("y",n.y-n.height/2-a+s.height-1).attr("width",r+o).attr("height",n.height+o-s.height-3),u.attr("transform","translate("+(n.x-s.width/2)+", "+(n.y-n.height/2-n.padding/3+(B(t().flowchart.htmlLabels)?5:3))+")");const m=d.node().getBBox();return n.height=m.height,n.intersect=function(e){return Co(n,e)},l},Wb=(e,t)=>{const s=e.insert("g").attr("class",t.classes).attr("id",t.id),o=s.insert("rect",":first-child"),n=0*t.padding,a=n/2;o.attr("class","divider").attr("x",t.x-t.width/2-a).attr("y",t.y-t.height/2).attr("width",t.width+n).attr("height",t.height+n);const i=o.node().getBBox();return t.width=i.width,t.height=i.height,t.diff=-t.padding/2,t.intersect=function(e){return Co(t,e)},s},Ib={rect:Xb,roundedWithTitle:Ub,noteGroup:Kb,divider:Wb},dd={},Pb=(t,n)=>{e.trace("Inserting cluster");const s=n.shape||"rect";dd[n.id]=Ib[s](t,n)},Rb=()=>{dd={}},Yi={},K={},Db=()=>{Yi={},K={}},zb=(e,n)=>{const a=re(n.label,n.labelStyle),r=e.insert("g").attr("class","edgeLabel"),c=r.insert("g").attr("class","label");c.node().appendChild(a);let o=a.getBBox();if(B(t().flowchart.htmlLabels)){const t=a.children[0],e=i(a);o=t.getBoundingClientRect(),e.attr("width",o.width),e.attr("height",o.height)}c.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),Yi[n.id]=r,n.width=o.width,n.height=o.height;let s;if(n.startLabelLeft){const t=re(n.startLabelLeft,n.labelStyle),o=e.insert("g").attr("class","edgeTerminals"),i=o.insert("g").attr("class","inner");s=i.node().appendChild(t);const a=t.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),K[n.id]||(K[n.id]={}),K[n.id].startLeft=o,Sl(s,n.startLabelLeft)}if(n.startLabelRight){const t=re(n.startLabelRight,n.labelStyle),o=e.insert("g").attr("class","edgeTerminals"),i=o.insert("g").attr("class","inner");s=o.node().appendChild(t),i.node().appendChild(t);const a=t.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),K[n.id]||(K[n.id]={}),K[n.id].startRight=o,Sl(s,n.startLabelRight)}if(n.endLabelLeft){const t=re(n.endLabelLeft,n.labelStyle),o=e.insert("g").attr("class","edgeTerminals"),i=o.insert("g").attr("class","inner");s=i.node().appendChild(t);const a=t.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),o.node().appendChild(t),K[n.id]||(K[n.id]={}),K[n.id].endLeft=o,Sl(s,n.endLabelLeft)}if(n.endLabelRight){const t=re(n.endLabelRight,n.labelStyle),o=e.insert("g").attr("class","edgeTerminals"),i=o.insert("g").attr("class","inner");s=i.node().appendChild(t);const a=t.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),o.node().appendChild(t),K[n.id]||(K[n.id]={}),K[n.id].endRight=o,Sl(s,n.endLabelRight)}};function Sl(e,n){t().flowchart.htmlLabels&&e&&(e.style.width=n.length*9+"px",e.style.height="12px")}Fb=(t,n)=>{e.info("Moving label abc78 ",t.id,t.label,Yi[t.id]);let s=n.updatedPath?n.updatedPath:n.originalPath;if(t.label){const a=Yi[t.id];let o=t.x,i=t.y;if(s){const a=p.calcLabelPosition(s);e.info("Moving label "+t.label+" from (",o,",",i,") to (",a.x,",",a.y,") abc78"),n.updatedPath&&(o=a.x,i=a.y)}a.attr("transform","translate("+o+", "+i+")")}if(t.startLabelLeft){const o=K[t.id].startLeft;let e=t.x,n=t.y;if(s){const o=p.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",s);e=o.x,n=o.y}o.attr("transform","translate("+e+", "+n+")")}if(t.startLabelRight){const o=K[t.id].startRight;let e=t.x,n=t.y;if(s){const o=p.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",s);e=o.x,n=o.y}o.attr("transform","translate("+e+", "+n+")")}if(t.endLabelLeft){const o=K[t.id].endLeft;let e=t.x,n=t.y;if(s){const o=p.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",s);e=o.x,n=o.y}o.attr("transform","translate("+e+", "+n+")")}if(t.endLabelRight){const o=K[t.id].endRight;let e=t.x,n=t.y;if(s){const o=p.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",s);e=o.x,n=o.y}o.attr("transform","translate("+e+", "+n+")")}},Mb=(e,t)=>{const n=e.x,s=e.y,o=Math.abs(t.x-n),i=Math.abs(t.y-s),a=e.width/2,r=e.height/2;return o>=a||i>=r},Sb=(t,n,s)=>{e.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(n)}
  insidePoint : ${JSON.stringify(s)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const c=t.x,m=t.y,f=Math.abs(c-s.x),r=t.width/2;let o=s.x<n.x?r-f:r+f;const h=t.height/2,a=Math.abs(n.y-s.y),i=Math.abs(n.x-s.x);if(Math.abs(m-n.y)*r>Math.abs(c-n.x)*h){let r=s.y<n.y?n.y-h-m:m-h-n.y;o=i*r/a;const t={x:s.x<n.x?s.x+o:s.x-i+o,y:s.y<n.y?s.y+a-r:s.y-a+r};return o===0&&(t.x=n.x,t.y=n.y),i===0&&(t.x=n.x),a===0&&(t.y=n.y),e.warn(`abc89 topp/bott calc, Q ${a}, q ${r}, R ${i}, r ${o}`,t),t}s.x<n.x?o=n.x-r-c:o=c-r-n.x;let u=a*o/i,l=s.x<n.x?s.x+i-o:s.x-i+o,d=s.y<n.y?s.y+u:s.y-u;return e.warn(`sides calc abc89, Q ${a}, q ${u}, R ${i}, r ${o}`,{_x:l,_y:d}),o===0&&(l=n.x,d=n.y),i===0&&(l=n.x),a===0&&(d=n.y),{x:l,y:d}},rd=(t,n)=>{e.warn("abc88 cutPathAtIntersect",t,n);let s=[],o=t[0],i=!1;return t.forEach(t=>{if(e.info("abc88 checking point",t,n),!Mb(n,t)&&!i){const a=Sb(n,o,t);e.warn("abc88 inside",t,o,a),e.warn("abc88 intersection",a);let r=!1;s.forEach(e=>{r=r||e.x===a.x&&e.y===a.y}),s.some(e=>e.x===a.x&&e.y===a.y)?e.warn("abc88 no intersect",a,s):s.push(a),i=!0}else e.warn("abc88 outside",t,o),o=t,i||s.push(t)}),e.warn("abc88 returning points",s),s},jb=function(n,s,o,i,a,r){let d=o.points,p=!1;const g=r.node(s.v);var h=r.node(s.w);e.info("abc88 InsertEdge: ",o),h.intersect&&g.intersect&&(d=d.slice(1,o.points.length-1),d.unshift(g.intersect(d[0])),e.info("Last point",d[d.length-1],h,h.intersect(d[d.length-1])),d.push(h.intersect(d[d.length-1]))),o.toCluster&&(e.info("to cluster abc88",i[o.toCluster]),d=rd(o.points,i[o.toCluster].node),p=!0),o.fromCluster&&(e.info("from cluster abc88",i[o.fromCluster]),d=rd(d.reverse(),i[o.fromCluster].node).reverse(),p=!0);const b=d.filter(e=>!Number.isNaN(e.y));let f;a==="graph"||a==="flowchart"?f=o.curve||_o:f=_o;const v=uo().x(function(e){return e.x}).y(function(e){return e.y}).curve(f);let u;switch(o.thickness){case"normal":u="edge-thickness-normal";break;case"thick":u="edge-thickness-thick";break;default:u=""}switch(o.pattern){case"solid":u+=" edge-pattern-solid";break;case"dotted":u+=" edge-pattern-dotted";break;case"dashed":u+=" edge-pattern-dashed";break}const l=n.append("path").attr("d",v(b)).attr("id",o.id).attr("class"," "+u+(o.classes?" "+o.classes:"")).attr("style",o.style);let c="";switch((t().flowchart.arrowMarkerAbsolute||t().state.arrowMarkerAbsolute)&&(c=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,c=c.replace(/\(/g,"\\("),c=c.replace(/\)/g,"\\)")),e.info("arrowTypeStart",o.arrowTypeStart),e.info("arrowTypeEnd",o.arrowTypeEnd),o.arrowTypeStart){case"arrow_cross":l.attr("marker-start","url("+c+"#"+a+"-crossStart)");break;case"arrow_point":l.attr("marker-start","url("+c+"#"+a+"-pointStart)");break;case"arrow_barb":l.attr("marker-start","url("+c+"#"+a+"-barbStart)");break;case"arrow_circle":l.attr("marker-start","url("+c+"#"+a+"-circleStart)");break;case"aggregation":l.attr("marker-start","url("+c+"#"+a+"-aggregationStart)");break;case"extension":l.attr("marker-start","url("+c+"#"+a+"-extensionStart)");break;case"composition":l.attr("marker-start","url("+c+"#"+a+"-compositionStart)");break;case"dependency":l.attr("marker-start","url("+c+"#"+a+"-dependencyStart)");break;case"lollipop":l.attr("marker-start","url("+c+"#"+a+"-lollipopStart)");break}switch(o.arrowTypeEnd){case"arrow_cross":l.attr("marker-end","url("+c+"#"+a+"-crossEnd)");break;case"arrow_point":l.attr("marker-end","url("+c+"#"+a+"-pointEnd)");break;case"arrow_barb":l.attr("marker-end","url("+c+"#"+a+"-barbEnd)");break;case"arrow_circle":l.attr("marker-end","url("+c+"#"+a+"-circleEnd)");break;case"aggregation":l.attr("marker-end","url("+c+"#"+a+"-aggregationEnd)");break;case"extension":l.attr("marker-end","url("+c+"#"+a+"-extensionEnd)");break;case"composition":l.attr("marker-end","url("+c+"#"+a+"-compositionEnd)");break;case"dependency":l.attr("marker-end","url("+c+"#"+a+"-dependencyEnd)");break;case"lollipop":l.attr("marker-end","url("+c+"#"+a+"-lollipopEnd)");break}let m={};return p&&(m.updatedPath=d),m.originalPath=o.points,m},ad=(t,n,s,o)=>{e.info("Graph in recursive render: XXX",Mt(n),o);const a=n.graph().rankdir;e.trace("Dir in recursive render - dir:",a);const i=t.insert("g").attr("class","root");n.nodes()?e.info("Recursive render XXX",n.nodes()):e.info("No nodes found for",n),n.edges().length>0&&e.trace("Recursive edges",n.edge(n.edges()[0]));const l=i.insert("g").attr("class","clusters"),d=i.insert("g").attr("class","edgePaths"),u=i.insert("g").attr("class","edgeLabels"),r=i.insert("g").attr("class","nodes");n.nodes().forEach(function(t){const i=n.node(t);if(o!==void 0){const s=JSON.parse(JSON.stringify(o.clusterData));e.info("Setting data for cluster XXX (",t,") ",s,o),n.setNode(o.id,s),n.parent(t)||(e.trace("Setting parent",t,o.id),n.setParent(t,o.id,s))}if(e.info("(Insert) Node XXX"+t+": "+JSON.stringify(n.node(t))),i&&i.clusterNode){e.info("Cluster identified",t,i.width,n.node(t));const a=ad(r,i.graph,s,n.node(t)),o=a.elem;A(i,o),i.diff=a.diff||0,e.info("Node bounds (abc123)",t,i,i.width,i.x,i.y),Jb(o,i),e.warn("Recursive render complete ",o,i)}else n.children(t).length>0?(e.info("Cluster - the non recursive path XXX",t,i.id,i,n),e.info($s(i.id,n)),v[i.id]={id:$s(i.id,n),node:i}):(e.info("Node - the non recursive path",t,i.id,i),ej(r,n.node(t),a))}),n.edges().forEach(function(t){const s=n.edge(t.v,t.w,t.name);e.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t)),e.info("Edge "+t.v+" -> "+t.w+": ",t," ",JSON.stringify(n.edge(t))),e.info("Fix",v,"ids:",t.v,t.w,"Translateing: ",v[t.v],v[t.w]),zb(u,s)}),n.edges().forEach(function(t){e.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t))}),e.info("#############################################"),e.info("###                Layout                 ###"),e.info("#############################################"),e.info(n),Rs(n),e.info("Graph after layout:",Mt(n));let c=0;return py(n).forEach(function(t){const s=n.node(t);e.info("Position "+t+": "+JSON.stringify(n.node(t))),e.info("Position "+t+": ("+s.x,","+s.y,") width: ",s.width," height: ",s.height),s&&s.clusterNode?xd(s):n.children(t).length>0?(Pb(l,s),v[s.id].node=s):xd(s)}),n.edges().forEach(function(t){const o=n.edge(t);e.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(o),o);const i=jb(d,t,o,v,s,n);Fb(o,i)}),n.nodes().forEach(function(t){const s=n.node(t);e.info(t,s.type,s.diff),s.type==="group"&&(c=s.diff)}),{elem:i,diff:c}},Nl=(t,n,s,o,i)=>{U_(t,s,o,i),Zb(),Db(),Rb(),Ty(),e.warn("Graph at first:",Mt(n)),Oy(n),e.warn("Graph after:",Mt(n)),ad(t,n,o)},od=e=>h.sanitizeText(e,t()),sd={dividerMargin:10,padding:5,textHeight:10},mb=function(n,s,o,i){const a=Object.keys(n);e.info("keys:",a),e.info(n),a.forEach(function(o){const a=n[o];let r="";a.cssClasses.length>0&&(r=r+" "+a.cssClasses.join(" "));const c={labelStyle:""};let u=a.text!==void 0?a.text:a.id,l=0,d="";switch(a.type){case"class":d="class_box";break;default:d="class_box"}s.setNode(a.id,{labelStyle:c.labelStyle,shape:d,labelText:od(u),classData:a,rx:l,ry:l,class:r,style:c.style,id:a.id,domId:a.domId,tooltip:i.db.getTooltip(a.id)||"",haveCallback:a.haveCallback,link:a.link,width:a.type==="group"?500:void 0,type:a.type,padding:t().flowchart.padding}),e.info("setNode",{labelStyle:c.labelStyle,shape:d,labelText:u,rx:l,ry:l,class:r,style:c.style,id:a.id,width:a.type==="group"?500:void 0,type:a.type,padding:t().flowchart.padding})})},hb=function(n,s,o,i){e.info(n),n.forEach(function(n,a){const c=n;let f="";const l={labelStyle:"",style:""};let u=c.text,d=0,h="note";if(s.setNode(c.id,{labelStyle:l.labelStyle,shape:h,labelText:od(u),noteData:c,rx:d,ry:d,class:f,style:l.style,id:c.id,domId:c.id,tooltip:"",type:"note",padding:t().flowchart.padding}),e.info("setNode",{labelStyle:l.labelStyle,shape:h,labelText:u,rx:d,ry:d,style:l.style,id:c.id,type:"note",padding:t().flowchart.padding}),!c.class||!(c.class in i))return;const m=o+a,r={};r.classes="relation",r.pattern="dotted",r.id=`edgeNote${m}`,r.arrowhead="none",e.info(`Note edge: ${JSON.stringify(r)}, ${JSON.stringify(c)}`),r.startLabelRight="",r.endLabelLeft="",r.arrowTypeStart="none",r.arrowTypeEnd="none";let p="fill:none",g="";r.style=p,r.labelStyle=g,r.curve=We(sd.curve,we),s.setEdge(c.id,c.class,r,m)})},ub=function(n,s){const i=t().flowchart;let o=0;n.forEach(function(a){o++;const r={};r.classes="relation",r.pattern=a.relation.lineType==1?"dashed":"solid",r.id="id"+o,a.type==="arrow_open"?r.arrowhead="none":r.arrowhead="normal",e.info(r,a),r.startLabelRight=a.relationTitle1==="none"?"":a.relationTitle1,r.endLabelLeft=a.relationTitle2==="none"?"":a.relationTitle2,r.arrowTypeStart=cb(a.relation.type1),r.arrowTypeEnd=cb(a.relation.type2);let c="",l="";if(a.style!==void 0){const e=an(a.style);c=e.style,l=e.labelStyle}else c="fill:none";r.style=c,r.labelStyle=l,a.interpolate!==void 0?r.curve=We(a.interpolate,we):n.defaultInterpolate!==void 0?r.curve=We(n.defaultInterpolate,we):r.curve=We(i.curve,we),a.text=a.title,a.text===void 0?a.style!==void 0&&(r.arrowheadStyle="fill: #333"):(r.arrowheadStyle="fill: #333",r.labelpos="c",t().flowchart.htmlLabels?(r.labelType="html",r.label='<span class="edgeLabel">'+a.text+"</span>"):(r.labelType="text",r.label=a.text.replace(h.lineBreakRegex,`
`),a.style===void 0&&(r.style=r.style||"stroke: #333; stroke-width: 1.5px;fill:none"),r.labelStyle=r.labelStyle.replace("color:","fill:"))),s.setEdge(a.id1,a.id2,r,o)})},db=function(e){const t=Object.keys(e);t.forEach(function(t){sd[t]=e[t]})},lb=function(n,s,o,a){e.info("Drawing class - ",s);const r=t().flowchart,l=t().securityLevel;e.info("config:",r);const v=r.nodeSpacing||50,b=r.rankSpacing||50,c=new z({multigraph:!0,compound:!0}).setGraph({rankdir:a.db.getDirection(),nodesep:v,ranksep:b,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),m=a.db.getClasses(),u=a.db.getRelations(),g=a.db.getNotes();e.info(u),mb(m,c,s,a),ub(u,c),hb(g,c,u.length+1,m);let d;l==="sandbox"&&(d=i("#i"+s));const h=i(l==="sandbox"?d.nodes()[0].contentDocument.body:"body"),f=h.select(`[id="${s}"]`),j=h.select("#"+s+" g");if(Nl(j,c,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",s),p.insertTitle(f,"classTitleText",r.titleTopMargin,a.db.getDiagramTitle()),ta(c,f,r.diagramPadding,r.useMaxWidth),!r.htmlLabels){const e=l==="sandbox"?d.nodes()[0].contentDocument:document,t=e.querySelectorAll('[id="'+s+'"] .edgeLabel .label');for(const s of t){const o=s.getBBox(),n=e.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("rx",0),n.setAttribute("ry",0),n.setAttribute("width",o.width),n.setAttribute("height",o.height),s.insertBefore(n,s.firstChild)}}};function cb(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}rb={setConf:db,draw:lb},Pl=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},w=[1,2],s=[1,5],t=[6,9,11,23,25,27,29,30,31,49],y=[1,17],v=[1,18],h=[1,19],l=[1,20],a=[1,21],r=[1,22],d=[1,25],u=[1,30],O=[1,31],m=[1,32],f=[1,33],p=[6,9,11,15,20,23,25,27,29,30,31,42,43,44,45,49],g=[1,45],o=[30,31,46,47],b=[4,6,9,11,23,25,27,29,30,31,49],j=[42,43,44,45],n=[22,37],_=[1,64],i={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyType:35,attributeComment:36,ATTRIBUTE_WORD:37,ATTRIBUTE_KEY:38,COMMENT:39,cardinality:40,relType:41,ZERO_OR_ONE:42,ZERO_OR_MORE:43,ONE_OR_MORE:44,ONLY_ONE:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",38:"ATTRIBUTE_KEY",39:"COMMENT",42:"ZERO_OR_ONE",43:"ZERO_OR_MORE",44:"ONE_OR_MORE",45:"ONLY_ONE",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[36,1],[18,3],[40,1],[40,1],[40,1],[40,1],[41,1],[41,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 1:break;case 3:this.$=[];break;case 4:a[c-1].push(a[c]),this.$=a[c-1];break;case 5:case 6:this.$=a[c];break;case 7:case 8:this.$=[];break;case 12:o.addEntity(a[c-4]),o.addEntity(a[c-2]),o.addRelationship(a[c-4],a[c],a[c-2],a[c-3]);break;case 13:o.addEntity(a[c-3]),o.addAttributes(a[c-3],a[c-1]);break;case 14:o.addEntity(a[c-2]);break;case 15:o.addEntity(a[c]);break;case 16:case 17:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 18:case 19:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 20:case 41:this.$=a[c];break;case 21:case 39:case 40:this.$=a[c].replace(/"/g,"");break;case 22:this.$=[a[c]];break;case 23:a[c].push(a[c-1]),this.$=a[c];break;case 24:this.$={attributeType:a[c-1],attributeName:a[c]};break;case 25:this.$={attributeType:a[c-2],attributeName:a[c-1],attributeKeyType:a[c]};break;case 26:this.$={attributeType:a[c-2],attributeName:a[c-1],attributeComment:a[c]};break;case 27:this.$={attributeType:a[c-3],attributeName:a[c-2],attributeKeyType:a[c-1],attributeComment:a[c]};break;case 28:case 29:case 30:this.$=a[c];break;case 31:this.$=a[c].replace(/"/g,"");break;case 32:this.$={cardA:a[c],relType:a[c-1],cardB:a[c-2]};break;case 33:this.$=o.Cardinality.ZERO_OR_ONE;break;case 34:this.$=o.Cardinality.ZERO_OR_MORE;break;case 35:this.$=o.Cardinality.ONE_OR_MORE;break;case 36:this.$=o.Cardinality.ONLY_ONE;break;case 37:this.$=o.Identification.NON_IDENTIFYING;break;case 38:this.$=o.Identification.IDENTIFYING;break;case 42:o.parseDirective("%%{","open_directive");break;case 43:o.parseDirective(a[c],"type_directive");break;case 44:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 45:o.parseDirective("}%%","close_directive","er");break}},table:[{3:1,4:w,7:3,12:4,49:s},{1:[3]},e(t,[2,3],{5:6}),{3:7,4:w,7:3,12:4,49:s},{13:8,50:[1,9]},{50:[2,42]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:y,25:v,27:h,29:l,30:a,31:r,49:s},{1:[2,2]},{14:23,15:[1,24],52:d},e([15,52],[2,43]),e(t,[2,8],{1:[2,1]}),e(t,[2,4]),{7:15,10:26,12:4,17:16,23:y,25:v,27:h,29:l,30:a,31:r,49:s},e(t,[2,6]),e(t,[2,7]),e(t,[2,11]),e(t,[2,15],{18:27,40:29,20:[1,28],42:u,43:O,44:m,45:f}),{24:[1,34]},{26:[1,35]},{28:[1,36]},e(t,[2,19]),e(p,[2,20]),e(p,[2,21]),{11:[1,37]},{16:38,51:[1,39]},{11:[2,45]},e(t,[2,5]),{17:40,30:a,31:r},{21:41,22:[1,42],32:43,33:44,37:g},{41:46,46:[1,47],47:[1,48]},e(o,[2,33]),e(o,[2,34]),e(o,[2,35]),e(o,[2,36]),e(t,[2,16]),e(t,[2,17]),e(t,[2,18]),e(b,[2,9]),{14:49,52:d},{52:[2,44]},{15:[1,50]},{22:[1,51]},e(t,[2,14]),{21:52,22:[2,22],32:43,33:44,37:g},{34:53,37:[1,54]},{37:[2,28]},{40:55,42:u,43:O,44:m,45:f},e(j,[2,37]),e(j,[2,38]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],48:[1,58]},e(t,[2,13]),{22:[2,23]},e(n,[2,24],{35:61,36:62,38:[1,63],39:_}),e([22,37,38,39],[2,29]),e([30,31],[2,32]),e(b,[2,10]),e(t,[2,12]),e(t,[2,39]),e(t,[2,40]),e(t,[2,41]),e(n,[2,25],{36:65,39:_}),e(n,[2,26]),e([22,37,39],[2,30]),e(n,[2,31]),e(n,[2,27])],defaultActions:{5:[2,42],7:[2,2],25:[2,45],39:[2,44],45:[2,28],52:[2,23]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,d,u,m,f,g,v,j,y,_,w,S=this,i=[0],b=[],c=[null],n=[],p=this.table,C="",h=0,x=0,k=2,O=1,E=n.slice.call(arguments,1),s=Object.create(this.lexer),l={yy:{}};for(y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(l.yy[y]=this.yy[y]);s.setInput(t,l.yy),l.yy.lexer=s,l.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),w=s.options&&s.options.ranges,typeof l.yy.parseError=="function"?this.parseError=l.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function A(){var e=b.pop()||s.lex()||O;return typeof e!="number"&&(e instanceof Array&&(b=e,e=b.pop()),e=S.symbols_[e]||e),e}for(d={};!0;){if(u=i[i.length-1],this.defaultActions[u]?a=this.defaultActions[u]:((o===null||typeof o=="undefined")&&(o=A()),a=p[u]&&p[u][o]),typeof a=="undefined"||!a.length||!a[0]){g="",f=[];for(m in p[u])this.terminals_[m]&&m>k&&f.push("'"+this.terminals_[m]+"'");s.showPosition?g="Parse error on line "+(h+1)+`:
`+s.showPosition()+`
Expecting `+f.join(", ")+", got '"+(this.terminals_[o]||o)+"'":g="Parse error on line "+(h+1)+": Unexpected "+(o==O?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(g,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:f})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+o);switch(a[0]){case 1:i.push(o),c.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,x=s.yyleng,C=s.yytext,h=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],d.$=c[c.length-r],d._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},w&&(d._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(d,[C,x,h,l.yy,a[1],c,n].concat(E)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),c=c.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),c.push(d.$),n.push(d._$),_=p[i[i.length-2]][i[i.length-1]],i.push(_);break;case 3:return!0}}return!0}},x=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),49;case 8:return this.begin("type_directive"),50;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),52;case 11:return 51;case 12:break;case 13:break;case 14:return 11;case 15:break;case 16:return 9;case 17:return 31;case 18:return 48;case 19:return 4;case 20:return this.begin("block"),20;case 21:break;case 22:return 38;case 23:return 37;case 24:return 37;case 25:return 39;case 26:break;case 27:return this.popState(),22;case 28:return n.yytext[0];case 29:return 42;case 30:return 44;case 31:return 44;case 32:return 44;case 33:return 42;case 34:return 42;case 35:return 43;case 36:return 43;case 37:return 43;case 38:return 43;case 39:return 43;case 40:return 44;case 41:return 43;case 42:return 44;case 43:return 45;case 44:return 45;case 45:return 45;case 46:return 45;case 47:return 42;case 48:return 43;case 49:return 44;case 50:return 46;case 51:return 47;case 52:return 47;case 53:return 46;case 54:return 46;case 55:return 46;case 56:return 30;case 57:return n.yytext[0];case 58:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z][A-Za-z0-9-_[\]]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58],inclusive:!0}}};return e}();i.lexer=x;function c(){this.yy={}}return c.prototype=i,i.Parser=c,new c}(),Pl.parser=Pl,ib=Pl,sb=e=>e.match(/^\s*erDiagram/)!==null,As={},Bl=[],eb={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},J9={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},Z9=function(e,t,n){_.parseDirective(this,e,t,n)},td=function(t){return As[t]===void 0&&(As[t]={attributes:[]},e.info("Added new entity :",t)),As[t]},Y9=()=>As,q9=function(t,n){let o=td(t),s;for(s=n.length-1;s>=0;s--)o.attributes.push(n[s]),e.debug("Added attribute ",n[s].attributeName)},K9=function(t,n,s,o){let i={entityA:t,roleA:n,entityB:s,relSpec:o};Bl.push(i),e.debug("Added new relationship :",i)},W9=()=>Bl,V9=function(){As={},Bl=[],Ce()},B9={Cardinality:eb,Identification:J9,parseDirective:Z9,getConfig:()=>t().er,addEntity:td,addAttributes:q9,getEntities:Y9,addRelationship:K9,getRelationships:W9,clear:V9,setAccTitle:je,getAccTitle:Ee,setAccDescription:ke,getAccDescription:xe,setDiagramTitle:Je,getDiagramTitle:ut},tt={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},H9=function(e,t){let n;e.append("defs").append("marker").attr("id",tt.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",tt.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),n=e.append("defs").append("marker").attr("id",tt.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18"),n=e.append("defs").append("marker").attr("id",tt.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,0 L21,18"),e.append("defs").append("marker").attr("id",tt.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",tt.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),n=e.append("defs").append("marker").attr("id",tt.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),n=e.append("defs").append("marker").attr("id",tt.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},ot={ERMarkers:tt,insertMarkers:H9},R9=/[^\dA-Za-z](\W)*/g,L={},ko=new Map,D9=function(e){const t=Object.keys(e);for(const n of t)L[n]=e[n]},z9=(e,n,s)=>{const o=L.entityPadding/3,i=L.entityPadding/3,h=L.fontSize*.85,r=n.node().getBBox(),b=[];let l=!1,d=!1,u=0,p=0,f=0,m=0,g=r.height+o*2,v=1;s.forEach(e=>{e.attributeKeyType!==void 0&&(l=!0),e.attributeComment!==void 0&&(d=!0)}),s.forEach(s=>{const r=`${n.node().id}-attr-${v}`;let i=0;const w=At(s.attributeType),c=e.append("text").classed("er entityLabel",!0).attr("id",`${r}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",t().fontFamily).style("font-size",h+"px").text(w),j=e.append("text").classed("er entityLabel",!0).attr("id",`${r}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",t().fontFamily).style("font-size",h+"px").text(s.attributeName),a={};a.tn=c,a.nn=j;const y=c.node().getBBox(),_=j.node().getBBox();if(u=Math.max(u,y.width),p=Math.max(p,_.width),i=Math.max(y.height,_.height),l){const n=e.append("text").classed("er entityLabel",!0).attr("id",`${r}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",t().fontFamily).style("font-size",h+"px").text(s.attributeKeyType||"");a.kn=n;const o=n.node().getBBox();f=Math.max(f,o.width),i=Math.max(i,o.height)}if(d){const n=e.append("text").classed("er entityLabel",!0).attr("id",`${r}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",t().fontFamily).style("font-size",h+"px").text(s.attributeComment||"");a.cn=n;const o=n.node().getBBox();m=Math.max(m,o.width),i=Math.max(i,o.height)}a.height=i,b.push(a),g+=i+o*2,v+=1});let c=4;l&&(c+=2),d&&(c+=2);const j=u+p+f+m,a={width:Math.max(L.minEntityWidth,Math.max(r.width+L.entityPadding*2,j+i*c)),height:s.length>0?g:Math.max(L.minEntityHeight,r.height+L.entityPadding*2)};if(s.length>0){const h=Math.max(0,(a.width-j-i*c)/(c/2));n.attr("transform","translate("+a.width/2+","+(o+r.height/2)+")");let t=r.height+o*2,s="attributeBoxOdd";b.forEach(n=>{const r=t+o+n.height/2;n.tn.attr("transform","translate("+i+","+r+")");const c=e.insert("rect","#"+n.tn.node().id).classed(`er ${s}`,!0).attr("x",0).attr("y",t).attr("width",u+i*2+h).attr("height",n.height+o*2),g=parseFloat(c.attr("x"))+parseFloat(c.attr("width"));n.nn.attr("transform","translate("+(g+i)+","+r+")");const v=e.insert("rect","#"+n.nn.node().id).classed(`er ${s}`,!0).attr("x",g).attr("y",t).attr("width",p+i*2+h).attr("height",n.height+o*2);let a=parseFloat(v.attr("x"))+parseFloat(v.attr("width"));if(l){n.kn.attr("transform","translate("+(a+i)+","+r+")");const c=e.insert("rect","#"+n.kn.node().id).classed(`er ${s}`,!0).attr("x",a).attr("y",t).attr("width",f+i*2+h).attr("height",n.height+o*2);a=parseFloat(c.attr("x"))+parseFloat(c.attr("width"))}d&&(n.cn.attr("transform","translate("+(a+i)+","+r+")"),e.insert("rect","#"+n.cn.node().id).classed(`er ${s}`,"true").attr("x",a).attr("y",t).attr("width",m+i*2+h).attr("height",n.height+o*2)),t+=n.height+o*2,s=s==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else a.height=Math.max(L.minEntityHeight,g),n.attr("transform","translate("+a.width/2+","+a.height/2+")");return a},T9=function(e,n,s){const i=Object.keys(n);let o;return i.forEach(function(i){const a=AT(i,"entity");ko.set(i,a);const r=e.append("g").attr("id",a);o=o===void 0?a:o;const c="text-"+a,d=r.append("text").classed("er entityLabel",!0).attr("id",c).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",t().fontFamily).style("font-size",L.fontSize+"px").text(i),{width:u,height:h}=z9(r,d,n[i].attributes),m=r.insert("rect","#"+c).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",u).attr("height",h),l=m.node().getBBox();s.setNode(a,{width:l.width,height:l.height,shape:"rect",id:a})}),o},F9=function(e,t){t.nodes().forEach(function(n){n!==void 0&&t.node(n)!==void 0&&e.select("#"+n).attr("transform","translate("+(t.node(n).x-t.node(n).width/2)+","+(t.node(n).y-t.node(n).height/2)+" )")})},Ql=function(e){return(e.entityA+e.roleA+e.entityB).replace(/\s/g,"")},S9=function(e,t){return e.forEach(function(e){t.setEdge(ko.get(e.entityA),ko.get(e.entityB),{relationship:e},Ql(e))}),e},Zl=0,C9=function(e,n,s,o,i){Zl++;const m=s.edge(ko.get(n.entityA),ko.get(n.entityB),Ql(n)),u=uo().x(function(e){return e.x}).y(function(e){return e.y}).curve(_o),r=e.insert("path","#"+o).classed("er relationshipLine",!0).attr("d",u(m.points)).style("stroke",L.stroke).style("fill","none");n.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&r.attr("stroke-dasharray","8,8");let a="";switch(L.arrowMarkerAbsolute&&(a=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,a=a.replace(/\(/g,"\\("),a=a.replace(/\)/g,"\\)")),n.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:r.attr("marker-end","url("+a+"#"+ot.ERMarkers.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:r.attr("marker-end","url("+a+"#"+ot.ERMarkers.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:r.attr("marker-end","url("+a+"#"+ot.ERMarkers.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:r.attr("marker-end","url("+a+"#"+ot.ERMarkers.ONLY_ONE_END+")");break}switch(n.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:r.attr("marker-start","url("+a+"#"+ot.ERMarkers.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:r.attr("marker-start","url("+a+"#"+ot.ERMarkers.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:r.attr("marker-start","url("+a+"#"+ot.ERMarkers.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:r.attr("marker-start","url("+a+"#"+ot.ERMarkers.ONLY_ONE_START+")");break}const h=r.node().getTotalLength(),c=r.node().getPointAtLength(h*.5),d="rel"+Zl,f=e.append("text").classed("er relationshipLabel",!0).attr("id",d).attr("x",c.x).attr("y",c.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",t().fontFamily).style("font-size",L.fontSize+"px").text(n.roleA),l=f.node().getBBox();e.insert("rect","#"+d).classed("er relationshipLabelBox",!0).attr("x",c.x-l.width/2).attr("y",c.y-l.height/2).attr("width",l.width).attr("height",l.height)},O9=function(n,s,o,a){L=t().er,e.info("Drawing ER diagram");const u=t().securityLevel;let h;u==="sandbox"&&(h=i("#i"+s));const b=i(u==="sandbox"?h.nodes()[0].contentDocument.body:"body"),r=b.select(`[id='${s}']`);ot.insertMarkers(r,L);let c;c=new z({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:L.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const g=T9(r,a.db.getEntities(),c),v=S9(a.db.getRelationships(),c);Rs(c),F9(r,c),v.forEach(function(e){C9(r,e,c,g,a)});const l=L.diagramPadding;p.insertTitle(r,"entityTitleText",L.titleTopMargin,a.db.getDiagramTitle());const d=r.node().getBBox(),m=d.width+l*2,f=d.height+l*2;Fe(r,f,m,L.useMaxWidth),r.attr("viewBox",`${d.x-l} ${d.y-l} ${m} ${f}`)};function AT(e="",t=""){const n=e.replace(R9,"");return`${y9(t)}${y9(n)}${Dj()}`}function y9(e=""){return e.length>0?`${e}-`:""}j9={setConf:D9,draw:O9},yl=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},et=[1,9],ze=[1,7],We=[1,6],Me=[1,8],be=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Ne=[2,10],Le=[1,20],He=[1,21],Ie=[1,22],Oe=[1,23],Te=[1,30],Be=[1,32],Pe=[1,33],Ce=[1,34],he=[1,62],me=[1,48],le=[1,52],Fe=[1,36],Ve=[1,37],Ae=[1,38],ke=[1,39],Ee=[1,40],oe=[1,56],ve=[1,63],ge=[1,51],ne=[1,53],se=[1,55],fe=[1,59],pe=[1,60],Se=[1,41],xe=[1,42],$e=[1,43],De=[1,44],ue=[1,61],de=[1,50],ce=[1,54],re=[1,57],ae=[1,58],ie=[1,49],Ze=[1,66],we=[1,71],D=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],$=[1,75],V=[1,74],U=[1,76],Re=[20,21,23,81,82],I=[1,99],i=[1,104],o=[1,107],s=[1,108],H=[1,101],n=[1,106],r=[1,109],P=[1,102],a=[1,114],t=[1,113],c=[1,103],l=[1,105],u=[1,110],h=[1,111],d=[1,112],m=[1,115],Ge=[20,21,22,23,81,82],R=[20,21,22,23,53,81,82],N=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],z=[20,21,23],Xe=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],Ue=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],_e=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],k=[1,149],F=[1,157],M=[1,158],S=[1,159],A=[1,160],T=[1,144],E=[1,145],L=[1,141],x=[1,152],O=[1,153],w=[1,154],_=[1,155],y=[1,156],C=[1,161],j=[1,162],b=[1,147],v=[1,150],p=[1,146],g=[1,143],qe=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Qe=[1,165],ye=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],f=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],tt=[12,21,22,24],nt=[22,106],J=[1,250],Q=[1,245],te=[1,246],q=[1,254],W=[1,251],K=[1,248],ee=[1,247],Y=[1,249],G=[1,252],X=[1,253],Z=[1,255],je=[1,273],Je=[20,21,23,106],B=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],Ke={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(t,n,s,o,i,a){var l,c=a.length-1;switch(i){case 5:o.parseDirective("%%{","open_directive");break;case 6:o.parseDirective(a[c],"type_directive");break;case 7:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 8:o.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:(!Array.isArray(a[c])||a[c].length>0)&&a[c-1].push(a[c]),this.$=a[c-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:this.$=a[c];break;case 19:o.setDirection("TB"),this.$="TB";break;case 20:o.setDirection(a[c-1]),this.$=a[c-1];break;case 35:this.$=a[c-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=o.addSubGraph(a[c-6],a[c-1],a[c-4]);break;case 42:this.$=o.addSubGraph(a[c-3],a[c-1],a[c-3]);break;case 43:this.$=o.addSubGraph(void 0,a[c-1],void 0);break;case 45:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 46:case 47:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 51:o.addLink(a[c-2].stmt,a[c],a[c-1]),this.$={stmt:a[c],nodes:a[c].concat(a[c-2].nodes)};break;case 52:o.addLink(a[c-3].stmt,a[c-1],a[c-2]),this.$={stmt:a[c-1],nodes:a[c-1].concat(a[c-3].nodes)};break;case 53:this.$={stmt:a[c-1],nodes:a[c-1]};break;case 54:this.$={stmt:a[c],nodes:a[c]};break;case 55:this.$=[a[c]];break;case 56:this.$=a[c-4].concat(a[c]);break;case 57:this.$=[a[c-2]],o.setClass(a[c-2],a[c]);break;case 58:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"square");break;case 59:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"doublecircle");break;case 60:this.$=a[c-5],o.addVertex(a[c-5],a[c-2],"circle");break;case 61:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"ellipse");break;case 62:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"stadium");break;case 63:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"subroutine");break;case 64:this.$=a[c-7],o.addVertex(a[c-7],a[c-1],"rect",void 0,void 0,void 0,Object.fromEntries([[a[c-5],a[c-3]]]));break;case 65:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"cylinder");break;case 66:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"round");break;case 67:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"diamond");break;case 68:this.$=a[c-5],o.addVertex(a[c-5],a[c-2],"hexagon");break;case 69:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"odd");break;case 70:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"trapezoid");break;case 71:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"inv_trapezoid");break;case 72:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"lean_right");break;case 73:this.$=a[c-3],o.addVertex(a[c-3],a[c-1],"lean_left");break;case 74:this.$=a[c],o.addVertex(a[c]);break;case 75:a[c-1].text=a[c],this.$=a[c-1];break;case 76:case 77:a[c-2].text=a[c-1],this.$=a[c-2];break;case 78:this.$=a[c];break;case 79:l=o.destructLink(a[c],a[c-2]),this.$={type:l.type,stroke:l.stroke,length:l.length,text:a[c-1]};break;case 80:l=o.destructLink(a[c]),this.$={type:l.type,stroke:l.stroke,length:l.length};break;case 81:this.$=a[c-1];break;case 83:case 97:case 153:this.$=a[c-1]+""+a[c];break;case 98:case 99:this.$=a[c-4],o.addClass(a[c-2],a[c]);break;case 100:this.$=a[c-4],o.setClass(a[c-2],a[c]);break;case 101:case 109:this.$=a[c-1],o.setClickEvent(a[c-1],a[c]);break;case 102:case 110:this.$=a[c-3],o.setClickEvent(a[c-3],a[c-2]),o.setTooltip(a[c-3],a[c]);break;case 103:this.$=a[c-2],o.setClickEvent(a[c-2],a[c-1],a[c]);break;case 104:this.$=a[c-4],o.setClickEvent(a[c-4],a[c-3],a[c-2]),o.setTooltip(a[c-4],a[c]);break;case 105:case 111:this.$=a[c-1],o.setLink(a[c-1],a[c]);break;case 106:case 112:this.$=a[c-3],o.setLink(a[c-3],a[c-2]),o.setTooltip(a[c-3],a[c]);break;case 107:case 113:this.$=a[c-3],o.setLink(a[c-3],a[c-2],a[c]);break;case 108:case 114:this.$=a[c-5],o.setLink(a[c-5],a[c-4],a[c]),o.setTooltip(a[c-5],a[c-2]);break;case 115:this.$=a[c-4],o.addVertex(a[c-2],void 0,void 0,a[c]);break;case 116:case 118:this.$=a[c-4],o.updateLink(a[c-2],a[c]);break;case 117:this.$=a[c-4],o.updateLink([a[c-2]],a[c]);break;case 119:this.$=a[c-8],o.updateLinkInterpolate([a[c-6]],a[c-2]),o.updateLink([a[c-6]],a[c]);break;case 120:this.$=a[c-8],o.updateLinkInterpolate(a[c-6],a[c-2]),o.updateLink(a[c-6],a[c]);break;case 121:this.$=a[c-6],o.updateLinkInterpolate([a[c-4]],a[c]);break;case 122:this.$=a[c-6],o.updateLinkInterpolate(a[c-4],a[c]);break;case 123:case 125:this.$=[a[c]];break;case 124:case 126:a[c-2].push(a[c]),this.$=a[c-2];break;case 128:this.$=a[c-1]+a[c];break;case 150:this.$=a[c];break;case 151:this.$=a[c-1]+""+a[c];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"};break}},table:[{3:1,4:2,5:3,6:5,12:et,16:4,21:ze,22:We,24:Me},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:et,16:4,21:ze,22:We,24:Me},e(be,Ne,{17:11}),{7:12,13:[1,13]},{16:14,21:ze,22:We,24:Me},{16:15,21:ze,22:We,24:Me},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:Le,21:He,22:Ie,23:Oe,32:24,33:25,34:26,35:27,36:28,37:29,38:Te,43:31,44:Be,46:Pe,48:Ce,50:35,51:45,52:he,54:46,66:me,67:le,86:Fe,87:Ve,88:Ae,89:ke,90:Ee,91:oe,95:ve,105:ge,106:ne,109:se,111:fe,112:pe,116:47,118:Se,119:xe,120:$e,121:De,122:ue,123:de,124:ce,125:re,126:ae,127:ie},{8:64,10:[1,65],15:Ze},e([10,15],[2,6]),e(be,[2,17]),e(be,[2,18]),e(be,[2,19]),{20:[1,68],21:[1,69],22:we,27:67,30:70},e(D,[2,11]),e(D,[2,12]),e(D,[2,13]),e(D,[2,14]),e(D,[2,15]),e(D,[2,16]),{9:72,20:$,21:V,23:U,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:$,21:V,23:U},{9:81,20:$,21:V,23:U},{9:82,20:$,21:V,23:U},{9:83,20:$,21:V,23:U},{9:84,20:$,21:V,23:U},{9:86,20:$,21:V,22:[1,85],23:U},e(D,[2,44]),{45:[1,87]},{47:[1,88]},e(D,[2,47]),e(Re,[2,54],{30:89,22:we}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:I,52:i,66:o,67:s,84:[1,97],91:H,97:96,98:[1,94],100:[1,95],105:n,106:r,109:P,111:a,112:t,115:100,117:98,122:c,123:l,124:u,125:h,126:d,127:m},e(D,[2,158]),e(D,[2,159]),e(D,[2,160]),e(D,[2,161]),e(Ge,[2,55],{53:[1,116]}),e(R,[2,74],{116:129,40:[1,117],52:he,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:me,67:le,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:oe,95:ve,105:ge,106:ne,109:se,111:fe,112:pe,122:ue,123:de,124:ce,125:re,126:ae,127:ie}),e(N,[2,150]),e(N,[2,175]),e(N,[2,176]),e(N,[2,177]),e(N,[2,178]),e(N,[2,179]),e(N,[2,180]),e(N,[2,181]),e(N,[2,182]),e(N,[2,183]),e(N,[2,184]),e(N,[2,185]),e(N,[2,186]),e(N,[2,187]),e(N,[2,188]),e(N,[2,189]),e(N,[2,190]),{9:130,20:$,21:V,23:U},{11:131,14:[1,132]},e(z,[2,8]),e(be,[2,20]),e(be,[2,26]),e(be,[2,27]),{21:[1,133]},e(Xe,[2,34],{30:134,22:we}),e(D,[2,35]),{50:135,51:45,52:he,54:46,66:me,67:le,91:oe,95:ve,105:ge,106:ne,109:se,111:fe,112:pe,116:47,122:ue,123:de,124:ce,125:re,126:ae,127:ie},e(Ue,[2,48]),e(Ue,[2,49]),e(Ue,[2,50]),e(_e,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:k,24:F,26:M,38:S,39:139,42:A,52:i,66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},e([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),e(D,[2,36]),e(D,[2,37]),e(D,[2,38]),e(D,[2,39]),e(D,[2,40]),{22:k,24:F,26:M,38:S,39:163,42:A,52:i,66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},e(qe,Ne,{17:164}),e(D,[2,45]),e(D,[2,46]),e(Re,[2,53],{52:Qe}),{26:I,52:i,66:o,67:s,91:H,97:166,102:[1,167],105:n,106:r,109:P,111:a,112:t,115:100,117:98,122:c,123:l,124:u,125:h,126:d,127:m},{95:[1,168],103:169,105:[1,170]},{26:I,52:i,66:o,67:s,91:H,95:[1,171],97:172,105:n,106:r,109:P,111:a,112:t,115:100,117:98,122:c,123:l,124:u,125:h,126:d,127:m},{26:I,52:i,66:o,67:s,91:H,97:173,105:n,106:r,109:P,111:a,112:t,115:100,117:98,122:c,123:l,124:u,125:h,126:d,127:m},e(z,[2,101],{22:[1,174],99:[1,175]}),e(z,[2,105],{22:[1,176]}),e(z,[2,109],{115:100,117:178,22:[1,177],26:I,52:i,66:o,67:s,91:H,105:n,106:r,109:P,111:a,112:t,122:c,123:l,124:u,125:h,126:d,127:m}),e(z,[2,111],{22:[1,179]}),e(ye,[2,152]),e(ye,[2,154]),e(ye,[2,155]),e(ye,[2,156]),e(ye,[2,157]),e(f,[2,162]),e(f,[2,163]),e(f,[2,164]),e(f,[2,165]),e(f,[2,166]),e(f,[2,167]),e(f,[2,168]),e(f,[2,169]),e(f,[2,170]),e(f,[2,171]),e(f,[2,172]),e(f,[2,173]),e(f,[2,174]),{52:he,54:180,66:me,67:le,91:oe,95:ve,105:ge,106:ne,109:se,111:fe,112:pe,116:47,122:ue,123:de,124:ce,125:re,126:ae,127:ie},{22:k,24:F,26:M,38:S,39:181,42:A,52:i,66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,39:182,42:A,52:i,66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,39:184,42:A,52:i,57:[1,183],66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,39:185,42:A,52:i,66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,39:186,42:A,52:i,66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,39:187,42:A,52:i,66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{66:[1,188]},{22:k,24:F,26:M,38:S,39:189,42:A,52:i,66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,39:190,42:A,52:i,66:o,67:s,71:[1,191],73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,39:192,42:A,52:i,66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,39:193,42:A,52:i,66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,39:194,42:A,52:i,66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},e(N,[2,151]),e(tt,[2,3]),{8:195,15:Ze},{15:[2,7]},e(be,[2,28]),e(Xe,[2,33]),e(Re,[2,51],{30:196,22:we}),e(_e,[2,75],{22:[1,197]}),{22:[1,198]},{22:k,24:F,26:M,38:S,39:199,42:A,52:i,66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,42:A,52:i,66:o,67:s,73:T,81:E,82:[1,200],83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},e(f,[2,82]),e(f,[2,84]),e(f,[2,140]),e(f,[2,141]),e(f,[2,142]),e(f,[2,143]),e(f,[2,144]),e(f,[2,145]),e(f,[2,146]),e(f,[2,147]),e(f,[2,148]),e(f,[2,149]),e(f,[2,85]),e(f,[2,86]),e(f,[2,87]),e(f,[2,88]),e(f,[2,89]),e(f,[2,90]),e(f,[2,91]),e(f,[2,92]),e(f,[2,93]),e(f,[2,94]),e(f,[2,95]),{9:203,20:$,21:V,22:k,23:U,24:F,26:M,38:S,40:[1,202],42:A,52:i,66:o,67:s,73:T,81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{18:18,19:19,20:Le,21:He,22:Ie,23:Oe,32:24,33:25,34:26,35:27,36:28,37:29,38:Te,42:[1,204],43:31,44:Be,46:Pe,48:Ce,50:35,51:45,52:he,54:46,66:me,67:le,86:Fe,87:Ve,88:Ae,89:ke,90:Ee,91:oe,95:ve,105:ge,106:ne,109:se,111:fe,112:pe,116:47,118:Se,119:xe,120:$e,121:De,122:ue,123:de,124:ce,125:re,126:ae,127:ie},{22:we,30:205},{22:[1,206],26:I,52:i,66:o,67:s,91:H,105:n,106:r,109:P,111:a,112:t,115:100,117:178,122:c,123:l,124:u,125:h,126:d,127:m},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},e(nt,[2,123]),{22:[1,211]},{22:[1,212],26:I,52:i,66:o,67:s,91:H,105:n,106:r,109:P,111:a,112:t,115:100,117:178,122:c,123:l,124:u,125:h,126:d,127:m},{22:[1,213],26:I,52:i,66:o,67:s,91:H,105:n,106:r,109:P,111:a,112:t,115:100,117:178,122:c,123:l,124:u,125:h,126:d,127:m},{84:[1,214]},e(z,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},e(ye,[2,153]),{84:[1,219],101:[1,220]},e(Ge,[2,57],{116:129,52:he,66:me,67:le,91:oe,95:ve,105:ge,106:ne,109:se,111:fe,112:pe,122:ue,123:de,124:ce,125:re,126:ae,127:ie}),{22:k,24:F,26:M,38:S,41:[1,221],42:A,52:i,66:o,67:s,73:T,81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,42:A,52:i,56:[1,222],66:o,67:s,73:T,81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,39:223,42:A,52:i,66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,42:A,52:i,58:[1,224],66:o,67:s,73:T,81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,42:A,52:i,60:[1,225],66:o,67:s,73:T,81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,42:A,52:i,62:[1,226],66:o,67:s,73:T,81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,42:A,52:i,64:[1,227],66:o,67:s,73:T,81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{67:[1,228]},{22:k,24:F,26:M,38:S,42:A,52:i,66:o,67:s,70:[1,229],73:T,81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,42:A,52:i,66:o,67:s,72:[1,230],73:T,81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,39:231,42:A,52:i,66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,41:[1,232],42:A,52:i,66:o,67:s,73:T,81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,42:A,52:i,66:o,67:s,73:T,75:[1,233],77:[1,234],81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{22:k,24:F,26:M,38:S,42:A,52:i,66:o,67:s,73:T,75:[1,236],77:[1,235],81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{9:237,20:$,21:V,23:U},e(Re,[2,52],{52:Qe}),e(_e,[2,77]),e(_e,[2,76]),{22:k,24:F,26:M,38:S,42:A,52:i,66:o,67:s,68:[1,238],73:T,81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},e(_e,[2,79]),e(f,[2,83]),{22:k,24:F,26:M,38:S,39:239,42:A,52:i,66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},e(qe,Ne,{17:240}),e(D,[2,43]),{51:241,52:he,54:46,66:me,67:le,91:oe,95:ve,105:ge,106:ne,109:se,111:fe,112:pe,116:47,122:ue,123:de,124:ce,125:re,126:ae,127:ie},{22:J,66:Q,67:te,86:q,96:242,102:W,105:K,107:243,108:244,109:ee,110:Y,111:G,112:X,113:Z},{22:J,66:Q,67:te,86:q,96:256,102:W,105:K,107:243,108:244,109:ee,110:Y,111:G,112:X,113:Z},{22:J,66:Q,67:te,86:q,96:257,102:W,104:[1,258],105:K,107:243,108:244,109:ee,110:Y,111:G,112:X,113:Z},{22:J,66:Q,67:te,86:q,96:259,102:W,104:[1,260],105:K,107:243,108:244,109:ee,110:Y,111:G,112:X,113:Z},{105:[1,261]},{22:J,66:Q,67:te,86:q,96:262,102:W,105:K,107:243,108:244,109:ee,110:Y,111:G,112:X,113:Z},{22:J,66:Q,67:te,86:q,96:263,102:W,105:K,107:243,108:244,109:ee,110:Y,111:G,112:X,113:Z},{26:I,52:i,66:o,67:s,91:H,97:264,105:n,106:r,109:P,111:a,112:t,115:100,117:98,122:c,123:l,124:u,125:h,126:d,127:m},e(z,[2,102]),{84:[1,265]},e(z,[2,106],{22:[1,266]}),e(z,[2,107]),e(z,[2,110]),e(z,[2,112],{22:[1,267]}),e(z,[2,113]),e(R,[2,58]),e(R,[2,59]),{22:k,24:F,26:M,38:S,42:A,52:i,58:[1,268],66:o,67:s,73:T,81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},e(R,[2,66]),e(R,[2,61]),e(R,[2,62]),e(R,[2,63]),{66:[1,269]},e(R,[2,65]),e(R,[2,67]),{22:k,24:F,26:M,38:S,42:A,52:i,66:o,67:s,72:[1,270],73:T,81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},e(R,[2,69]),e(R,[2,70]),e(R,[2,72]),e(R,[2,71]),e(R,[2,73]),e(tt,[2,4]),e([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:k,24:F,26:M,38:S,41:[1,271],42:A,52:i,66:o,67:s,73:T,81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{18:18,19:19,20:Le,21:He,22:Ie,23:Oe,32:24,33:25,34:26,35:27,36:28,37:29,38:Te,42:[1,272],43:31,44:Be,46:Pe,48:Ce,50:35,51:45,52:he,54:46,66:me,67:le,86:Fe,87:Ve,88:Ae,89:ke,90:Ee,91:oe,95:ve,105:ge,106:ne,109:se,111:fe,112:pe,116:47,118:Se,119:xe,120:$e,121:De,122:ue,123:de,124:ce,125:re,126:ae,127:ie},e(Ge,[2,56]),e(z,[2,115],{106:je}),e(Je,[2,125],{108:274,22:J,66:Q,67:te,86:q,102:W,105:K,109:ee,110:Y,111:G,112:X,113:Z}),e(B,[2,127]),e(B,[2,129]),e(B,[2,130]),e(B,[2,131]),e(B,[2,132]),e(B,[2,133]),e(B,[2,134]),e(B,[2,135]),e(B,[2,136]),e(B,[2,137]),e(B,[2,138]),e(B,[2,139]),e(z,[2,116],{106:je}),e(z,[2,117],{106:je}),{22:[1,275]},e(z,[2,118],{106:je}),{22:[1,276]},e(nt,[2,124]),e(z,[2,98],{106:je}),e(z,[2,99],{106:je}),e(z,[2,100],{115:100,117:178,26:I,52:i,66:o,67:s,91:H,105:n,106:r,109:P,111:a,112:t,122:c,123:l,124:u,125:h,126:d,127:m}),e(z,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:$,21:V,23:U},e(D,[2,42]),{22:J,66:Q,67:te,86:q,102:W,105:K,107:283,108:244,109:ee,110:Y,111:G,112:X,113:Z},e(B,[2,128]),{26:I,52:i,66:o,67:s,91:H,97:284,105:n,106:r,109:P,111:a,112:t,115:100,117:98,122:c,123:l,124:u,125:h,126:d,127:m},{26:I,52:i,66:o,67:s,91:H,97:285,105:n,106:r,109:P,111:a,112:t,115:100,117:98,122:c,123:l,124:u,125:h,126:d,127:m},e(z,[2,108]),e(z,[2,114]),e(R,[2,60]),{22:k,24:F,26:M,38:S,39:286,42:A,52:i,66:o,67:s,73:T,81:E,83:140,84:L,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},e(R,[2,68]),e(qe,Ne,{17:287}),e(Je,[2,126],{108:274,22:J,66:Q,67:te,86:q,102:W,105:K,109:ee,110:Y,111:G,112:X,113:Z}),e(z,[2,121],{115:100,117:178,22:[1,288],26:I,52:i,66:o,67:s,91:H,105:n,106:r,109:P,111:a,112:t,122:c,123:l,124:u,125:h,126:d,127:m}),e(z,[2,122],{115:100,117:178,22:[1,289],26:I,52:i,66:o,67:s,91:H,105:n,106:r,109:P,111:a,112:t,122:c,123:l,124:u,125:h,126:d,127:m}),{22:k,24:F,26:M,38:S,41:[1,290],42:A,52:i,66:o,67:s,73:T,81:E,83:201,85:151,86:x,87:O,88:w,89:_,90:y,91:C,92:j,94:142,95:b,105:n,106:r,109:v,111:a,112:t,113:p,114:g,115:148,122:c,123:l,124:u,125:h,126:d,127:m},{18:18,19:19,20:Le,21:He,22:Ie,23:Oe,32:24,33:25,34:26,35:27,36:28,37:29,38:Te,42:[1,291],43:31,44:Be,46:Pe,48:Ce,50:35,51:45,52:he,54:46,66:me,67:le,86:Fe,87:Ve,88:Ae,89:ke,90:Ee,91:oe,95:ve,105:ge,106:ne,109:se,111:fe,112:pe,116:47,118:Se,119:xe,120:$e,121:De,122:ue,123:de,124:ce,125:re,126:ae,127:ie},{22:J,66:Q,67:te,86:q,96:292,102:W,105:K,107:243,108:244,109:ee,110:Y,111:G,112:X,113:Z},{22:J,66:Q,67:te,86:q,96:293,102:W,105:K,107:243,108:244,109:ee,110:Y,111:G,112:X,113:Z},e(R,[2,64]),e(D,[2,41]),e(z,[2,119],{106:je}),e(z,[2,120],{106:je})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,d,u,m,f,g,v,j,y,_,w,S=this,i=[0],b=[],c=[null],n=[],p=this.table,C="",h=0,x=0,k=2,O=1,E=n.slice.call(arguments,1),s=Object.create(this.lexer),l={yy:{}};for(y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(l.yy[y]=this.yy[y]);s.setInput(t,l.yy),l.yy.lexer=s,l.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),w=s.options&&s.options.ranges,typeof l.yy.parseError=="function"?this.parseError=l.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function A(){var e=b.pop()||s.lex()||O;return typeof e!="number"&&(e instanceof Array&&(b=e,e=b.pop()),e=S.symbols_[e]||e),e}for(d={};!0;){if(u=i[i.length-1],this.defaultActions[u]?a=this.defaultActions[u]:((o===null||typeof o=="undefined")&&(o=A()),a=p[u]&&p[u][o]),typeof a=="undefined"||!a.length||!a[0]){g="",f=[];for(m in p[u])this.terminals_[m]&&m>k&&f.push("'"+this.terminals_[m]+"'");s.showPosition?g="Parse error on line "+(h+1)+`:
`+s.showPosition()+`
Expecting `+f.join(", ")+", got '"+(this.terminals_[o]||o)+"'":g="Parse error on line "+(h+1)+": Unexpected "+(o==O?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(g,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:f})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+o);switch(a[0]){case 1:i.push(o),c.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,x=s.yyleng,C=s.yytext,h=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],d.$=c[c.length-r],d._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},w&&(d._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(d,[C,x,h,l.yy,a[1],c,n].concat(E)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),c=c.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),c.push(d.$),n.push(d._$),_=p[i[i.length-2]][i[i.length-1]],i.push(_);break;case 3:return!0}}return!0}},st=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:break;case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 24:this.popState();break;case 25:return 100;case 26:this.begin("callbackname");break;case 27:this.popState();break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 30:this.popState();break;case 31:return 99;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 90;case 35:return t.lex.firstGraph()&&this.begin("dir"),24;case 36:return t.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 42;case 39:return 101;case 40:return 101;case 41:return 101;case 42:return 101;case 43:return this.popState(),25;case 44:return this.popState(),26;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return this.popState(),26;case 48:return this.popState(),26;case 49:return this.popState(),26;case 50:return this.popState(),26;case 51:return this.popState(),26;case 52:return this.popState(),26;case 53:return this.popState(),26;case 54:return 118;case 55:return 119;case 56:return 120;case 57:return 121;case 58:return 105;case 59:return 111;case 60:return 53;case 61:return 67;case 62:return 52;case 63:return 20;case 64:return 106;case 65:return 126;case 66:return 82;case 67:return 82;case 68:return 82;case 69:return 81;case 70:return 81;case 71:return 81;case 72:return 59;case 73:return 60;case 74:return 61;case 75:return 62;case 76:return 63;case 77:return 64;case 78:return 65;case 79:return 69;case 80:return 70;case 81:return 55;case 82:return 56;case 83:return 109;case 84:return 112;case 85:return 127;case 86:return 124;case 87:return 113;case 88:return 125;case 89:return 125;case 90:return 114;case 91:return 73;case 92:return 92;case 93:return"SEP";case 94:return 91;case 95:return 66;case 96:return 75;case 97:return 74;case 98:return 77;case 99:return 76;case 100:return 122;case 101:return 123;case 102:return 68;case 103:return 57;case 104:return 58;case 105:return 40;case 106:return 41;case 107:return 71;case 108:return 72;case 109:return 133;case 110:return 21;case 111:return 22;case 112:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[}])/,/^(?:[^}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[43,44,45,46,47,48,49,50,51,52,53],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112],inclusive:!0}}};return e}();Ke.lexer=st;function Ye(){this.yy={}}return Ye.prototype=Ke,Ke.Parser=Ye,new Ye}(),yl.parser=yl,pd=yl,p9=(e,t)=>{var n;return((n=t?.flowchart)==null?void 0:n.defaultRenderer)!=="dagre-wrapper"&&e.match(/^\s*graph/)!==null},f9=(e,t)=>{var n;return((n=t?.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"&&e.match(/^\s*graph/)!==null||e.match(/^\s*flowchart/)!==null},u9="flowchart-",jd=0,ll=t(),w={},Zt=[],Dn={},lt=[],Po={},ur={},Lo=0,Cc=!0,ia=[],Xo=e=>h.sanitizeText(e,ll),jv=function(e,t,n){_.parseDirective(this,e,t,n)},Vo=function(e){const t=Object.keys(w);for(const n of t)if(w[n].id===e)return w[n].domId;return e},mv=function(e,n,s,o,i,a,r={}){let l,c=e;if(c===void 0)return;if(c.trim().length===0)return;w[c]===void 0&&(w[c]={id:c,domId:u9+c+"-"+jd,styles:[],classes:[]}),jd++,n!==void 0?(ll=t(),l=Xo(n.trim()),l[0]==='"'&&l[l.length-1]==='"'&&(l=l.substring(1,l.length-1)),w[c].text=l):w[c].text===void 0&&(w[c].text=e),s!==void 0&&(w[c].type=s),o!=null&&o.forEach(function(e){w[c].styles.push(e)}),i!=null&&i.forEach(function(e){w[c].classes.push(e)}),a!==void 0&&(w[c].dir=a),w[c].props===void 0?w[c].props=r:r!==void 0&&Object.assign(w[c].props,r)},lv=function(e,t,n,s){let i=e,a=t;const o={start:i,end:a,type:void 0,text:""};s=n.text,s!==void 0&&(o.text=Xo(s.trim()),o.text[0]==='"'&&o.text[o.text.length-1]==='"'&&(o.text=o.text.substring(1,o.text.length-1))),n!==void 0&&(o.type=n.type,o.stroke=n.stroke,o.length=n.length),Zt.push(o)},rv=function(e,t,n,s){let o,i;for(o=0;o<e.length;o++)for(i=0;i<t.length;i++)lv(e[o],t[i],n,s)},tv=function(e,t){e.forEach(function(e){e==="default"?Zt.defaultInterpolate=t:Zt[e].interpolate=t})},J7=function(e,t){e.forEach(function(e){e==="default"?Zt.defaultStyle=t:(p.isSubstringInArray("fill",t)===-1&&t.push("fill:none"),Zt[e].style=t)})},Q7=function(e,t){Dn[e]===void 0&&(Dn[e]={id:e,styles:[],textStyles:[]}),t!=null&&t.forEach(function(t){if(t.match("color")){const n=t.replace("fill","bgFill"),s=n.replace("color","fill");Dn[e].textStyles.push(s)}Dn[e].styles.push(t)})},k7=function(e){_t=e,_t.match(/.*</)&&(_t="RL"),_t.match(/.*\^/)&&(_t="BT"),_t.match(/.*>/)&&(_t="LR"),_t.match(/.*v/)&&(_t="TB")},Ba=function(e,t){e.split(",").forEach(function(e){let n=e;w[n]!==void 0&&w[n].classes.push(t),Po[n]!==void 0&&Po[n].classes.push(t)})},O7=function(e,t){e.split(",").forEach(function(e){t!==void 0&&(ur[oc==="gen-1"?Vo(e):e]=Xo(t))})},_7=function(e,n,s){let i=Vo(e);if(t().securityLevel!=="loose")return;if(n===void 0)return;let o=[];if(typeof s=="string"){o=s.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let t=0;t<o.length;t++){let e=o[t].trim();e.charAt(0)==='"'&&e.charAt(e.length-1)==='"'&&(e=e.substr(1,e.length-2)),o[t]=e}}o.length===0&&o.push(e),w[e]!==void 0&&(w[e].haveCallback=!0,ia.push(function(){const e=document.querySelector(`[id="${i}"]`);e!==null&&e.addEventListener("click",function(){p.runFunc(n,...o)},!1)}))},j7=function(e,t,n){e.split(",").forEach(function(e){w[e]!==void 0&&(w[e].link=p.formatUrl(t,ll),w[e].linkTarget=n)}),Ba(e,"clickable")},v7=function(e){return ur[e]},p7=function(e,t,n){e.split(",").forEach(function(e){_7(e,t,n)}),Ba(e,"clickable")},m7=function(e){ia.forEach(function(t){t(e)})},l7=function(){return _t.trim()},r7=function(){return w},i7=function(){return Zt},s7=function(){return Dn},e1=function(e){let t=i(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=i("body").append("div").attr("class","mermaidTooltip").style("opacity",0));const n=i(e).select("svg"),s=n.selectAll("g.node");s.on("mouseover",function(){const n=i(this),s=n.attr("title");if(s===null)return;const e=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(n.attr("title")).style("left",window.scrollX+e.left+(e.right-e.left)/2+"px").style("top",window.scrollY+e.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),n.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0);const e=i(this);e.classed("hover",!1)})},ia.push(e1),J5=function(e="gen-1"){w={},Dn={},Zt=[],ia=[e1],lt=[],Po={},Lo=0,ur=[],Cc=!0,oc=e,Ce()},q5=e=>{oc=e||"gen-1"},U5=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},$5=function(t,n,s){let a=t.trim(),r=s;t===s&&s.match(/\s/)&&(a=void 0);function c(e){const t={boolean:{},number:{},string:{}},n=[];let s;const o=e.filter(function(e){const o=typeof e;return e.stmt&&e.stmt==="dir"?(s=e.value,!1):e.trim()!==""&&(o in t?!t[o].hasOwnProperty(e)&&(t[o][e]=!0):!n.includes(e)&&n.push(e))});return{nodeList:o,dir:s}}let i=[];const{nodeList:l,dir:d}=c(i.concat.apply(i,n));if(i=l,oc==="gen-1")for(let e=0;e<i.length;e++)i[e]=Vo(i[e]);a=a||"subGraph"+Lo,r=r||"",r=Xo(r),Lo=Lo+1;const o={id:a,nodes:i,title:r.trim(),classes:[],dir:d};return e.info("Adding",o.id,o.nodes,o.dir),o.nodes=w1(o,lt).nodes,lt.push(o),Po[a]=o,a},I5=function(e){for(const[t,n]of lt.entries())if(n.id===e)return t;return-1},qs=-1,d1=[],u1=function(e,t){const o=lt[t].nodes;if(qs=qs+1,qs>2e3)return;if(d1[qs]=t,lt[t].id===e)return{result:!0,count:0};let n=0,s=1;for(;n<o.length;){const t=I5(o[n]);if(t>=0){const n=u1(e,t);if(n.result)return{result:!0,count:s+n.count};s=s+n.count}n=n+1}return{result:!1,count:s}},M5=function(e){return d1[e]},A5=function(){qs=-1,lt.length>0&&u1("none",lt.length-1)},x5=function(){return lt},_5=()=>!!Cc&&(Cc=!1,!0),j5=e=>{let t=e.trim(),n="arrow_open";switch(t[0]){case"<":n="arrow_point",t=t.slice(1);break;case"x":n="arrow_cross",t=t.slice(1);break;case"o":n="arrow_circle",t=t.slice(1);break}let s="normal";return t.includes("=")&&(s="thick"),t.includes(".")&&(s="dotted"),{type:n,stroke:s}},v5=(e,t)=>{const s=t.length;let n=0;for(let o=0;o<s;++o)t[o]===e&&++n;return n},p5=e=>{const s=e.trim();let n=s.slice(0,-1),t="arrow_open";switch(s.slice(-1)){case"x":t="arrow_cross",s[0]==="x"&&(t="double_"+t,n=n.slice(1));break;case">":t="arrow_point",s[0]==="<"&&(t="double_"+t,n=n.slice(1));break;case"o":t="arrow_circle",s[0]==="o"&&(t="double_"+t,n=n.slice(1));break}let o="normal",i=n.length-1;n[0]==="="&&(o="thick");let a=v5(".",n);return a&&(o="dotted",i=a),{type:t,stroke:o,length:i}},m5=(e,t)=>{const s=p5(e);let n;if(t){if(n=j5(t),n.stroke!==s.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=s.type;else{if(n.type!==s.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=s.length,n}return s},D3=(e,t)=>{let n=!1;return e.forEach(e=>{const s=e.nodes.indexOf(t);s>=0&&(n=!0)}),n},w1=(e,t)=>{const n=[];return e.nodes.forEach((s,o)=>{D3(t,s)||n.push(e.nodes[o])}),{nodes:n}},bt={parseDirective:jv,defaultConfig:()=>$n.flowchart,setAccTitle:je,getAccTitle:Ee,getAccDescription:xe,setAccDescription:ke,addVertex:mv,lookUpDomId:Vo,addLink:rv,updateLinkInterpolate:tv,updateLink:J7,addClass:Q7,setDirection:k7,setClass:Ba,setTooltip:O7,getTooltip:v7,setClickEvent:p7,setLink:j7,bindFunctions:m7,getDirection:l7,getVertices:r7,getEdges:i7,getClasses:s7,clear:J5,setGen:q5,defaultStyle:U5,addSubGraph:$5,getDepthFirstPos:M5,indexNodes:A5,getSubGraphs:x5,destructLink:m5,lex:{firstGraph:_5},exists:D3,makeUniq:w1,setDiagramTitle:Je,getDiagramTitle:ut};function s5(e,t,n){const i=t.width,a=t.height,s=(i+a)*.9,o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}],r=Tt(e,s,s,o);return n.intersect=function(e){return ct(n,o,e)},r}function t5(e,t,n){const r=4,s=t.height,o=s/r,i=t.width+2*o,a=[{x:o,y:0},{x:i-o,y:0},{x:i,y:-s/2},{x:i-o,y:-s},{x:o,y:-s},{x:0,y:-s/2}],c=Tt(e,i,s,a);return n.intersect=function(e){return ct(n,a,e)},c}function Jg(e,t,n){const o=t.width,s=t.height,i=[{x:-s/2,y:0},{x:o,y:0},{x:o,y:-s},{x:-s/2,y:-s},{x:0,y:-s/2}],a=Tt(e,o,s,i);return n.intersect=function(e){return ct(n,i,e)},a}function Qg(e,t,n){const o=t.width,s=t.height,i=[{x:-2*s/6,y:0},{x:o-s/6,y:0},{x:o+2*s/6,y:-s},{x:s/6,y:-s}],a=Tt(e,o,s,i);return n.intersect=function(e){return ct(n,i,e)},a}function Bg(e,t,n){const o=t.width,s=t.height,i=[{x:2*s/6,y:0},{x:o+s/6,y:0},{x:o-2*s/6,y:-s},{x:-s/6,y:-s}],a=Tt(e,o,s,i);return n.intersect=function(e){return ct(n,i,e)},a}function Hg(e,t,n){const o=t.width,s=t.height,i=[{x:-2*s/6,y:0},{x:o+2*s/6,y:0},{x:o-s/6,y:-s},{x:s/6,y:-s}],a=Tt(e,o,s,i);return n.intersect=function(e){return ct(n,i,e)},a}function Ng(e,t,n){const o=t.width,s=t.height,i=[{x:s/6,y:0},{x:o-s/6,y:0},{x:o+2*s/6,y:-s},{x:-2*s/6,y:-s}],a=Tt(e,o,s,i);return n.intersect=function(e){return ct(n,i,e)},a}function zg(e,t,n){const o=t.width,s=t.height,i=[{x:0,y:0},{x:o+s/2,y:0},{x:o,y:-s/2},{x:o+s/2,y:-s},{x:0,y:-s}],a=Tt(e,o,s,i);return n.intersect=function(e){return ct(n,i,e)},a}function Fg(e,t,n){const s=t.height,o=t.width+s/4,i=e.insert("rect",":first-child").attr("rx",s/2).attr("ry",s/2).attr("x",-o/2).attr("y",-s/2).attr("width",o).attr("height",s);return n.intersect=function(e){return Wd(n,e)},i}function Sg(e,t,n){const s=t.width,o=t.height,i=[{x:0,y:0},{x:s,y:0},{x:s,y:-o},{x:0,y:-o},{x:0,y:0},{x:-8,y:0},{x:s+8,y:0},{x:s+8,y:-o},{x:-8,y:-o},{x:-8,y:0}],a=Tt(e,s,o,i);return n.intersect=function(e){return ct(n,i,e)},a}function kg(e,t,n){const i=t.width,o=i/2,s=o/(2.5+i/50),a=t.height+s,r="M 0,"+s+" a "+o+","+s+" 0,0,0 "+i+" 0 a "+o+","+s+" 0,0,0 "+-i+" 0 l 0,"+a+" a "+o+","+s+" 0,0,0 "+i+" 0 l 0,"+-a,c=e.attr("label-offset-y",s).insert("path",":first-child").attr("d",r).attr("transform","translate("+-i/2+","+-(a/2+s)+")");return n.intersect=function(e){const t=Wd(n,e),i=t.x-n.x;if(o!=0&&(Math.abs(i)<n.width/2||Math.abs(i)==n.width/2&&Math.abs(t.y-n.y)>n.height/2-s)){let a=s*s*(1-i*i/(o*o));a!=0&&(a=Math.sqrt(a)),a=s-a,e.y-n.y>0&&(a=-a),t.y+=a}return t},c}function qz(e){e.shapes().question=s5,e.shapes().hexagon=t5,e.shapes().stadium=Fg,e.shapes().subroutine=Sg,e.shapes().cylinder=kg,e.shapes().rect_left_inv_arrow=Jg,e.shapes().lean_right=Qg,e.shapes().lean_left=Bg,e.shapes().trapezoid=Hg,e.shapes().inv_trapezoid=Ng,e.shapes().rect_right_inv_arrow=zg}function Yz(e){e({question:s5}),e({hexagon:t5}),e({stadium:Fg}),e({subroutine:Sg}),e({cylinder:kg}),e({rect_left_inv_arrow:Jg}),e({lean_right:Qg}),e({lean_left:Bg}),e({trapezoid:Hg}),e({inv_trapezoid:Ng}),e({rect_right_inv_arrow:zg})}function Tt(e,t,n,s){return e.insert("polygon",":first-child").attr("points",s.map(function(e){return e.x+","+e.y}).join(" ")).attr("transform","translate("+-t/2+","+n/2+")")}_g={addToRender:qz,addToRenderV2:Yz},V1={},vg=function(e){const t=Object.keys(e);for(const n of t)V1[n]=e[n]},$1=function(n,s,o,a,r,c){const d=a?a.select(`[id="${o}"]`):i(`[id="${o}"]`),l=r||document,u=Object.keys(n);u.forEach(function(o){const a=n[o];let f="default";a.classes.length>0&&(f=a.classes.join(" "));const u=an(a.styles);let p=a.text!==void 0?a.text:a.id,r;if(B(t().flowchart.htmlLabels)){const e={label:p.replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`)};r=Nd(d,e).node(),r.parentNode.removeChild(r)}else{const e=l.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("style",u.labelStyle.replace("color:","fill:"));const t=p.split(h.lineBreakRegex);for(const s of t){const n=l.createElementNS("http://www.w3.org/2000/svg","tspan");n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.setAttribute("dy","1em"),n.setAttribute("x","1"),n.textContent=s,e.appendChild(n)}r=e}let m=0,i="";switch(a.type){case"round":m=5,i="rect";break;case"square":i="rect";break;case"diamond":i="question";break;case"hexagon":i="hexagon";break;case"odd":i="rect_left_inv_arrow";break;case"lean_right":i="lean_right";break;case"lean_left":i="lean_left";break;case"trapezoid":i="trapezoid";break;case"inv_trapezoid":i="inv_trapezoid";break;case"odd_right":i="rect_left_inv_arrow";break;case"circle":i="circle";break;case"ellipse":i="ellipse";break;case"stadium":i="stadium";break;case"subroutine":i="subroutine";break;case"cylinder":i="cylinder";break;case"group":i="rect";break;default:i="rect"}e.warn("Adding node",a.id,a.domId),s.setNode(c.db.lookUpDomId(a.id),{labelType:"svg",labelStyle:u.labelStyle,shape:i,label:r,rx:m,ry:m,class:f,style:u.style,id:c.db.lookUpDomId(a.id)})})},U1=function(e,n,s){let a=0,o,i;if(e.defaultStyle!==void 0){const t=an(e.defaultStyle);o=t.style,i=t.labelStyle}e.forEach(function(r){a++;var u="L-"+r.start+"-"+r.end,m="LS-"+r.start,f="LE-"+r.end;const c={};r.type==="arrow_open"?c.arrowhead="none":c.arrowhead="normal";let l="",d="";if(r.style!==void 0){const e=an(r.style);l=e.style,d=e.labelStyle}else switch(r.stroke){case"normal":l="fill:none",o!==void 0&&(l=o),i!==void 0&&(d=i);break;case"dotted":l="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":l=" stroke-width: 3.5px;fill:none";break}c.style=l,c.labelStyle=d,r.interpolate!==void 0?c.curve=We(r.interpolate,we):e.defaultInterpolate!==void 0?c.curve=We(e.defaultInterpolate,we):c.curve=We(V1.curve,we),r.text===void 0?r.style!==void 0&&(c.arrowheadStyle="fill: #333"):(c.arrowheadStyle="fill: #333",c.labelpos="c",B(t().flowchart.htmlLabels)?(c.labelType="html",c.label=`<span id="L-${u}" class="edgeLabel L-${m}' L-${f}" style="${c.labelStyle}">${r.text.replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`)}</span>`):(c.labelType="text",c.label=r.text.replace(h.lineBreakRegex,`
`),r.style===void 0&&(c.style=c.style||"stroke: #333; stroke-width: 1.5px;fill:none"),c.labelStyle=c.labelStyle.replace("color:","fill:"))),c.id=u,c.class=m+" "+f,c.minlen=r.length||1,n.setEdge(s.db.lookUpDomId(r.start),s.db.lookUpDomId(r.end),c,a)})},ug=function(t,n){e.info("Extracting classes"),n.db.clear();try{return n.parse(t),n.db.getClasses()}catch(t){return e.error(t),{}}},lg=function(n,s,o,a){e.info("Drawing flowchart"),a.db.clear();const{securityLevel:g,flowchart:h}=t();let b;g==="sandbox"&&(b=i("#i"+s));const m=i(g==="sandbox"?b.nodes()[0].contentDocument.body:"body"),d=g==="sandbox"?b.nodes()[0].contentDocument:document;try{a.parser.parse(n)}catch{e.debug("Parsing failed")}let v=a.db.getDirection();v===void 0&&(v="TD");const y=h.nodeSpacing||50,O=h.rankSpacing||50,u=new z({multigraph:!0,compound:!0}).setGraph({rankdir:v,nodesep:y,ranksep:O,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let r;const l=a.db.getSubGraphs();for(let e=l.length-1;e>=0;e--)r=l[e],a.db.addVertex(r.id,r.title,"group",void 0,r.classes);const f=a.db.getVertices();e.warn("Get vertices",f);const _=a.db.getEdges();let c=0;for(c=l.length-1;c>=0;c--){r=l[c],L0("cluster").append("text");for(let t=0;t<r.nodes.length;t++)e.warn("Setting subgraph",r.nodes[t],a.db.lookUpDomId(r.nodes[t]),a.db.lookUpDomId(r.id)),u.setParent(a.db.lookUpDomId(r.nodes[t]),a.db.lookUpDomId(r.id))}$1(f,u,s,m,d,a),U1(_,u,a);const p=new SM;_g.addToRender(p),p.arrows().none=function(t,n,s,o){const i=t.append("marker").attr("id",n).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),a=i.append("path").attr("d","M 0 0 L 0 0 L 0 0 z");gt(a,s[o+"Style"])},p.arrows().normal=function(t,n){const s=t.append("marker").attr("id",n).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto");s.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const w=m.select(`[id="${s}"]`),j=m.select("#"+s+" g");p(j,u),j.selectAll("g.node").attr("title",function(){return a.db.getTooltip(this.id)}),a.db.indexNodes("subGraph"+c);for(c=0;c<l.length;c++)if(r=l[c],r.title!=="undefined"){const e=d.querySelectorAll("#"+s+' [id="'+a.db.lookUpDomId(r.id)+'"] rect'),t=d.querySelectorAll("#"+s+' [id="'+a.db.lookUpDomId(r.id)+'"]'),o=e[0].x.baseVal.value,c=e[0].y.baseVal.value,l=e[0].width.baseVal.value,u=i(t[0]),n=u.select(".label");n.attr("transform",`translate(${o+l/2}, ${c+14})`),n.attr("id",s+"Text");for(let e=0;e<r.classes.length;e++)t[0].classList.add(r.classes[e])}if(!h.htmlLabels){const e=d.querySelectorAll('[id="'+s+'"] .edgeLabel .label');for(const n of e){const s=n.getBBox(),t=d.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("rx",0),t.setAttribute("ry",0),t.setAttribute("width",s.width),t.setAttribute("height",s.height),n.insertBefore(t,n.firstChild)}}ta(u,w,h.diagramPadding,h.useMaxWidth);const x=Object.keys(f);x.forEach(function(e){const t=f[e];if(t.link){const n=m.select("#"+s+' [id="'+a.db.lookUpDomId(e)+'"]');if(n){const e=d.createElementNS("http://www.w3.org/2000/svg","a");e.setAttributeNS("http://www.w3.org/2000/svg","class",t.classes.join(" ")),e.setAttributeNS("http://www.w3.org/2000/svg","href",t.link),e.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),g==="sandbox"?e.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):t.linkTarget&&e.setAttributeNS("http://www.w3.org/2000/svg","target",t.linkTarget);const s=n.insert(function(){return e},":first-child"),o=n.select(".label-container");o&&s.append(function(){return o.node()});const i=n.select(".label");i&&s.append(function(){return i.node()})}}})},rg={setConf:vg,addVertices:$1,addEdges:U1,getClasses:ug,draw:lg},Y1={},qp=function(e){const t=Object.keys(e);for(const n of t)Y1[n]=e[n]},t4=function(n,s,o,i,a,r){const c=i.select(`[id="${o}"]`),l=Object.keys(n);l.forEach(function(o){const i=n[o];let p="default";i.classes.length>0&&(p=i.classes.join(" "));const d=an(i.styles);let m=i.text!==void 0?i.text:i.id,f;if(B(t().flowchart.htmlLabels)){const e={label:m.replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`)};f=Nd(c,e).node(),f.parentNode.removeChild(f)}else{const e=a.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("style",d.labelStyle.replace("color:","fill:"));const t=m.split(h.lineBreakRegex);for(const s of t){const n=a.createElementNS("http://www.w3.org/2000/svg","tspan");n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.setAttribute("dy","1em"),n.setAttribute("x","1"),n.textContent=s,e.appendChild(n)}f=e}let u=0,l="";switch(i.type){case"round":u=5,l="rect";break;case"square":l="rect";break;case"diamond":l="question";break;case"hexagon":l="hexagon";break;case"odd":l="rect_left_inv_arrow";break;case"lean_right":l="lean_right";break;case"lean_left":l="lean_left";break;case"trapezoid":l="trapezoid";break;case"inv_trapezoid":l="inv_trapezoid";break;case"odd_right":l="rect_left_inv_arrow";break;case"circle":l="circle";break;case"ellipse":l="ellipse";break;case"stadium":l="stadium";break;case"subroutine":l="subroutine";break;case"cylinder":l="cylinder";break;case"group":l="rect";break;case"doublecircle":l="doublecircle";break;default:l="rect"}s.setNode(i.id,{labelStyle:d.labelStyle,shape:l,labelText:m,rx:u,ry:u,class:p,style:d.style,id:i.id,link:i.link,linkTarget:i.linkTarget,tooltip:r.db.getTooltip(i.id)||"",domId:r.db.lookUpDomId(i.id),haveCallback:i.haveCallback,width:i.type==="group"?500:void 0,dir:i.dir,type:i.type,props:i.props,padding:t().flowchart.padding}),e.info("setNode",{labelStyle:d.labelStyle,shape:l,labelText:m,rx:u,ry:u,class:p,style:d.style,id:i.id,domId:r.db.lookUpDomId(i.id),width:i.type==="group"?500:void 0,type:i.type,dir:i.dir,props:i.props,padding:t().flowchart.padding})})},i4=function(t,n){e.info("abc78 edges = ",t);let r=0,o={},i,a;if(t.defaultStyle!==void 0){const e=an(t.defaultStyle);i=e.style,a=e.labelStyle}t.forEach(function(s){r++;var f,p,l="L-"+s.start+"-"+s.end;o[l]===void 0?(o[l]=0,e.info("abc78 new entry",l,o[l])):(o[l]++,e.info("abc78 new entry",l,o[l]));let m=l+"-"+o[l];e.info("abc78 new link id to be used is",l,m,o[l]),f="LS-"+s.start,p="LE-"+s.end;const c={style:"",labelStyle:""};switch(c.minlen=s.length||1,s.type==="arrow_open"?c.arrowhead="none":c.arrowhead="normal",c.arrowTypeStart="arrow_open",c.arrowTypeEnd="arrow_open",s.type){case"double_arrow_cross":c.arrowTypeStart="arrow_cross";case"arrow_cross":c.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":c.arrowTypeStart="arrow_point";case"arrow_point":c.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":c.arrowTypeStart="arrow_circle";case"arrow_circle":c.arrowTypeEnd="arrow_circle";break}let d="",u="";switch(s.stroke){case"normal":d="fill:none;",i!==void 0&&(d=i),a!==void 0&&(u=a),c.thickness="normal",c.pattern="solid";break;case"dotted":c.thickness="normal",c.pattern="dotted",c.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":c.thickness="thick",c.pattern="solid",c.style="stroke-width: 3.5px;fill:none;";break}if(s.style!==void 0){const e=an(s.style);d=e.style,u=e.labelStyle}c.style=c.style+=d,c.labelStyle=c.labelStyle+=u,s.interpolate!==void 0?c.curve=We(s.interpolate,we):t.defaultInterpolate!==void 0?c.curve=We(t.defaultInterpolate,we):c.curve=We(Y1.curve,we),s.text===void 0?s.style!==void 0&&(c.arrowheadStyle="fill: #333"):(c.arrowheadStyle="fill: #333",c.labelpos="c"),c.labelType="text",c.label=s.text.replace(h.lineBreakRegex,`
`),s.style===void 0&&(c.style=c.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),c.labelStyle=c.labelStyle.replace("color:","fill:"),c.id=m,c.classes="flowchart-link "+f+" "+p,n.setEdge(s.start,s.end,c,r)})},Op=function(t,n){e.info("Extracting classes"),n.db.clear();try{return n.parse(t),n.db.getClasses()}catch{return}},_p=function(n,s,o,a){e.info("Drawing flowchart"),a.db.clear(),bt.setGen("gen-2"),a.parser.parse(n);let b=a.db.getDirection();b===void 0&&(b="TD");const{securityLevel:h,flowchart:c}=t(),w=c.nodeSpacing||50,_=c.rankSpacing||50;let g;h==="sandbox"&&(g=i("#i"+s));const v=i(h==="sandbox"?g.nodes()[0].contentDocument.body:"body"),m=h==="sandbox"?g.nodes()[0].contentDocument:document,d=new z({multigraph:!0,compound:!0}).setGraph({rankdir:b,nodesep:w,ranksep:_,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let r;const l=a.db.getSubGraphs();e.info("Subgraphs - ",l);for(let t=l.length-1;t>=0;t--)r=l[t],e.info("Subgraph - ",r),a.db.addVertex(r.id,r.title,"group",void 0,r.classes,r.dir);const f=a.db.getVertices(),j=a.db.getEdges();e.info(j);let u=0;for(u=l.length-1;u>=0;u--){r=l[u],L0("cluster").append("text");for(let t=0;t<r.nodes.length;t++)e.info("Setting up subgraphs",r.nodes[t],r.id),d.setParent(r.nodes[t],r.id)}t4(f,d,s,v,m,a),i4(j,d);const y=v.select(`[id="${s}"]`),O=v.select("#"+s+" g");if(Nl(O,d,["point","circle","cross"],"flowchart",s),p.insertTitle(y,"flowchartTitleText",c.titleTopMargin,a.db.getDiagramTitle()),ta(d,y,c.diagramPadding,c.useMaxWidth),a.db.indexNodes("subGraph"+u),!c.htmlLabels){const e=m.querySelectorAll('[id="'+s+'"] .edgeLabel .label');for(const n of e){const s=n.getBBox(),t=m.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("rx",0),t.setAttribute("ry",0),t.setAttribute("width",s.width),t.setAttribute("height",s.height),n.insertBefore(t,n.firstChild)}}const x=Object.keys(f);x.forEach(function(e){const t=f[e];if(t.link){const n=i("#"+s+' [id="'+e+'"]');if(n){const e=m.createElementNS("http://www.w3.org/2000/svg","a");e.setAttributeNS("http://www.w3.org/2000/svg","class",t.classes.join(" ")),e.setAttributeNS("http://www.w3.org/2000/svg","href",t.link),e.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),h==="sandbox"?e.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):t.linkTarget&&e.setAttributeNS("http://www.w3.org/2000/svg","target",t.linkTarget);const s=n.insert(function(){return e},":first-child"),o=n.select(".label-container");o&&s.append(function(){return o.node()});const i=n.select(".label");i&&s.append(function(){return i.node()})}}})},Tr={setConf:qp,addVertices:t4,addEdges:i4,getClasses:Op,draw:_p},zr=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},_=[1,3],n=[1,5],t=[7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],h=[1,15],i=[1,16],a=[1,17],r=[1,18],c=[1,19],l=[1,20],d=[1,21],u=[1,22],w=[1,23],m=[1,24],f=[1,25],p=[1,26],g=[1,27],v=[1,29],b=[1,31],j=[1,34],y=[5,7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],s={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,tickInterval:16,excludes:17,includes:18,todayMarker:19,title:20,acc_title:21,acc_title_value:22,acc_descr:23,acc_descr_value:24,acc_descr_multiline_value:25,section:26,clickStatement:27,taskTxt:28,taskData:29,openDirective:30,typeDirective:31,closeDirective:32,":":33,argDirective:34,click:35,callbackname:36,callbackargs:37,href:38,clickStatementDebug:39,open_directive:40,type_directive:41,arg_directive:42,close_directive:43,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"tickInterval",17:"excludes",18:"includes",19:"todayMarker",20:"title",21:"acc_title",22:"acc_title_value",23:"acc_descr",24:"acc_descr_value",25:"acc_descr_multiline_value",26:"section",28:"taskTxt",29:"taskData",33:":",35:"click",36:"callbackname",37:"callbackargs",38:"href",40:"open_directive",41:"type_directive",42:"arg_directive",43:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[27,2],[27,3],[27,3],[27,4],[27,3],[27,4],[27,2],[39,2],[39,3],[39,3],[39,4],[39,3],[39,4],[39,2],[30,1],[31,1],[34,1],[32,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 2:return a[c-1];case 3:this.$=[];break;case 4:a[c-1].push(a[c]),this.$=a[c-1];break;case 5:case 6:this.$=a[c];break;case 7:case 8:this.$=[];break;case 9:o.setDateFormat(a[c].substr(11)),this.$=a[c].substr(11);break;case 10:o.enableInclusiveEndDates(),this.$=a[c].substr(18);break;case 11:o.TopAxis(),this.$=a[c].substr(8);break;case 12:o.setAxisFormat(a[c].substr(11)),this.$=a[c].substr(11);break;case 13:o.setTickInterval(a[c].substr(13)),this.$=a[c].substr(13);break;case 14:o.setExcludes(a[c].substr(9)),this.$=a[c].substr(9);break;case 15:o.setIncludes(a[c].substr(9)),this.$=a[c].substr(9);break;case 16:o.setTodayMarker(a[c].substr(12)),this.$=a[c].substr(12);break;case 17:o.setDiagramTitle(a[c].substr(6)),this.$=a[c].substr(6);break;case 18:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 19:case 20:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 21:o.addSection(a[c].substr(8)),this.$=a[c].substr(8);break;case 23:o.addTask(a[c-1],a[c]),this.$="task";break;case 27:this.$=a[c-1],o.setClickEvent(a[c-1],a[c],null);break;case 28:this.$=a[c-2],o.setClickEvent(a[c-2],a[c-1],a[c]);break;case 29:this.$=a[c-2],o.setClickEvent(a[c-2],a[c-1],null),o.setLink(a[c-2],a[c]);break;case 30:this.$=a[c-3],o.setClickEvent(a[c-3],a[c-2],a[c-1]),o.setLink(a[c-3],a[c]);break;case 31:this.$=a[c-2],o.setClickEvent(a[c-2],a[c],null),o.setLink(a[c-2],a[c-1]);break;case 32:this.$=a[c-3],o.setClickEvent(a[c-3],a[c-1],a[c]),o.setLink(a[c-3],a[c-2]);break;case 33:this.$=a[c-1],o.setLink(a[c-1],a[c]);break;case 34:case 40:this.$=a[c-1]+" "+a[c];break;case 35:case 36:case 38:this.$=a[c-2]+" "+a[c-1]+" "+a[c];break;case 37:case 39:this.$=a[c-3]+" "+a[c-2]+" "+a[c-1]+" "+a[c];break;case 41:o.parseDirective("%%{","open_directive");break;case 42:o.parseDirective(a[c],"type_directive");break;case 43:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 44:o.parseDirective("}%%","close_directive","gantt");break}},table:[{3:1,4:2,5:_,30:4,40:n},{1:[3]},{3:6,4:2,5:_,30:4,40:n},e(t,[2,3],{6:7}),{31:8,41:[1,9]},{41:[2,41]},{1:[2,1]},{4:30,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:h,13:i,14:a,15:r,16:c,17:l,18:d,19:u,20:w,21:m,23:f,25:p,26:g,27:28,28:v,30:4,35:b,40:n},{32:32,33:[1,33],43:j},e([33,43],[2,42]),e(t,[2,8],{1:[2,2]}),e(t,[2,4]),{4:30,10:35,12:h,13:i,14:a,15:r,16:c,17:l,18:d,19:u,20:w,21:m,23:f,25:p,26:g,27:28,28:v,30:4,35:b,40:n},e(t,[2,6]),e(t,[2,7]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),e(t,[2,17]),{22:[1,36]},{24:[1,37]},e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),{29:[1,38]},e(t,[2,24]),{36:[1,39],38:[1,40]},{11:[1,41]},{34:42,42:[1,43]},{11:[2,44]},e(t,[2,5]),e(t,[2,18]),e(t,[2,19]),e(t,[2,23]),e(t,[2,27],{37:[1,44],38:[1,45]}),e(t,[2,33],{36:[1,46]}),e(y,[2,25]),{32:47,43:j},{43:[2,43]},e(t,[2,28],{38:[1,48]}),e(t,[2,29]),e(t,[2,31],{37:[1,49]}),{11:[1,50]},e(t,[2,30]),e(t,[2,32]),e(y,[2,26])],defaultActions:{5:[2,41],6:[2,1],34:[2,44],43:[2,43]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,d,u,m,f,g,v,j,y,_,w,S=this,i=[0],b=[],c=[null],n=[],p=this.table,C="",h=0,x=0,k=2,O=1,E=n.slice.call(arguments,1),s=Object.create(this.lexer),l={yy:{}};for(y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(l.yy[y]=this.yy[y]);s.setInput(t,l.yy),l.yy.lexer=s,l.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),w=s.options&&s.options.ranges,typeof l.yy.parseError=="function"?this.parseError=l.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function A(){var e=b.pop()||s.lex()||O;return typeof e!="number"&&(e instanceof Array&&(b=e,e=b.pop()),e=S.symbols_[e]||e),e}for(d={};!0;){if(u=i[i.length-1],this.defaultActions[u]?a=this.defaultActions[u]:((o===null||typeof o=="undefined")&&(o=A()),a=p[u]&&p[u][o]),typeof a=="undefined"||!a.length||!a[0]){g="",f=[];for(m in p[u])this.terminals_[m]&&m>k&&f.push("'"+this.terminals_[m]+"'");s.showPosition?g="Parse error on line "+(h+1)+`:
`+s.showPosition()+`
Expecting `+f.join(", ")+", got '"+(this.terminals_[o]||o)+"'":g="Parse error on line "+(h+1)+": Unexpected "+(o==O?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(g,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:f})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+o);switch(a[0]){case 1:i.push(o),c.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,x=s.yyleng,C=s.yytext,h=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],d.$=c[c.length-r],d._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},w&&(d._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(d,[C,x,h,l.yy,a[1],c,n].concat(E)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),c=c.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),c.push(d.$),n.push(d._$),_=p[i[i.length-2]][i[i.length-1]],i.push(_);break;case 3:return!0}}return!0}},O=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),40;case 1:return this.begin("type_directive"),41;case 2:return this.popState(),this.begin("arg_directive"),33;case 3:return this.popState(),this.popState(),43;case 4:return 42;case 5:return this.begin("acc_title"),21;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),23;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 38;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 36;case 26:this.popState();break;case 27:return 37;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 35;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 16;case 37:return 18;case 38:return 17;case 39:return 19;case 40:return"date";case 41:return 20;case 42:return"accDescription";case 43:return 26;case 44:return 28;case 45:return 29;case 46:return 33;case 47:return 7;case 48:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}};return e}();s.lexer=O;function o(){this.yy={}}return o.prototype=s,s.Parser=o,new o}(),zr.parser=zr,up=zr,lp=e=>e.match(/^\s*gantt/)!==null,$e="",Lr="",Ir=void 0,Wr="",Ls=[],Ss=[],Jr={},ec=[],Ta=[],cs="",G4=["active","done","crit","milestone"],sc=[],us=!1,Dc=!1,Wc=0,Y8=function(e,t,n){_.parseDirective(this,e,t,n)},$8=function(){ec=[],Ta=[],cs="",sc=[],Hi=0,r3=void 0,Fl=void 0,P=[],$e="",Lr="",Ir=void 0,Wr="",Ls=[],Ss=[],us=!1,Dc=!1,Wc=0,Jr={},Ce()},L8=function(e){Lr=e},D8=function(){return Lr},T8=function(e){Ir=e},C8=function(){return Ir},O8=function(e){Wr=e},j8=function(){return Wr},f8=function(e){$e=e},h8=function(){us=!0},d8=function(){return us},u5=function(){Dc=!0},a8=function(){return Dc},Xm=function(){return $e},Im=function(e){Ls=e.toLowerCase().split(/[\s,]+/)},Pm=function(){return Ls},Dm=function(e){Ss=e.toLowerCase().split(/[\s,]+/)},Fm=function(){return Ss},Sm=function(){return Jr},km=function(e){cs=e,ec.push(e)},Cm=function(){return ec},wm=function(){let e=F3();const n=10;let t=0;for(;!e&&t<n;)e=F3(),t++;return Ta=P,Ta},F2=function(e,t,n,s){return!s.includes(e.format(t.trim()))&&(!!(e.isoWeekday()>=6&&n.includes("weekends"))||!!n.includes(e.format("dddd").toLowerCase())||n.includes(e.format(t.trim())))},T2=function(e,t,n,s){if(!n.length||e.manualEndTime)return;let o=(0,Ne.default)(e.startTime,t,!0);o.add(1,"d");let i=(0,Ne.default)(e.endTime,t,!0),a=um(o,i,t,n,s);e.endTime=i.toDate(),e.renderEndTime=a},um=function(e,t,n,s,o){let i=!1,a=null;for(;e<=t;)i||(a=t.toDate()),i=F2(e,n,s,o),i&&t.add(1,"d"),e.add(1,"d");return a},vl=function(t,n,s){s=s.trim();const r=/^after\s+([\d\w- ]+)/,i=r.exec(s.trim());if(i!==null){let e=null;if(i[1].split(" ").forEach(function(t){let n=Kn(t);n!==void 0&&(e?n.endTime>e.endTime&&(e=n):e=n)}),e)return e.endTime;const t=new Date;return t.setHours(0,0,0,0),t}let a=(0,Ne.default)(s,n.trim(),!0);if(a.isValid())return a.toDate();e.debug("Invalid date:"+s),e.debug("With date format:"+n.trim());const o=new Date(s);if(o===void 0||isNaN(o.getTime()))throw new Error("Invalid date:"+s);return o},L2=function(e){const t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return t!==null?Ne.default.duration(Number.parseFloat(t[1]),t[2]):Ne.default.duration.invalid()},P2=function(e,t,n,s=!1){n=n.trim();let o=(0,Ne.default)(n,t.trim(),!0);if(o.isValid())return s&&o.add(1,"d"),o.toDate();const i=(0,Ne.default)(e),a=L2(n);return a.isValid()&&i.add(a),i.toDate()},Hi=0,Ln=function(e){return e===void 0?(Hi=Hi+1,"task"+Hi):e},Uh=function(e,t){let i;t.substr(0,1)===":"?i=t.substr(1,t.length):i=t;const s=i.split(","),n={};J3(s,n,G4);for(let e=0;e<s.length;e++)s[e]=s[e].trim();let o="";switch(s.length){case 1:n.id=Ln(),n.startTime=e.endTime,o=s[0];break;case 2:n.id=Ln(),n.startTime=vl(void 0,$e,s[0]),o=s[1];break;case 3:n.id=Ln(s[0]),n.startTime=vl(void 0,$e,s[1]),o=s[2];break}return o&&(n.endTime=P2(n.startTime,$e,o,us),n.manualEndTime=(0,Ne.default)(o,"YYYY-MM-DD",!0).isValid(),T2(n,$e,Ss,Ls)),n},$h=function(e,t){let o;t.substr(0,1)===":"?o=t.substr(1,t.length):o=t;const n=o.split(","),s={};J3(n,s,G4);for(let e=0;e<n.length;e++)n[e]=n[e].trim();switch(n.length){case 1:s.id=Ln(),s.startTime={type:"prevTaskEnd",id:e},s.endTime={data:n[0]};break;case 2:s.id=Ln(),s.startTime={type:"getStartDate",startData:n[0]},s.endTime={data:n[1]};break;case 3:s.id=Ln(n[0]),s.startTime={type:"getStartDate",startData:n[1]},s.endTime={data:n[2]};break}return s},P=[],S3={},P3=function(e,t){const n={section:cs,type:cs,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},s=$h(Fl,t);n.raw.startTime=s.startTime,n.raw.endTime=s.endTime,n.id=s.id,n.prevTaskId=Fl,n.active=s.active,n.done=s.done,n.crit=s.crit,n.milestone=s.milestone,n.order=Wc,Wc++;const o=P.push(n);Fl=n.id,S3[n.id]=o-1},Kn=function(e){const t=S3[e];return P[t]},R3=function(e,t){const n={section:cs,type:cs,description:e,task:e,classes:[]},s=Uh(r3,t);n.startTime=s.startTime,n.endTime=s.endTime,n.id=s.id,n.active=s.active,n.done=s.done,n.crit=s.crit,n.milestone=s.milestone,r3=n,Ta.push(n)},F3=function(){const t=function(e){const n=P[e];let t="";switch(P[e].raw.startTime.type){case"prevTaskEnd":{const e=Kn(n.prevTaskId);n.startTime=e.endTime;break}case"getStartDate":t=vl(void 0,$e,P[e].raw.startTime.startData),t&&(P[e].startTime=t);break}return P[e].startTime&&(P[e].endTime=P2(P[e].startTime,$e,P[e].raw.endTime.data,us),P[e].endTime&&(P[e].processed=!0,P[e].manualEndTime=(0,Ne.default)(P[e].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),T2(P[e],$e,Ss,Ls))),P[e].processed};let e=!0;for(const[n,s]of P.entries())t(n),e=e&&s.processed;return e},B3=function(e,n){let s=n;t().securityLevel!=="loose"&&(s=(0,Ut.sanitizeUrl)(n)),e.split(",").forEach(function(e){let t=Kn(e);t!==void 0&&(w3(e,()=>{window.open(s,"_self")}),Jr[e]=s)}),k3(e,"clickable")},k3=function(e,t){e.split(",").forEach(function(e){let n=Kn(e);n!==void 0&&n.classes.push(t)})},$3=function(e,n,s){if(t().securityLevel!=="loose")return;if(n===void 0)return;let o=[];if(typeof s=="string"){o=s.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let t=0;t<o.length;t++){let e=o[t].trim();e.charAt(0)==='"'&&e.charAt(e.length-1)==='"'&&(e=e.substr(1,e.length-2)),o[t]=e}}o.length===0&&o.push(e);let i=Kn(e);i!==void 0&&w3(e,()=>{p.runFunc(n,...o)})},w3=function(e,t){sc.push(function(){const n=document.querySelector(`[id="${e}"]`);n!==null&&n.addEventListener("click",function(){t()})},function(){const n=document.querySelector(`[id="${e}-text"]`);n!==null&&n.addEventListener("click",function(){t()})})},q3=function(e,t,n){e.split(",").forEach(function(e){$3(e,t,n)}),k3(e,"clickable")},Y3=function(e){sc.forEach(function(t){t(e)})},Ll={parseDirective:Y8,getConfig:()=>t().gantt,clear:$8,setDateFormat:f8,getDateFormat:Xm,enableInclusiveEndDates:h8,endDatesAreInclusive:d8,enableTopAxis:u5,topAxisEnabled:a8,setAxisFormat:L8,getAxisFormat:D8,setTickInterval:T8,getTickInterval:C8,setTodayMarker:O8,getTodayMarker:j8,setAccTitle:je,getAccTitle:Ee,setDiagramTitle:Je,getDiagramTitle:ut,setAccDescription:ke,getAccDescription:xe,addSection:km,getSections:Cm,getTasks:wm,addTask:P3,findTaskById:Kn,addTaskOrg:R3,setIncludes:Im,getIncludes:Pm,setExcludes:Dm,getExcludes:Fm,setClickEvent:q3,setLink:B3,getLinks:Sm,bindFunctions:Y3,parseDuration:L2,isInvalidDate:F2};function J3(e,t,n){let s=!0;for(;s;)s=!1,n.forEach(function(n){const o="^\\s*"+n+"\\s*$",i=new RegExp(o);e[0].match(i)&&(t[n]=!0,e.shift(1),s=!0)})}Mh=function(){e.debug("Something is calling, setConf, remove the call")},zh=function(e,n,s,o){const a=t().gantt,u=t().securityLevel;let p;u==="sandbox"&&(p=i("#i"+n));const b=i(u==="sandbox"?p.nodes()[0].contentDocument.body:"body"),m=u==="sandbox"?p.nodes()[0].contentDocument:document,g=m.getElementById(n);Et=g.parentElement.offsetWidth,Et===void 0&&(Et=1200),a.useWidth!==void 0&&(Et=a.useWidth);const d=o.db.getTasks(),f=d.length*(a.barHeight+a.barGap)+2*a.topPadding;g.setAttribute("viewBox","0 0 "+Et+" "+f);const l=b.select(`[id="${n}"]`),r=eR().domain([$V(d,function(e){return e.startTime}),WV(d,function(e){return e.endTime})]).rangeRound([0,Et-a.leftPadding-a.rightPadding]);let c=[];for(const e of d)c.push(e.type);const v=c;c=E(c);function j(e,t){const s=e.startTime,o=t.startTime;let n=0;return s>o?n=1:s<o&&(n=-1),n}d.sort(j),y(d,Et,f),Fe(l,f,Et,a.useMaxWidth),l.append("text").text(o.db.getDiagramTitle()).attr("x",Et/2).attr("y",a.titleTopMargin).attr("class","titleText");function y(e,t,n){const l=a.barHeight,r=l+a.barGap,s=a.topPadding,i=a.leftPadding,d=t_().domain([0,c.length]).range(["#00B9FA","#F95002"]).interpolate(zx);w(r,s,i,t,n,e,o.db.getExcludes(),o.db.getIncludes()),O(i,s,t,n),_(e,r,s,i,l,d,t),x(r,s),C(i,s,t,n)}function _(e,s,d,u,h,m,f){l.append("g").selectAll("rect").data(e).enter().append("rect").attr("x",0).attr("y",function(e,t){return t=e.order,t*s+d-2}).attr("width",function(){return f-a.rightPadding/2}).attr("height",s).attr("class",function(e){for(const[t,n]of c.entries())if(e.type===n)return"section section"+t%a.numberSectionStyles;return"section section0"});const p=l.append("g").selectAll("rect").data(e).enter(),g=o.db.getLinks();p.append("rect").attr("id",function(e){return e.id}).attr("rx",3).attr("ry",3).attr("x",function(e){return e.milestone?r(e.startTime)+u+.5*(r(e.endTime)-r(e.startTime))-.5*h:r(e.startTime)+u}).attr("y",function(e,t){return t=e.order,t*s+d}).attr("width",function(e){return e.milestone?h:r(e.renderEndTime||e.endTime)-r(e.startTime)}).attr("height",h).attr("transform-origin",function(e,t){return t=e.order,(r(e.startTime)+u+.5*(r(e.endTime)-r(e.startTime))).toString()+"px "+(t*s+d+.5*h).toString()+"px"}).attr("class",function(e){const o="task";let n="";e.classes.length>0&&(n=e.classes.join(" "));let s=0;for(const[t,n]of c.entries())e.type===n&&(s=t%a.numberSectionStyles);let t="";return e.active?e.crit?t+=" activeCrit":t=" active":e.done?e.crit?t=" doneCrit":t=" done":e.crit&&(t+=" crit"),t.length===0&&(t=" task"),e.milestone&&(t=" milestone "+t),t+=s,t+=" "+n,o+t}),p.append("text").attr("id",function(e){return e.id+"-text"}).text(function(e){return e.task}).attr("font-size",a.fontSize).attr("x",function(e){let t=r(e.startTime),n=r(e.renderEndTime||e.endTime);e.milestone&&(t+=.5*(r(e.endTime)-r(e.startTime))-.5*h),e.milestone&&(n=t+h);const s=this.getBBox().width;return s>n-t?n+s+1.5*a.leftPadding>f?t+u-5:n+u+5:(n-t)/2+t+u}).attr("y",function(e,t){return t=e.order,t*s+a.barHeight/2+(a.fontSize/2-2)+d}).attr("text-height",h).attr("class",function(e){const l=r(e.startTime);let i=r(e.endTime);e.milestone&&(i=l+h);const s=this.getBBox().width;let o="";e.classes.length>0&&(o=e.classes.join(" "));let n=0;for(const[t,s]of c.entries())e.type===s&&(n=t%a.numberSectionStyles);let t="";return e.active&&(e.crit?t="activeCritText"+n:t="activeText"+n),e.done?e.crit?t=t+" doneCritText"+n:t=t+" doneText"+n:e.crit&&(t=t+" critText"+n),e.milestone&&(t+=" milestoneText"),s>i-l?i+s+1.5*a.leftPadding>f?o+" taskTextOutsideLeft taskTextOutside"+n+" "+t:o+" taskTextOutsideRight taskTextOutside"+n+" "+t+" width-"+s:o+" taskText taskText"+n+" "+t+" width-"+s});const v=t().securityLevel;if(v==="sandbox"){let t;t=i("#i"+n);const e=t.nodes()[0].contentDocument;p.filter(function(e){return g[e.id]!==void 0}).each(function(t){var n,s=e.querySelector("#"+t.id),o=e.querySelector("#"+t.id+"-text");const i=s.parentNode;n=e.createElement("a"),n.setAttribute("xlink:href",g[t.id]),n.setAttribute("target","_top"),i.appendChild(n),n.appendChild(s),n.appendChild(o)})}}function w(e,t,n,s,i,c,d,u){const f=c.reduce((e,{startTime:t})=>e?Math.min(e,t):t,0),p=c.reduce((e,{endTime:t})=>e?Math.max(e,t):t,0),v=o.db.getDateFormat();if(!f||!p)return;const g=[];let h=null,m=(0,Ne.default)(f);for(;m.valueOf()<=p;)o.db.isInvalidDate(m,v,d,u)?h?h.end=m.clone():h={start:m.clone(),end:m.clone()}:h&&(g.push(h),h=null),m.add(1,"d");const b=l.append("g").selectAll("rect").data(g).enter();b.append("rect").attr("id",function(e){return"exclude-"+e.start.format("YYYY-MM-DD")}).attr("x",function(e){return r(e.start)+n}).attr("y",a.gridLineStartPadding).attr("width",function(e){const t=e.end.clone().add(1,"day");return r(t)-r(e.start)}).attr("height",i-t-a.gridLineStartPadding).attr("transform-origin",function(t,s){return(r(t.start)+n+.5*(r(t.end)-r(t.start))).toString()+"px "+(s*e+.5*i).toString()+"px"}).attr("class","exclude-range")}function O(e,t,n,s){let i=NV(r).tickSize(-s+t+a.gridLineStartPadding).tickFormat(Kl(o.db.getAxisFormat()||a.axisFormat||"%Y-%m-%d"));const d=/^([1-9]\d*)(minute|hour|day|week|month)$/,c=d.exec(o.db.getTickInterval()||a.tickInterval);if(c!==null){const e=c[1],t=c[2];switch(t){case"minute":i.ticks(xo.every(e));break;case"hour":i.ticks(Do.every(e));break;case"day":i.ticks(tn.every(e));break;case"week":i.ticks(ls.every(e));break;case"month":i.ticks(Ys.every(e));break}}if(l.append("g").attr("class","grid").attr("transform","translate("+e+", "+(s-50)+")").call(i).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),o.db.topAxisEnabled()||a.topAxis){let n=LV(r).tickSize(-s+t+a.gridLineStartPadding).tickFormat(Kl(o.db.getAxisFormat()||a.axisFormat||"%Y-%m-%d"));if(c!==null){const e=c[1],t=c[2];switch(t){case"minute":n.ticks(xo.every(e));break;case"hour":n.ticks(Do.every(e));break;case"day":n.ticks(tn.every(e));break;case"week":n.ticks(ls.every(e));break;case"month":n.ticks(Ys.every(e));break}}l.append("g").attr("class","grid").attr("transform","translate("+e+", "+t+")").call(n).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function x(e,t){const n=[];let s=0;for(const[t,e]of c.entries())n[t]=[e,A(e,v)];l.append("g").selectAll("text").data(n).enter().append(function(e){const n=e[0].split(h.lineBreakRegex),s=-(n.length-1)/2,t=m.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("dy",s+"em");for(const[s,o]of n.entries()){const e=m.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttribute("alignment-baseline","central"),e.setAttribute("x","10"),s>0&&e.setAttribute("dy","1em"),e.textContent=o,t.appendChild(e)}return t}).attr("x",10).attr("y",function(o,i){if(i>0)for(let a=0;a<i;a++)return s+=n[i-1][1],o[1]*e/2+s*e+t;else return o[1]*e/2+t}).attr("font-size",a.sectionFontSize).attr("font-size",a.sectionFontSize).attr("class",function(e){for(const[t,n]of c.entries())if(e[0]===n)return"sectionTitle sectionTitle"+t%a.numberSectionStyles;return"sectionTitle"})}function C(e,t,n,s){const i=o.db.getTodayMarker();if(i==="off")return;const u=l.append("g").attr("class","today"),c=new Date,d=u.append("line");d.attr("x1",r(c)+e).attr("x2",r(c)+e).attr("y1",a.titleTopMargin).attr("y2",s-a.titleTopMargin).attr("class","today"),i!==""&&d.attr("style",i.replace(/,/g,";"))}function E(e){const t={},n=[];for(let s=0,o=e.length;s<o;++s)Object.prototype.hasOwnProperty.call(t,e[s])||(t[e[s]]=!0,n.push(e[s]));return n}function k(e){let t=e.length;const n={};for(;t;)n[e[--t]]=(n[e[t]]||0)+1;return n}function A(e,t){return k(t)[e]||0}},Rh={setConf:Mh,draw:zh},Cl=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},t=[6,9,10],n={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(t,n,s,o,i,a){switch(a.length-1,i){case 1:return o;case 4:break;case 6:o.setInfo(!0);break}},table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},e(t,[2,3]),e(t,[2,4]),e(t,[2,5]),e(t,[2,6])],defaultActions:{4:[2,1]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,d,u,m,f,g,v,j,y,_,w,S=this,i=[0],b=[],c=[null],n=[],p=this.table,C="",h=0,x=0,k=2,O=1,E=n.slice.call(arguments,1),s=Object.create(this.lexer),l={yy:{}};for(y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(l.yy[y]=this.yy[y]);s.setInput(t,l.yy),l.yy.lexer=s,l.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),w=s.options&&s.options.ranges,typeof l.yy.parseError=="function"?this.parseError=l.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function A(){var e=b.pop()||s.lex()||O;return typeof e!="number"&&(e instanceof Array&&(b=e,e=b.pop()),e=S.symbols_[e]||e),e}for(d={};!0;){if(u=i[i.length-1],this.defaultActions[u]?a=this.defaultActions[u]:((o===null||typeof o=="undefined")&&(o=A()),a=p[u]&&p[u][o]),typeof a=="undefined"||!a.length||!a[0]){g="",f=[];for(m in p[u])this.terminals_[m]&&m>k&&f.push("'"+this.terminals_[m]+"'");s.showPosition?g="Parse error on line "+(h+1)+`:
`+s.showPosition()+`
Expecting `+f.join(", ")+", got '"+(this.terminals_[o]||o)+"'":g="Parse error on line "+(h+1)+": Unexpected "+(o==O?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(g,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:f})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+o);switch(a[0]){case 1:i.push(o),c.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,x=s.yyleng,C=s.yytext,h=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],d.$=c[c.length-r],d._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},w&&(d._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(d,[C,x,h,l.yy,a[1],c,n].concat(E)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),c=c.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),c.push(d.$),n.push(d._$),_=p[i[i.length-2]][i[i.length-1]],i.push(_);break;case 3:return!0}}return!0}},o=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};return e}();n.lexer=o;function s(){this.yy={}}return s.prototype=n,n.Parser=s,new s}(),Cl.parser=Cl,Ph=Cl,$2="",B2=!1,im=t=>{e.debug("Setting message to: "+t),$2=t},cm=()=>$2,fm=e=>{B2=e},Em=()=>B2,Tm={setMessage:im,getMessage:cm,setInfo:fm,getInfo:Em,clear:Ce},zm=(n,s,o)=>{try{e.debug(`Rendering info diagram
`+n);const r=t().securityLevel;let c;r==="sandbox"&&(c=i("#i"+s));const l=i(r==="sandbox"?c.nodes()[0].contentDocument.body:"body"),a=l.select("#"+s),d=a.append("g");d.append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+o),a.attr("height",100),a.attr("width",400)}catch(t){e.error("Error while rendering info diagram"),e.error(t.message)}},$m={draw:zm},k8=e=>e.match(/^\s*info/)!==null,Yc=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},r=[1,4],s=[1,5],a=[1,6],o=[1,7],n=[1,9],i=[1,11,13,15,17,19,20,26,27,28,29],j=[2,5],l=[1,6,11,13,15,17,19,20,26,27,28,29],t=[26,27,28],b=[2,8],y=[1,18],h=[1,19],m=[1,20],f=[1,21],p=[1,22],g=[1,23],v=[1,28],d=[6,26,27,28,29],c={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 4:o.setShowData(!0);break;case 7:this.$=a[c-1];break;case 9:o.addSection(a[c-1],o.cleanupValue(a[c]));break;case 10:this.$=a[c].trim(),o.setDiagramTitle(this.$);break;case 11:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 12:case 13:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 14:o.addSection(a[c].substr(8)),this.$=a[c].substr(8);break;case 21:o.parseDirective("%%{","open_directive");break;case 22:o.parseDirective(a[c],"type_directive");break;case 23:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 24:o.parseDirective("}%%","close_directive","pie");break}},table:[{3:1,4:2,5:3,6:r,21:8,26:s,27:a,28:o,29:n},{1:[3]},{3:10,4:2,5:3,6:r,21:8,26:s,27:a,28:o,29:n},{3:11,4:2,5:3,6:r,21:8,26:s,27:a,28:o,29:n},e(i,j,{7:12,8:[1,13]}),e(l,[2,18]),e(l,[2,19]),e(l,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},e(t,b,{21:8,9:16,10:17,5:24,1:[2,3],11:y,13:h,15:m,17:f,19:p,20:g,29:n}),e(i,j,{7:25}),{23:26,24:[1,27],32:v},e([24,32],[2,22]),e(i,[2,6]),{4:29,26:s,27:a,28:o},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,b,{21:8,9:16,10:17,5:24,1:[2,4],11:y,13:h,15:m,17:f,19:p,20:g,29:n}),e(d,[2,16]),{25:34,31:[1,35]},e(d,[2,24]),e(i,[2,7]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),{23:36,32:v},{32:[2,23]},e(d,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,d,u,m,f,g,v,j,y,_,w,S=this,i=[0],b=[],c=[null],n=[],p=this.table,C="",h=0,x=0,k=2,O=1,E=n.slice.call(arguments,1),s=Object.create(this.lexer),l={yy:{}};for(y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(l.yy[y]=this.yy[y]);s.setInput(t,l.yy),l.yy.lexer=s,l.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),w=s.options&&s.options.ranges,typeof l.yy.parseError=="function"?this.parseError=l.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function A(){var e=b.pop()||s.lex()||O;return typeof e!="number"&&(e instanceof Array&&(b=e,e=b.pop()),e=S.symbols_[e]||e),e}for(d={};!0;){if(u=i[i.length-1],this.defaultActions[u]?a=this.defaultActions[u]:((o===null||typeof o=="undefined")&&(o=A()),a=p[u]&&p[u][o]),typeof a=="undefined"||!a.length||!a[0]){g="",f=[];for(m in p[u])this.terminals_[m]&&m>k&&f.push("'"+this.terminals_[m]+"'");s.showPosition?g="Parse error on line "+(h+1)+`:
`+s.showPosition()+`
Expecting `+f.join(", ")+", got '"+(this.terminals_[o]||o)+"'":g="Parse error on line "+(h+1)+": Unexpected "+(o==O?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(g,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:f})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+o);switch(a[0]){case 1:i.push(o),c.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,x=s.yyleng,C=s.yytext,h=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],d.$=c[c.length-r],d._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},w&&(d._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(d,[C,x,h,l.yy,a[1],c,n].concat(E)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),c=c.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),c.push(d.$),n.push(d._$),_=p[i[i.length-2]][i[i.length-1]],i.push(_);break;case 3:return!0}}return!0}},_=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:break;case 6:break;case 7:return 26;case 8:break;case 9:break;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 20:this.popState();break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};return e}();c.lexer=_;function u(){this.yy={}}return u.prototype=c,c.Parser=u,new u}(),Yc.parser=Yc,V8=Yc,q8=e=>{const t=e.match(/^\s*pie/)!==null||e.match(/^\s*bar/)!==null;return t},Ra={},Nc=!1,Z8=function(e,t,n){_.parseDirective(this,e,t,n)},ef=function(n,s){n=h.sanitizeText(n,t()),Ra[n]===void 0&&(Ra[n]=s,e.debug("Added new section :",n))},sf=()=>Ra,rf=function(e){Nc=e},lf=function(){return Nc},df=function(e){return e.substring(0,1)===":"?(e=e.substring(1).trim(),Number(e.trim())):Number(e.trim())},hf=function(){Ra={},Nc=!1,Ce()},mf={parseDirective:Z8,getConfig:()=>t().pie,addSection:ef,getSections:sf,cleanupValue:df,clear:hf,setAccTitle:je,getAccTitle:Ee,setDiagramTitle:Je,getDiagramTitle:ut,setShowData:rf,getShowData:lf,getAccDescription:xe,setAccDescription:ke},at=t(),Ms=450,Mf=(n,s,o,a)=>{try{at=t(),e.debug(`Rendering info diagram
`+n);const w=t().securityLevel;let _;w==="sandbox"&&(_=i("#i"+s));const C=i(w==="sandbox"?_.nodes()[0].contentDocument.body:"body"),E=w==="sandbox"?_.nodes()[0].contentDocument:document;a.db.clear(),a.parser.parse(n),e.debug("Parsed info diagram");const O=E.getElementById(s);Pt=O.parentElement.offsetWidth,Pt===void 0&&(Pt=1200),at.useWidth!==void 0&&(Pt=at.useWidth),at.pie.useWidth!==void 0&&(Pt=at.pie.useWidth);const x=C.select("#"+s);Fe(x,Ms,Pt,at.pie.useMaxWidth),O.setAttribute("viewBox","0 0 "+Pt+" "+Ms);var c,d,m,p,g,v,b,y=40,r=18,h=4,j=Math.min(Pt,Ms)/2-y,l=x.append("g").attr("transform","translate("+Pt/2+","+Ms/2+")"),u=a.db.getSections(),f=0;Object.keys(u).forEach(function(e){f+=u[e]});const o=at.themeVariables;g=[o.pie1,o.pie2,o.pie3,o.pie4,o.pie5,o.pie6,o.pie7,o.pie8,o.pie9,o.pie10,o.pie11,o.pie12],c=g_().range(g),b=Object.entries(u).map(function(e,t){return{order:t,name:e[0],value:e[1]}}),v=BL().value(function(e){return e.value}).sort(function(e,t){return e.order-t.order}),d=v(b),m=Od().innerRadius(0).outerRadius(j),l.selectAll("mySlices").data(d).enter().append("path").attr("d",m).attr("fill",function(e){return c(e.data.name)}).attr("class","pieCircle"),l.selectAll("mySlices").data(d).enter().append("text").text(function(e){return(e.data.value/f*100).toFixed(0)+"%"}).attr("transform",function(e){return"translate("+m.centroid(e)+")"}).style("text-anchor","middle").attr("class","slice"),l.append("text").text(a.db.getDiagramTitle()).attr("x",0).attr("y",-(Ms-50)/2).attr("class","pieTitleText"),p=l.selectAll(".legend").data(c.domain()).enter().append("g").attr("class","legend").attr("transform",function(e,t){const n=r+h,s=n*c.domain().length/2,o=12*r,i=t*n-s;return"translate("+o+","+i+")"}),p.append("rect").attr("width",r).attr("height",r).style("fill",c).style("stroke",c),p.data(d).append("text").attr("x",r+h).attr("y",r-h).text(function(e){return a.db.getShowData()||at.showData||at.pie.showData?e.data.name+" ["+e.data.value+"]":e.data.name})}catch(t){e.error("Error while rendering info diagram"),e.error(t)}},Df={draw:Mf},tc=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},M=[1,3],s=[1,5],o=[1,6],i=[1,7],n=[1,8],_=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],v=[1,22],g=[2,13],f=[1,26],d=[1,27],u=[1,28],h=[1,29],m=[1,30],l=[1,31],p=[1,24],r=[1,32],a=[1,33],P=[1,36],j=[71,72],R=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],B=[1,56],L=[1,57],N=[1,58],D=[1,59],H=[1,60],I=[1,61],z=[1,62],c=[62,63],C=[1,74],b=[1,70],w=[1,71],y=[1,72],O=[1,73],x=[1,75],E=[1,79],k=[1,80],S=[1,77],A=[1,78],t=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],F={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 6:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 7:case 8:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 9:o.parseDirective("%%{","open_directive");break;case 10:o.parseDirective(a[c],"type_directive");break;case 11:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 12:o.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:o.addRequirement(a[c-3],a[c-4]);break;case 20:o.setNewReqId(a[c-2]);break;case 21:o.setNewReqText(a[c-2]);break;case 22:o.setNewReqRisk(a[c-2]);break;case 23:o.setNewReqVerifyMethod(a[c-2]);break;case 26:this.$=o.RequirementType.REQUIREMENT;break;case 27:this.$=o.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=o.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=o.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=o.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=o.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=o.RiskLevel.LOW_RISK;break;case 33:this.$=o.RiskLevel.MED_RISK;break;case 34:this.$=o.RiskLevel.HIGH_RISK;break;case 35:this.$=o.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=o.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=o.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=o.VerifyType.VERIFY_TEST;break;case 39:o.addElement(a[c-3]);break;case 40:o.setNewElementType(a[c-2]);break;case 41:o.setNewElementDocRef(a[c-2]);break;case 44:o.addRelationship(a[c-2],a[c],a[c-4]);break;case 45:o.addRelationship(a[c-2],a[c-4],a[c]);break;case 46:this.$=o.Relationships.CONTAINS;break;case 47:this.$=o.Relationships.COPIES;break;case 48:this.$=o.Relationships.DERIVES;break;case 49:this.$=o.Relationships.SATISFIES;break;case 50:this.$=o.Relationships.VERIFIES;break;case 51:this.$=o.Relationships.REFINES;break;case 52:this.$=o.Relationships.TRACES;break}},table:[{3:1,4:2,6:M,9:4,14:s,16:o,18:i,19:n},{1:[3]},{3:10,4:2,5:[1,9],6:M,9:4,14:s,16:o,18:i,19:n},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},e(_,[2,8]),{20:[2,9]},{3:16,4:2,6:M,9:4,14:s,16:o,18:i,19:n},{1:[2,2]},{4:21,5:v,7:17,8:g,9:4,14:s,16:o,18:i,19:n,23:18,24:19,25:20,26:23,32:25,40:f,41:d,42:u,43:h,44:m,45:l,53:p,71:r,72:a},{11:34,12:[1,35],22:P},e([12,22],[2,10]),e(_,[2,6]),e(_,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:v,7:38,8:g,9:4,14:s,16:o,18:i,19:n,23:18,24:19,25:20,26:23,32:25,40:f,41:d,42:u,43:h,44:m,45:l,53:p,71:r,72:a},{4:21,5:v,7:39,8:g,9:4,14:s,16:o,18:i,19:n,23:18,24:19,25:20,26:23,32:25,40:f,41:d,42:u,43:h,44:m,45:l,53:p,71:r,72:a},{4:21,5:v,7:40,8:g,9:4,14:s,16:o,18:i,19:n,23:18,24:19,25:20,26:23,32:25,40:f,41:d,42:u,43:h,44:m,45:l,53:p,71:r,72:a},{4:21,5:v,7:41,8:g,9:4,14:s,16:o,18:i,19:n,23:18,24:19,25:20,26:23,32:25,40:f,41:d,42:u,43:h,44:m,45:l,53:p,71:r,72:a},{4:21,5:v,7:42,8:g,9:4,14:s,16:o,18:i,19:n,23:18,24:19,25:20,26:23,32:25,40:f,41:d,42:u,43:h,44:m,45:l,53:p,71:r,72:a},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},e(j,[2,26]),e(j,[2,27]),e(j,[2,28]),e(j,[2,29]),e(j,[2,30]),e(j,[2,31]),e(R,[2,55]),e(R,[2,56]),e(_,[2,4]),{13:51,21:[1,52]},e(_,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:B,65:L,66:N,67:D,68:H,69:I,70:z},{61:63,64:B,65:L,66:N,67:D,68:H,69:I,70:z},{11:64,22:P},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},e(c,[2,46]),e(c,[2,47]),e(c,[2,48]),e(c,[2,49]),e(c,[2,50]),e(c,[2,51]),e(c,[2,52]),{63:[1,68]},e(_,[2,5]),{5:C,29:69,30:b,33:w,35:y,37:O,39:x},{5:E,39:k,55:76,56:S,58:A},{32:81,71:r,72:a},{32:82,71:r,72:a},e(t,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:C,29:87,30:b,33:w,35:y,37:O,39:x},e(t,[2,25]),e(t,[2,39]),{31:[1,88]},{31:[1,89]},{5:E,39:k,55:90,56:S,58:A},e(t,[2,43]),e(t,[2,44]),e(t,[2,45]),{32:91,71:r,72:a},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},e(t,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},e(t,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:C,29:116,30:b,33:w,35:y,37:O,39:x},{5:C,29:117,30:b,33:w,35:y,37:O,39:x},{5:C,29:118,30:b,33:w,35:y,37:O,39:x},{5:C,29:119,30:b,33:w,35:y,37:O,39:x},{5:E,39:k,55:120,56:S,58:A},{5:E,39:k,55:121,56:S,58:A},e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),e(t,[2,23]),e(t,[2,40]),e(t,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,d,u,m,f,g,v,j,y,_,w,S=this,i=[0],b=[],c=[null],n=[],p=this.table,C="",h=0,x=0,k=2,O=1,E=n.slice.call(arguments,1),s=Object.create(this.lexer),l={yy:{}};for(y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(l.yy[y]=this.yy[y]);s.setInput(t,l.yy),l.yy.lexer=s,l.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),w=s.options&&s.options.ranges,typeof l.yy.parseError=="function"?this.parseError=l.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function A(){var e=b.pop()||s.lex()||O;return typeof e!="number"&&(e instanceof Array&&(b=e,e=b.pop()),e=S.symbols_[e]||e),e}for(d={};!0;){if(u=i[i.length-1],this.defaultActions[u]?a=this.defaultActions[u]:((o===null||typeof o=="undefined")&&(o=A()),a=p[u]&&p[u][o]),typeof a=="undefined"||!a.length||!a[0]){g="",f=[];for(m in p[u])this.terminals_[m]&&m>k&&f.push("'"+this.terminals_[m]+"'");s.showPosition?g="Parse error on line "+(h+1)+`:
`+s.showPosition()+`
Expecting `+f.join(", ")+", got '"+(this.terminals_[o]||o)+"'":g="Parse error on line "+(h+1)+": Unexpected "+(o==O?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(g,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:f})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+o);switch(a[0]){case 1:i.push(o),c.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,x=s.yyleng,C=s.yytext,h=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],d.$=c[c.length-r],d._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},w&&(d._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(d,[C,x,h,l.yy,a[1],c,n].concat(E)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),c=c.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),c.push(d.$),n.push(d._$),_=p[i[i.length-2]][i[i.length-1]],i.push(_);break;case 3:return!0}}return!0}},V=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:break;case 15:break;case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 53:this.popState();break;case 54:return"qString";case 55:return n.yytext=n.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n{<>\-=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};return e}();F.lexer=V;function T(){this.yy={}}return T.prototype=F,F.Parser=T,new T}(),tc.parser=tc,Pf=tc,If=e=>e.match(/^\s*requirement(Diagram)?/)!==null,Zr=[],oe={},Ks={},Bt={},to={},y6={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},N6={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},Z6={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},ep={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},ap=function(e,t,n){_.parseDirective(this,e,t,n)},pp=(e,t)=>(Ks[e]===void 0&&(Ks[e]={name:e,type:t,id:oe.id,text:oe.text,risk:oe.risk,verifyMethod:oe.verifyMethod}),oe={},Ks[e]),Cp=()=>Ks,Xp=e=>{oe!==void 0&&(oe.id=e)},Zp=e=>{oe!==void 0&&(oe.text=e)},tg=e=>{oe!==void 0&&(oe.risk=e)},dg=e=>{oe!==void 0&&(oe.verifyMethod=e)},fg=t=>(to[t]===void 0&&(to[t]={name:t,type:Bt.type,docRef:Bt.docRef},e.info("Added new requirement: ",t)),Bt={},to[t]),Pg=()=>to,qg=e=>{Bt!==void 0&&(Bt.type=e)},Xg=e=>{Bt!==void 0&&(Bt.docRef=e)},Zg=(e,t,n)=>{Zr.push({type:e,src:t,dst:n})},h5=()=>Zr,f5=()=>{Zr=[],oe={},Ks={},Bt={},to={},Ce()},S5={RequirementType:y6,RiskLevel:N6,VerifyType:Z6,Relationships:ep,parseDirective:ap,getConfig:()=>t().req,addRequirement:pp,getRequirements:Cp,setNewReqId:Xp,setNewReqText:Zp,setNewReqRisk:tg,setNewReqVerifyMethod:dg,setAccTitle:je,getAccTitle:Ee,setAccDescription:ke,getAccDescription:xe,addElement:fg,getElements:Pg,setNewElementType:qg,setNewElementDocRef:Xg,addRelationship:Zg,getRelationships:h5,clear:f5},sr={CONTAINS:"contains",ARROW:"arrow"},wv=(e,t)=>{let n=e.append("defs").append("marker").attr("id",sr.CONTAINS+"_line_ending").attr("refX",0).attr("refY",t.line_height/2).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("g");n.append("circle").attr("cx",t.line_height/2).attr("cy",t.line_height/2).attr("r",t.line_height/2).attr("fill","none"),n.append("line").attr("x1",0).attr("x2",t.line_height).attr("y1",t.line_height/2).attr("y2",t.line_height/2).attr("stroke-width",1),n.append("line").attr("y1",0).attr("y2",t.line_height).attr("x1",t.line_height/2).attr("x2",t.line_height/2).attr("stroke-width",1),e.append("defs").append("marker").attr("id",sr.ARROW+"_line_ending").attr("refX",t.line_height).attr("refY",.5*t.line_height).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${t.line_height},${t.line_height/2}
      M${t.line_height},${t.line_height/2}
      L0,${t.line_height}`).attr("stroke-width",1)},iu={ReqMarkers:sr,insertLineEndings:wv},x={},su=0,tu=(e,t)=>e.insert("rect","#"+t).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",x.rect_min_width+"px").attr("height",x.rect_min_height+"px"),Zd=(e,t,n)=>{let a=x.rect_min_width/2,s=e.append("text").attr("class","req reqLabel reqTitle").attr("id",t).attr("x",a).attr("y",x.rect_padding).attr("dominant-baseline","hanging"),o=0;n.forEach(e=>{o==0?s.append("tspan").attr("text-anchor","middle").attr("x",x.rect_min_width/2).attr("dy",0).text(e):s.append("tspan").attr("text-anchor","middle").attr("x",x.rect_min_width/2).attr("dy",x.line_height*.75).text(e),o++});let r=1.5*x.rect_padding,c=o*x.line_height*.75,i=r+c;return e.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",x.rect_min_width).attr("y1",i).attr("y2",i),{titleNode:s,y:i}},Qd=(e,t,n,s)=>{let r=e.append("text").attr("class","req reqLabel").attr("id",t).attr("x",x.rect_padding).attr("y",s).attr("dominant-baseline","hanging"),i=0;const a=30;let o=[];return n.forEach(e=>{let t=e.length;for(;t>a&&i<3;){let n=e.substring(0,a);e=e.substring(a,e.length),t=e.length,o[o.length]=n,i++}if(i==3){let e=o[o.length-1];o[o.length-1]=e.substring(0,e.length-4)+"..."}else o[o.length]=e;i=0}),o.forEach(e=>{r.append("tspan").attr("x",x.rect_padding).attr("dy",x.line_height).text(e)}),r},Wv=(e,t,n,s)=>{const r=t.node().getTotalLength(),o=t.node().getPointAtLength(r*.5),a="rel"+su;su++;const c=e.append("text").attr("class","req relationshipLabel").attr("id",a).attr("x",o.x).attr("y",o.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(s),i=c.node().getBBox();e.insert("rect","#"+a).attr("class","req reqLabelBox").attr("x",o.x-i.width/2).attr("y",o.y-i.height/2).attr("width",i.width).attr("height",i.height).attr("fill","white").attr("fill-opacity","85%")},Kv=function(e,t,n,s,o){const a=n.edge(ts(t.src),ts(t.dst)),r=uo().x(function(e){return e.x}).y(function(e){return e.y}),i=e.insert("path","#"+s).attr("class","er relationshipLine").attr("d",r(a.points)).attr("fill","none");t.type==o.db.Relationships.CONTAINS?i.attr("marker-start","url("+h.getUrl(x.arrowMarkerAbsolute)+"#"+t.type+"_line_ending)"):(i.attr("stroke-dasharray","10,7"),i.attr("marker-end","url("+h.getUrl(x.arrowMarkerAbsolute)+"#"+iu.ReqMarkers.ARROW+"_line_ending)")),Wv(e,i,x,`<<${t.type}>>`)},Qv=(t,n,s)=>{Object.keys(t).forEach(o=>{let i=t[o];o=ts(o),e.info("Added new requirement: ",o);const a=s.append("g").attr("id",o),c="req-"+o,l=tu(a,c);let d=Zd(a,o+"_title",[`<<${i.type}>>`,`${i.name}`]);Qd(a,o+"_body",[`Id: ${i.id}`,`Text: ${i.text}`,`Risk: ${i.risk}`,`Verification: ${i.verifyMethod}`],d.y);const r=l.node().getBBox();n.setNode(o,{width:r.width,height:r.height,shape:"rect",id:o})})},e9=(e,t,n)=>{Object.keys(e).forEach(s=>{let r=e[s];const o=ts(s),i=n.append("g").attr("id",o),a="element-"+o,l=tu(i,a);let d=Zd(i,a+"_title",[`<<Element>>`,`${s}`]);Qd(i,a+"_body",[`Type: ${r.type||"Not Specified"}`,`Doc Ref: ${r.docRef||"None"}`],d.y);const c=l.node().getBBox();t.setNode(o,{width:c.width,height:c.height,shape:"rect",id:o})})},t9=(e,t)=>(e.forEach(function(e){let n=ts(e.src),s=ts(e.dst);t.setEdge(n,s,{relationship:e})}),e),n9=function(e,t){t.nodes().forEach(function(n){n!==void 0&&t.node(n)!==void 0&&(e.select("#"+n),e.select("#"+n).attr("transform","translate("+(t.node(n).x-t.node(n).width/2)+","+(t.node(n).y-t.node(n).height/2)+" )"))})},ts=e=>e.replace(/\s/g,"").replace(/\./g,"_"),s9=(e,n,s,o)=>{x=t().requirement,o.db.clear(),o.parser.parse(e);const d=x.securityLevel;let u;d==="sandbox"&&(u=i("#i"+n));const g=i(d==="sandbox"?u.nodes()[0].contentDocument.body:"body"),a=g.select(`[id='${n}']`);iu.insertLineEndings(a,x);const r=new z({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:x.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let v=o.db.getRequirements(),p=o.db.getElements(),m=o.db.getRelationships();Qv(v,r,a),e9(p,r,a),t9(m,r),Rs(r),n9(a,r),m.forEach(function(e){Kv(a,e,r,n,o)});const c=x.rect_padding,l=a.node().getBBox(),f=l.width+c*2,h=l.height+c*2;Fe(a,h,f,x.useMaxWidth),a.attr("viewBox",`${l.x-c} ${l.y-c} ${f} ${h}`)},a9={draw:s9},hl=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},T=[1,2],F=[1,3],D=[1,5],s=[1,7],o=[2,5],S=[1,15],A=[1,17],c=[1,18],l=[1,19],d=[1,21],u=[1,22],h=[1,23],m=[1,29],f=[1,30],p=[1,31],g=[1,32],v=[1,33],b=[1,34],j=[1,35],y=[1,36],k=[1,37],w=[1,38],O=[1,39],x=[1,40],C=[1,43],E=[1,44],i=[1,45],r=[1,46],a=[1,47],n=[1,48],P=[1,51],t=[1,4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],z=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,53,58,59,60,61,69,79],I=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,52,53,58,59,60,61,69,79],B=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,51,53,58,59,60,61,69,79],R=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,53,58,59,60,61,69,79],M=[67,68,69],_=[1,121],H=[1,4,5,7,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],N={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,NUM:23,off:24,activate:25,deactivate:26,note_statement:27,links_statement:28,link_statement:29,properties_statement:30,details_statement:31,title:32,legacy_title:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,loop:39,end:40,rect:41,opt:42,alt:43,else_sections:44,par:45,par_sections:46,critical:47,option_sections:48,break:49,option:50,and:51,else:52,note:53,placement:54,text2:55,over:56,actor_pair:57,links:58,link:59,properties:60,details:61,spaceList:62,",":63,left_of:64,right_of:65,signaltype:66,"+":67,"-":68,ACTOR:69,SOLID_OPEN_ARROW:70,DOTTED_OPEN_ARROW:71,SOLID_ARROW:72,DOTTED_ARROW:73,SOLID_CROSS:74,DOTTED_CROSS:75,SOLID_POINT:76,DOTTED_POINT:77,TXT:78,open_directive:79,type_directive:80,arg_directive:81,close_directive:82,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"NUM",24:"off",25:"activate",26:"deactivate",32:"title",33:"legacy_title",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",39:"loop",40:"end",41:"rect",42:"opt",43:"alt",45:"par",47:"critical",49:"break",50:"option",51:"and",52:"else",53:"note",56:"over",58:"links",59:"link",60:"properties",61:"details",63:",",64:"left_of",65:"right_of",67:"+",68:"-",69:"ACTOR",70:"SOLID_OPEN_ARROW",71:"DOTTED_OPEN_ARROW",72:"SOLID_ARROW",73:"DOTTED_ARROW",74:"SOLID_CROSS",75:"DOTTED_CROSS",76:"SOLID_POINT",77:"DOTTED_POINT",78:"TXT",79:"open_directive",80:"type_directive",81:"arg_directive",82:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[48,1],[48,4],[46,1],[46,4],[44,1],[44,4],[27,4],[27,4],[28,3],[29,3],[30,3],[31,3],[62,2],[62,1],[57,3],[57,1],[54,1],[54,1],[21,5],[21,5],[21,4],[17,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[55,1],[11,1],[12,1],[15,1],[13,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 4:return o.apply(a[c]),a[c];case 5:this.$=[];break;case 6:a[c-1].push(a[c]),this.$=a[c-1];break;case 7:case 8:this.$=a[c];break;case 9:this.$=[];break;case 12:a[c-3].type="addParticipant",a[c-3].description=o.parseMessage(a[c-1]),this.$=a[c-3];break;case 13:a[c-1].type="addParticipant",this.$=a[c-1];break;case 14:a[c-3].type="addActor",a[c-3].description=o.parseMessage(a[c-1]),this.$=a[c-3];break;case 15:a[c-1].type="addActor",this.$=a[c-1];break;case 17:this.$={type:"sequenceIndex",sequenceIndex:Number(a[c-2]),sequenceIndexStep:Number(a[c-1]),sequenceVisible:!0,signalType:o.LINETYPE.AUTONUMBER};break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(a[c-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:o.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:o.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:o.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"activeStart",signalType:o.LINETYPE.ACTIVE_START,actor:a[c-1]};break;case 22:this.$={type:"activeEnd",signalType:o.LINETYPE.ACTIVE_END,actor:a[c-1]};break;case 28:o.setDiagramTitle(a[c].substring(6)),this.$=a[c].substring(6);break;case 29:o.setDiagramTitle(a[c].substring(7)),this.$=a[c].substring(7);break;case 30:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 31:case 32:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 33:a[c-1].unshift({type:"loopStart",loopText:o.parseMessage(a[c-2]),signalType:o.LINETYPE.LOOP_START}),a[c-1].push({type:"loopEnd",loopText:a[c-2],signalType:o.LINETYPE.LOOP_END}),this.$=a[c-1];break;case 34:a[c-1].unshift({type:"rectStart",color:o.parseMessage(a[c-2]),signalType:o.LINETYPE.RECT_START}),a[c-1].push({type:"rectEnd",color:o.parseMessage(a[c-2]),signalType:o.LINETYPE.RECT_END}),this.$=a[c-1];break;case 35:a[c-1].unshift({type:"optStart",optText:o.parseMessage(a[c-2]),signalType:o.LINETYPE.OPT_START}),a[c-1].push({type:"optEnd",optText:o.parseMessage(a[c-2]),signalType:o.LINETYPE.OPT_END}),this.$=a[c-1];break;case 36:a[c-1].unshift({type:"altStart",altText:o.parseMessage(a[c-2]),signalType:o.LINETYPE.ALT_START}),a[c-1].push({type:"altEnd",signalType:o.LINETYPE.ALT_END}),this.$=a[c-1];break;case 37:a[c-1].unshift({type:"parStart",parText:o.parseMessage(a[c-2]),signalType:o.LINETYPE.PAR_START}),a[c-1].push({type:"parEnd",signalType:o.LINETYPE.PAR_END}),this.$=a[c-1];break;case 38:a[c-1].unshift({type:"criticalStart",criticalText:o.parseMessage(a[c-2]),signalType:o.LINETYPE.CRITICAL_START}),a[c-1].push({type:"criticalEnd",signalType:o.LINETYPE.CRITICAL_END}),this.$=a[c-1];break;case 39:a[c-1].unshift({type:"breakStart",breakText:o.parseMessage(a[c-2]),signalType:o.LINETYPE.BREAK_START}),a[c-1].push({type:"breakEnd",optText:o.parseMessage(a[c-2]),signalType:o.LINETYPE.BREAK_END}),this.$=a[c-1];break;case 42:this.$=a[c-3].concat([{type:"option",optionText:o.parseMessage(a[c-1]),signalType:o.LINETYPE.CRITICAL_OPTION},a[c]]);break;case 44:this.$=a[c-3].concat([{type:"and",parText:o.parseMessage(a[c-1]),signalType:o.LINETYPE.PAR_AND},a[c]]);break;case 46:this.$=a[c-3].concat([{type:"else",altText:o.parseMessage(a[c-1]),signalType:o.LINETYPE.ALT_ELSE},a[c]]);break;case 47:this.$=[a[c-1],{type:"addNote",placement:a[c-2],actor:a[c-1].actor,text:a[c]}];break;case 48:a[c-2]=[].concat(a[c-1],a[c-1]).slice(0,2),a[c-2][0]=a[c-2][0].actor,a[c-2][1]=a[c-2][1].actor,this.$=[a[c-1],{type:"addNote",placement:o.PLACEMENT.OVER,actor:a[c-2].slice(0,2),text:a[c]}];break;case 49:this.$=[a[c-1],{type:"addLinks",actor:a[c-1].actor,text:a[c]}];break;case 50:this.$=[a[c-1],{type:"addALink",actor:a[c-1].actor,text:a[c]}];break;case 51:this.$=[a[c-1],{type:"addProperties",actor:a[c-1].actor,text:a[c]}];break;case 52:this.$=[a[c-1],{type:"addDetails",actor:a[c-1].actor,text:a[c]}];break;case 55:this.$=[a[c-2],a[c]];break;case 56:this.$=a[c];break;case 57:this.$=o.PLACEMENT.LEFTOF;break;case 58:this.$=o.PLACEMENT.RIGHTOF;break;case 59:this.$=[a[c-4],a[c-1],{type:"addMessage",from:a[c-4].actor,to:a[c-1].actor,signalType:a[c-3],msg:a[c]},{type:"activeStart",signalType:o.LINETYPE.ACTIVE_START,actor:a[c-1]}];break;case 60:this.$=[a[c-4],a[c-1],{type:"addMessage",from:a[c-4].actor,to:a[c-1].actor,signalType:a[c-3],msg:a[c]},{type:"activeEnd",signalType:o.LINETYPE.ACTIVE_END,actor:a[c-4]}];break;case 61:this.$=[a[c-3],a[c-1],{type:"addMessage",from:a[c-3].actor,to:a[c-1].actor,signalType:a[c-2],msg:a[c]}];break;case 62:this.$={type:"addParticipant",actor:a[c]};break;case 63:this.$=o.LINETYPE.SOLID_OPEN;break;case 64:this.$=o.LINETYPE.DOTTED_OPEN;break;case 65:this.$=o.LINETYPE.SOLID;break;case 66:this.$=o.LINETYPE.DOTTED;break;case 67:this.$=o.LINETYPE.SOLID_CROSS;break;case 68:this.$=o.LINETYPE.DOTTED_CROSS;break;case 69:this.$=o.LINETYPE.SOLID_POINT;break;case 70:this.$=o.LINETYPE.DOTTED_POINT;break;case 71:this.$=o.parseMessage(a[c].trim().substring(1));break;case 72:o.parseDirective("%%{","open_directive");break;case 73:o.parseDirective(a[c],"type_directive");break;case 74:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 75:o.parseDirective("}%%","close_directive","sequence");break}},table:[{3:1,4:T,5:F,6:4,7:D,11:6,79:s},{1:[3]},{3:8,4:T,5:F,6:4,7:D,11:6,79:s},{3:9,4:T,5:F,6:4,7:D,11:6,79:s},{3:10,4:T,5:F,6:4,7:D,11:6,79:s},e([1,4,5,16,20,22,25,26,32,33,34,36,38,39,41,42,43,45,47,49,53,58,59,60,61,69,79],o,{8:11}),{12:12,80:[1,13]},{80:[2,72]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:S,5:A,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:d,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,41:j,42:y,43:k,45:w,47:O,49:x,53:C,58:E,59:i,60:r,61:a,69:n,79:s},{13:49,14:[1,50],82:P},e([14,82],[2,73]),e(t,[2,6]),{6:41,10:52,11:6,16:c,17:42,20:l,21:20,22:d,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,41:j,42:y,43:k,45:w,47:O,49:x,53:C,58:E,59:i,60:r,61:a,69:n,79:s},e(t,[2,8]),e(t,[2,9]),{17:53,69:n},{17:54,69:n},{5:[1,55]},{5:[1,58],23:[1,56],24:[1,57]},{17:59,69:n},{17:60,69:n},{5:[1,61]},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},e(t,[2,28]),e(t,[2,29]),{35:[1,66]},{37:[1,67]},e(t,[2,32]),{19:[1,68]},{19:[1,69]},{19:[1,70]},{19:[1,71]},{19:[1,72]},{19:[1,73]},{19:[1,74]},e(t,[2,40]),{66:75,70:[1,76],71:[1,77],72:[1,78],73:[1,79],74:[1,80],75:[1,81],76:[1,82],77:[1,83]},{54:84,56:[1,85],64:[1,86],65:[1,87]},{17:88,69:n},{17:89,69:n},{17:90,69:n},{17:91,69:n},e([5,18,63,70,71,72,73,74,75,76,77,78],[2,62]),{5:[1,92]},{15:93,81:[1,94]},{5:[2,75]},e(t,[2,7]),{5:[1,96],18:[1,95]},{5:[1,98],18:[1,97]},e(t,[2,16]),{5:[1,100],23:[1,99]},{5:[1,101]},e(t,[2,20]),{5:[1,102]},{5:[1,103]},e(t,[2,23]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),e(t,[2,27]),e(t,[2,30]),e(t,[2,31]),e(z,o,{8:104}),e(z,o,{8:105}),e(z,o,{8:106}),e(I,o,{44:107,8:108}),e(B,o,{46:109,8:110}),e(R,o,{48:111,8:112}),e(z,o,{8:113}),{17:116,67:[1,114],68:[1,115],69:n},e(M,[2,63]),e(M,[2,64]),e(M,[2,65]),e(M,[2,66]),e(M,[2,67]),e(M,[2,68]),e(M,[2,69]),e(M,[2,70]),{17:117,69:n},{17:119,57:118,69:n},{69:[2,57]},{69:[2,58]},{55:120,78:_},{55:122,78:_},{55:123,78:_},{55:124,78:_},e(H,[2,10]),{13:125,82:P},{82:[2,74]},{19:[1,126]},e(t,[2,13]),{19:[1,127]},e(t,[2,15]),{5:[1,128]},e(t,[2,18]),e(t,[2,19]),e(t,[2,21]),e(t,[2,22]),{4:S,5:A,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:d,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,40:[1,129],41:j,42:y,43:k,45:w,47:O,49:x,53:C,58:E,59:i,60:r,61:a,69:n,79:s},{4:S,5:A,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:d,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,40:[1,130],41:j,42:y,43:k,45:w,47:O,49:x,53:C,58:E,59:i,60:r,61:a,69:n,79:s},{4:S,5:A,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:d,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,40:[1,131],41:j,42:y,43:k,45:w,47:O,49:x,53:C,58:E,59:i,60:r,61:a,69:n,79:s},{40:[1,132]},{4:S,5:A,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:d,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,40:[2,45],41:j,42:y,43:k,45:w,47:O,49:x,52:[1,133],53:C,58:E,59:i,60:r,61:a,69:n,79:s},{40:[1,134]},{4:S,5:A,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:d,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,40:[2,43],41:j,42:y,43:k,45:w,47:O,49:x,51:[1,135],53:C,58:E,59:i,60:r,61:a,69:n,79:s},{40:[1,136]},{4:S,5:A,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:d,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,40:[2,41],41:j,42:y,43:k,45:w,47:O,49:x,50:[1,137],53:C,58:E,59:i,60:r,61:a,69:n,79:s},{4:S,5:A,6:41,9:14,10:16,11:6,16:c,17:42,20:l,21:20,22:d,25:u,26:h,27:24,28:25,29:26,30:27,31:28,32:m,33:f,34:p,36:g,38:v,39:b,40:[1,138],41:j,42:y,43:k,45:w,47:O,49:x,53:C,58:E,59:i,60:r,61:a,69:n,79:s},{17:139,69:n},{17:140,69:n},{55:141,78:_},{55:142,78:_},{55:143,78:_},{63:[1,144],78:[2,56]},{5:[2,49]},{5:[2,71]},{5:[2,50]},{5:[2,51]},{5:[2,52]},{5:[1,145]},{5:[1,146]},{5:[1,147]},e(t,[2,17]),e(t,[2,33]),e(t,[2,34]),e(t,[2,35]),e(t,[2,36]),{19:[1,148]},e(t,[2,37]),{19:[1,149]},e(t,[2,38]),{19:[1,150]},e(t,[2,39]),{55:151,78:_},{55:152,78:_},{5:[2,61]},{5:[2,47]},{5:[2,48]},{17:153,69:n},e(H,[2,11]),e(t,[2,12]),e(t,[2,14]),e(I,o,{8:108,44:154}),e(B,o,{8:110,46:155}),e(R,o,{8:112,48:156}),{5:[2,59]},{5:[2,60]},{78:[2,55]},{40:[2,46]},{40:[2,44]},{40:[2,42]}],defaultActions:{7:[2,72],8:[2,1],9:[2,2],10:[2,3],51:[2,75],86:[2,57],87:[2,58],94:[2,74],120:[2,49],121:[2,71],122:[2,50],123:[2,51],124:[2,52],141:[2,61],142:[2,47],143:[2,48],151:[2,59],152:[2,60],153:[2,55],154:[2,46],155:[2,44],156:[2,42]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,d,u,m,f,g,v,j,y,_,w,S=this,i=[0],b=[],c=[null],n=[],p=this.table,C="",h=0,x=0,k=2,O=1,E=n.slice.call(arguments,1),s=Object.create(this.lexer),l={yy:{}};for(y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(l.yy[y]=this.yy[y]);s.setInput(t,l.yy),l.yy.lexer=s,l.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),w=s.options&&s.options.ranges,typeof l.yy.parseError=="function"?this.parseError=l.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function A(){var e=b.pop()||s.lex()||O;return typeof e!="number"&&(e instanceof Array&&(b=e,e=b.pop()),e=S.symbols_[e]||e),e}for(d={};!0;){if(u=i[i.length-1],this.defaultActions[u]?a=this.defaultActions[u]:((o===null||typeof o=="undefined")&&(o=A()),a=p[u]&&p[u][o]),typeof a=="undefined"||!a.length||!a[0]){g="",f=[];for(m in p[u])this.terminals_[m]&&m>k&&f.push("'"+this.terminals_[m]+"'");s.showPosition?g="Parse error on line "+(h+1)+`:
`+s.showPosition()+`
Expecting `+f.join(", ")+", got '"+(this.terminals_[o]||o)+"'":g="Parse error on line "+(h+1)+": Unexpected "+(o==O?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(g,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:f})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+o);switch(a[0]){case 1:i.push(o),c.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,x=s.yyleng,C=s.yytext,h=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],d.$=c[c.length-r],d._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},w&&(d._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(d,[C,x,h,l.yy,a[1],c,n].concat(E)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),c=c.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),c.push(d.$),n.push(d._$),_=p[i[i.length-2]][i[i.length-1]],i.push(_);break;case 3:return!0}}return!0}},V=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),79;case 1:return this.begin("type_directive"),80;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),82;case 4:return 81;case 5:return 5;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:return 23;case 12:return this.begin("ID"),16;case 13:return this.begin("ID"),20;case 14:return n.yytext=n.yytext.trim(),this.begin("ALIAS"),69;case 15:return this.popState(),this.popState(),this.begin("LINE"),18;case 16:return this.popState(),this.popState(),5;case 17:return this.begin("LINE"),39;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),52;case 22:return this.begin("LINE"),45;case 23:return this.begin("LINE"),51;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),50;case 26:return this.begin("LINE"),49;case 27:return this.popState(),19;case 28:return 40;case 29:return 64;case 30:return 65;case 31:return 58;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 56;case 36:return 53;case 37:return this.begin("ID"),25;case 38:return this.begin("ID"),26;case 39:return 32;case 40:return 33;case 41:return this.begin("acc_title"),34;case 42:return this.popState(),"acc_title_value";case 43:return this.begin("acc_descr"),36;case 44:return this.popState(),"acc_descr_value";case 45:this.begin("acc_descr_multiline");break;case 46:this.popState();break;case 47:return"acc_descr_multiline_value";case 48:return 7;case 49:return 22;case 50:return 24;case 51:return 63;case 52:return 5;case 53:return n.yytext=n.yytext.trim(),69;case 54:return 72;case 55:return 73;case 56:return 70;case 57:return 71;case 58:return 74;case 59:return 75;case 60:return 76;case 61:return 77;case 62:return 78;case 63:return 67;case 64:return 68;case 65:return 5;case 66:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^->:\n,;]+?([-]*[^->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^+\->:\n,;]+((?!(-x|--x|-\)|--\)))[-]*[^+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[)])/i,/^(?:--[)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[46,47],inclusive:!1},acc_descr:{rules:[44],inclusive:!1},acc_title:{rules:[42],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,14],inclusive:!1},ALIAS:{rules:[7,8,15,16],inclusive:!1},LINE:{rules:[7,8,27],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,45,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],inclusive:!0}}};return e}();N.lexer=V;function L(){this.yy={}}return L.prototype=N,N.Parser=L,new L}(),hl.parser=hl,l9=hl,d9=e=>e.match(/^\s*sequenceDiagram/)!==null,Xs=void 0,Ht={},Ae=[],Ii=!1,k9=function(e,t,n){_.parseDirective(this,e,t,n)},Mc=function(e,t,n,s){const o=Ht[e];if(o&&t===o.name&&n==null)return;(n==null||n.text==null)&&(n={text:t,wrap:null,type:s}),(s==null||n.text==null)&&(n={text:t,wrap:null,type:s}),Ht[e]={name:t,description:n.text,wrap:n.wrap===void 0&&Hn()||!!n.wrap,prevActor:Xs,links:{},properties:{},actorCnt:null,rectData:null,type:s||"participant"},Xs&&Ht[Xs]&&(Ht[Xs].nextActor=e),Xs=e},M9=e=>{let t,n=0;for(t=0;t<Ae.length;t++)Ae[t].type===Bs.ACTIVE_START&&Ae[t].from.actor===e&&n++,Ae[t].type===Bs.ACTIVE_END&&Ae[t].from.actor===e&&n--;return n},N9=function(e,t,n,s){Ae.push({from:e,to:t,message:n.text,wrap:n.wrap===void 0&&Hn()||!!n.wrap,answer:s})},E=function(e,t,n={text:void 0,wrap:void 0},s){if(s===Bs.ACTIVE_END){const t=M9(e.actor);if(t<1){let t=new Error("Trying to inactivate an inactive participant ("+e.actor+")");throw t.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},t}}return Ae.push({from:e,to:t,message:n.text,wrap:n.wrap===void 0&&Hn()||!!n.wrap,type:s}),!0},L9=function(){return Ae},tb=function(){return Ht},Cs=function(e){return Ht[e]},nb=function(){return Object.keys(Ht)},ab=function(){Ii=!0},fb=function(){Ii=!1},pb=()=>Ii,gb=function(e){ed=e},Hn=()=>ed!==void 0?ed:t().sequence.wrap,bb=function(){Ht={},Ae=[],Ii=!1,Ce()},Ab=function(t){const n=t.trim(),s={text:n.replace(/^:?(?:no)?wrap:/,"").trim(),wrap:n.match(/^:?wrap:/)!==null||n.match(/^:?nowrap:/)===null&&void 0};return e.debug("parseMessage:",s),s},Bs={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},Tb={FILLED:0,OPEN:1},Nb={LEFTOF:0,RIGHTOF:1,OVER:2},cd=function(e,t,n){({actor:e,placement:t,message:n.text,wrap:n.wrap===void 0&&Hn()||!!n.wrap});const s=[].concat(e,e);Ae.push({from:s[0],to:s[1],message:n.text,wrap:n.wrap===void 0&&Hn()||!!n.wrap,type:Bs.NOTE,placement:t})},ld=function(n,s){const o=Cs(n);try{let e=Le(s.text,t());e=e.replace(/&amp;/g,"&"),e=e.replace(/&equals;/g,"=");const n=JSON.parse(e);ud(o,n)}catch(t){e.error("error while parsing actor link text",t)}},Hb=function(n,s){const r=Cs(n);try{const n={};let e=Le(s.text,t());var i,a,o=e.indexOf("@");e=e.replace(/&amp;/g,"&"),e=e.replace(/&equals;/g,"="),i=e.slice(0,o-1).trim(),a=e.slice(o+1).trim(),n[i]=a,ud(r,n)}catch(t){e.error("error while parsing actor link text",t)}};function ud(e,t){if(e.links==null)e.links=t;else for(let n in t)e.links[n]=t[n]}md=function(n,s){const o=Cs(n);try{let e=Le(s.text,t());const n=JSON.parse(e);Vb(o,n)}catch(t){e.error("error while parsing actor properties text",t)}};function Vb(e,t){if(e.properties==null)e.properties=t;else for(let n in t)e.properties[n]=t[n]}gd=function(t,n){const s=Cs(t),o=document.getElementById(n.text);try{const t=o.innerHTML,e=JSON.parse(t);e.properties&&Vb(s,e.properties),e.links&&ud(s,e.links)}catch(t){e.error("error while parsing actor details text",t)}},$b=function(e,t){return e!==void 0&&e.properties!==void 0?e.properties[t]:void 0},vd=function(e){if(Array.isArray(e))e.forEach(function(e){vd(e)});else switch(e.type){case"sequenceIndex":Ae.push({from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":Mc(e.actor,e.actor,e.description,"participant");break;case"addActor":Mc(e.actor,e.actor,e.description,"actor");break;case"activeStart":E(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":E(e.actor,void 0,void 0,e.signalType);break;case"addNote":cd(e.actor,e.placement,e.text);break;case"addLinks":ld(e.actor,e.text);break;case"addALink":Hb(e.actor,e.text);break;case"addProperties":md(e.actor,e.text);break;case"addDetails":gd(e.actor,e.text);break;case"addMessage":E(e.from,e.to,e.msg,e.signalType);break;case"loopStart":E(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":E(void 0,void 0,void 0,e.signalType);break;case"rectStart":E(void 0,void 0,e.color,e.signalType);break;case"rectEnd":E(void 0,void 0,void 0,e.signalType);break;case"optStart":E(void 0,void 0,e.optText,e.signalType);break;case"optEnd":E(void 0,void 0,void 0,e.signalType);break;case"altStart":E(void 0,void 0,e.altText,e.signalType);break;case"else":E(void 0,void 0,e.altText,e.signalType);break;case"altEnd":E(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":je(e.text);break;case"parStart":E(void 0,void 0,e.parText,e.signalType);break;case"and":E(void 0,void 0,e.parText,e.signalType);break;case"parEnd":E(void 0,void 0,void 0,e.signalType);break;case"criticalStart":E(void 0,void 0,e.criticalText,e.signalType);break;case"option":E(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":E(void 0,void 0,void 0,e.signalType);break;case"breakStart":E(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":E(void 0,void 0,void 0,e.signalType);break}},bd={addActor:Mc,addMessage:N9,addSignal:E,addLinks:ld,addDetails:gd,addProperties:md,autoWrap:Hn,setWrap:gb,enableSequenceNumbers:ab,disableSequenceNumbers:fb,showSequenceNumbers:pb,getMessages:L9,getActors:tb,getActor:Cs,getActorKeys:nb,getActorProperty:$b,getAccTitle:Ee,getDiagramTitle:ut,setDiagramTitle:Je,parseDirective:k9,getConfig:()=>t().sequence,clear:bb,parseMessage:Ab,LINETYPE:Bs,ARROWTYPE:Tb,PLACEMENT:Nb,addNote:cd,setAccTitle:je,apply:vd,setAccDescription:ke,getAccDescription:xe},pl=[],qb=e=>{pl.push(e)},_d=()=>{pl.forEach(e=>{e()}),pl=[]},Ci=function(e,t){const n=e.append("rect");return n.attr("x",t.x),n.attr("y",t.y),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("width",t.width),n.attr("height",t.height),n.attr("rx",t.rx),n.attr("ry",t.ry),t.class!==void 0&&n.attr("class",t.class),n},wd=(e,t)=>{qb(()=>{const n=document.querySelectorAll(e);if(n.length===0)return;n[0].addEventListener("mouseover",function(){rj("actor"+t+"_popup")}),n[0].addEventListener("mouseout",function(){gj("actor"+t+"_popup")})})},Qb=function(e,t,n,s,o){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};const d=t.links,m=t.actorCnt,i=t.rectData;var c,l,u,p,f="none";o&&(f="block !important");const r=e.append("g");r.attr("id","actor"+m+"_popup"),r.attr("class","actorPopupMenu"),r.attr("display",f),wd("#actor"+m+"_popup",m),u="",i.class!==void 0&&(u=" "+i.class);let h=i.width>n?i.width:n;const a=r.append("rect");if(a.attr("class","actorPopupMenuPanel"+u),a.attr("x",i.x),a.attr("y",i.height),a.attr("fill",i.fill),a.attr("stroke",i.stroke),a.attr("width",h),a.attr("height",i.height),a.attr("rx",i.rx),a.attr("ry",i.ry),d!=null){c=20;for(let e in d)l=r.append("a"),p=(0,Ut.sanitizeUrl)(d[e]),l.attr("xlink:href",p),l.attr("target","_blank"),xy(s)(e,l,i.x+10,i.height+c,h,20,{class:"actor"},s),c+=30}return a.attr("height",c),{height:i.height+c,width:h}},Cd=function(e,t,n,s){const o=e.append("image");o.attr("x",t),o.attr("y",n);var i=(0,Ut.sanitizeUrl)(s);o.attr("xlink:href",i)},Ed=function(e,t,n,s){const o=e.append("use");o.attr("x",t),o.attr("y",n);var i=(0,Ut.sanitizeUrl)(s);o.attr("xlink:href","#"+i)},nj=function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = 'block'; }"},ij=function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = 'none'; }"},rj=function(e){var t=document.getElementById(e);t!=null&&(t.style.display="block")},gj=function(e){var t=document.getElementById(e);t!=null&&(t.style.display="none")},ds=function(e,t){let o=0,n=0;const r=t.text.split(h.lineBreakRegex);let a=[],i=0,s=()=>t.y;if(t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0)switch(t.valign){case"top":case"start":s=()=>Math.round(t.y+t.textMargin);break;case"middle":case"center":s=()=>Math.round(t.y+(o+n+t.textMargin)/2);break;case"bottom":case"end":s=()=>Math.round(t.y+(o+n+2*t.textMargin)-t.textMargin);break}if(t.anchor!==void 0&&t.textMargin!==void 0&&t.width!==void 0)switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle";break}for(let[d,l]of r.entries()){t.textMargin!==void 0&&t.textMargin===0&&t.fontSize!==void 0&&(i=d*t.fontSize);const c=e.append("text");if(c.attr("x",t.x),c.attr("y",s()),t.anchor!==void 0&&c.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),t.fontFamily!==void 0&&c.style("font-family",t.fontFamily),t.fontSize!==void 0&&c.style("font-size",t.fontSize),t.fontWeight!==void 0&&c.style("font-weight",t.fontWeight),t.fill!==void 0&&c.attr("fill",t.fill),t.class!==void 0&&c.attr("class",t.class),t.dy!==void 0?c.attr("dy",t.dy):i!==0&&c.attr("dy",i),t.tspan){const e=c.append("tspan");e.attr("x",t.x),t.fill!==void 0&&e.attr("fill",t.fill),e.text(l)}else c.text(l);t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0&&(n+=(c._groups||c)[0][0].getBBox().height,o=n),a.push(c)}return a},Md=function(e,t){function s(e,t,n,s,o){return e+","+t+" "+(e+n)+","+t+" "+(e+n)+","+(t+s-o)+" "+(e+n-o*1.2)+","+(t+s)+" "+e+","+(t+s)}const n=e.append("polygon");return n.attr("points",s(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,ds(e,t),n},Re=-1,Fd=(e,t)=>{if(!e.selectAll)return;e.selectAll(".actor-line").attr("class","200").attr("y2",t-55)},Oj=function(e,t,n){const a=t.x+t.width/2,r=e.append("g");var i,o=r;t.y===0&&(Re++,o.append("line").attr("id","actor"+Re).attr("x1",a).attr("y1",5).attr("x2",a).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),o=r.append("g"),t.actorCnt=Re,t.links!=null&&(o.attr("id","root-"+Re),wd("#root-"+Re,Re)));const s=ti();i="actor",t.properties!=null&&t.properties.class?i=t.properties.class:s.fill="#eaeaea",s.x=t.x,s.y=t.y,s.width=t.width,s.height=t.height,s.class=i,s.rx=3,s.ry=3;const c=Ci(o,s);if(t.rectData=s,t.properties!=null&&t.properties.icon){const e=t.properties.icon.trim();e.charAt(0)==="@"?Ed(o,s.x+s.width-20,s.y+10,e.substr(1)):Cd(o,s.x+s.width-20,s.y+10,e)}Kd(n)(t.description,o,s.x,s.y,s.width,s.height,{class:"actor"},n);let l=t.height;if(c.node){const e=c.node().getBBox();t.height=e.height,l=e.height}return l},Ej=function(e,t,n){const o=t.x+t.width/2;t.y===0&&(Re++,e.append("line").attr("id","actor"+Re).attr("x1",o).attr("y1",80).attr("x2",o).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const i=e.append("g");i.attr("class","actor-man");const s=ti();s.x=t.x,s.y=t.y,s.fill="#eaeaea",s.width=t.width,s.height=t.height,s.class="actor",s.rx=3,s.ry=3,i.append("line").attr("id","actor-man-torso"+Re).attr("x1",o).attr("y1",t.y+25).attr("x2",o).attr("y2",t.y+45),i.append("line").attr("id","actor-man-arms"+Re).attr("x1",o-18).attr("y1",t.y+33).attr("x2",o+18).attr("y2",t.y+33),i.append("line").attr("x1",o-18).attr("y1",t.y+60).attr("x2",o).attr("y2",t.y+45),i.append("line").attr("x1",o).attr("y1",t.y+45).attr("x2",o+16).attr("y2",t.y+60);const a=i.append("circle");a.attr("cx",t.x+t.width/2),a.attr("cy",t.y+10),a.attr("r",15),a.attr("width",t.width),a.attr("height",t.height);const r=i.node().getBBox();return t.height=r.height,Kd(n)(t.description,i,s.x,s.y+35,s.width,s.height,{class:"actor"},n),t.height},Tj=function(e,t,n){switch(t.type){case"actor":return Ej(e,t,n);case"participant":return Oj(e,t,n)}},Hj=function(e){return e.append("g")},Bj=function(e,t,n,s,o){const i=ti(),a=t.anchored;i.x=t.startx,i.y=t.starty,i.class="activation"+o%3,i.width=t.stopx-t.startx,i.height=n-t.starty,Ci(a,i)},Vj=function(e,t,n,s){const{boxMargin:c,boxTextMargin:i,labelBoxHeight:f,labelBoxWidth:h,messageFontFamily:l,messageFontSize:d,messageFontWeight:u}=s,r=e.append("g"),a=function(e,t,n,s){return r.append("line").attr("x1",e).attr("y1",t).attr("x2",n).attr("y2",s).attr("class","loopLine")};a(t.startx,t.starty,t.stopx,t.starty),a(t.stopx,t.starty,t.stopx,t.stopy),a(t.startx,t.stopy,t.stopx,t.stopy),a(t.startx,t.starty,t.startx,t.stopy),t.sections!==void 0&&t.sections.forEach(function(e){a(t.startx,e.y,t.stopx,e.y).style("stroke-dasharray","3, 3")});let o=wc();o.text=n,o.x=t.startx,o.y=t.starty,o.fontFamily=l,o.fontSize=d,o.fontWeight=u,o.anchor="middle",o.valign="middle",o.tspan=!1,o.width=h||50,o.height=f||20,o.textMargin=i,o.class="labelText",Md(r,o),o=wc(),o.text=t.title,o.x=t.startx+h/2+(t.stopx-t.startx)/2,o.y=t.starty+c+i,o.anchor="middle",o.valign="middle",o.textMargin=i,o.class="loopText",o.fontFamily=l,o.fontSize=d,o.fontWeight=u,o.wrap=!0;let m=ds(r,o);return t.sectionTitles!==void 0&&t.sectionTitles.forEach(function(e,n){if(e.message){o.text=e.message,o.x=t.startx+(t.stopx-t.startx)/2,o.y=t.sections[n].y+c+i,o.class="loopText",o.anchor="middle",o.valign="middle",o.tspan=!1,o.fontFamily=l,o.fontSize=d,o.fontWeight=u,o.wrap=t.wrap,m=ds(r,o);let s=Math.round(m.map(e=>(e._groups||e)[0][0].getBBox().height).reduce((e,t)=>e+t));t.sections[n].height+=s-(c+i)}}),t.height=Math.round(t.stopy-t.starty),r},Zj=function(e,t){const n=Ci(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"});n.lower()},ey=function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},sy=function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},ly=function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},dy=function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},uy=function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},yy=function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},_y=function(e){const t=e.append("defs"),n=t.append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",5);n.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},wc=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},ti=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},Kd=function(){function n(t,n,s,o,i,a,r){const c=n.append("text").attr("x",s+i/2).attr("y",o+a/2+5).style("text-anchor","middle").text(t);e(c,r)}function t(t,n,s,o,i,a,r,c){const{actorFontSize:l,actorFontFamily:m,actorFontWeight:f}=c;let u=l&&l.replace?l.replace("px",""):l;const d=t.split(h.lineBreakRegex);for(let t=0;t<d.length;t++){const h=t*u-u*(d.length-1)/2,c=n.append("text").attr("x",s+i/2).attr("y",o).style("text-anchor","middle").style("font-size",l).style("font-weight",f).style("font-family",m);c.append("tspan").attr("x",s+i/2).attr("dy",h).text(d[t]),c.attr("y",o+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),e(c,r)}}function s(n,s,o,i,a,r,c,l){const d=s.append("switch"),h=d.append("foreignObject").attr("x",o).attr("y",i).attr("width",a).attr("height",r),u=h.append("xhtml:div").style("display","table").style("height","100%").style("width","100%");u.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),t(n,d,o,i,a,r,c,l),e(u,c)}function e(e,t){for(const n in t)t.hasOwnProperty(n)&&e.attr(n,t[n])}return function(e){return e.textPlacement==="fo"?s:e.textPlacement==="old"?n:t}}(),xy=function(){function n(t,n,s,o,i,a,r){const c=n.append("text").attr("x",s).attr("y",o).style("text-anchor","start").text(t);e(c,r)}function t(t,n,s,o,i,a,r,c){const{actorFontSize:l,actorFontFamily:u,actorFontWeight:m}=c,d=t.split(h.lineBreakRegex);for(let t=0;t<d.length;t++){const c=t*l-l*(d.length-1)/2,i=n.append("text").attr("x",s).attr("y",o).style("text-anchor","start").style("font-size",l).style("font-weight",m).style("font-family",u);i.append("tspan").attr("x",s).attr("dy",c).text(d[t]),i.attr("y",o+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),e(i,r)}}function s(n,s,o,i,a,r,c,l){const d=s.append("switch"),h=d.append("foreignObject").attr("x",o).attr("y",i).attr("width",a).attr("height",r),u=h.append("xhtml:div").style("display","table").style("height","100%").style("width","100%");u.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),t(n,d,o,i,a,r,c,l),e(u,c)}function e(e,t){for(const n in t)t.hasOwnProperty(n)&&e.attr(n,t[n])}return function(e){return e.textPlacement==="fo"?s:e.textPlacement==="old"?n:t}}(),O={drawRect:Ci,drawText:ds,drawLabel:Md,drawActor:Tj,drawPopup:Qb,drawImage:Cd,drawEmbeddedImage:Ed,anchorElement:Hj,drawActivation:Bj,drawLoop:Vj,drawBackgroundRect:Zj,insertArrowHead:dy,insertArrowFilledHead:uy,insertSequenceNumber:yy,insertArrowCrossHead:_y,insertDatabaseIcon:ey,insertComputerIcon:sy,insertClockIcon:ly,getTextObj:wc,getNoteRect:ti,popupMenu:nj,popdownMenu:ij,fixLifeLineHeights:Fd,sanitizeUrl:Ut.sanitizeUrl},n={},a={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(e){this.actors.push(e)},addLoop:function(e){this.loops.push(e)},addMessage:function(e){this.messages.push(e)},addNote:function(e){this.notes.push(e)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,eu(t())},updateVal:function(e,t,n,s){e[t]===void 0?e[t]=n:e[t]=s(n,e[t])},updateBounds:function(e,t,s,o){const i=this;let r=0;function c(c){return function(d){r++;const u=i.sequenceItems.length-r+1;i.updateVal(d,"starty",t-u*n.boxMargin,Math.min),i.updateVal(d,"stopy",o+u*n.boxMargin,Math.max),i.updateVal(a.data,"startx",e-u*n.boxMargin,Math.min),i.updateVal(a.data,"stopx",s+u*n.boxMargin,Math.max),c==="activation"||(i.updateVal(d,"startx",e-u*n.boxMargin,Math.min),i.updateVal(d,"stopx",s+u*n.boxMargin,Math.max),i.updateVal(a.data,"starty",t-u*n.boxMargin,Math.min),i.updateVal(a.data,"stopy",o+u*n.boxMargin,Math.max))}}this.sequenceItems.forEach(c()),this.activations.forEach(c("activation"))},insert:function(e,t,n,s){const o=Math.min(e,n),i=Math.max(e,n),r=Math.min(t,s),c=Math.max(t,s);this.updateVal(a.data,"startx",o,Math.min),this.updateVal(a.data,"starty",r,Math.min),this.updateVal(a.data,"stopx",i,Math.max),this.updateVal(a.data,"stopy",c,Math.max),this.updateBounds(o,r,i,c)},newActivation:function(e,t,s){const o=s[e.from.actor],a=na(e.from.actor).length||0,i=o.x+o.width/2+(a-1)*n.activationWidth/2;this.activations.push({startx:i,starty:this.verticalPos+2,stopx:i+n.activationWidth,stopy:void 0,actor:e.from.actor,anchored:O.anchorElement(t)})},endActivation:function(e){const t=this.activations.map(function(e){return e.actor}).lastIndexOf(e.from.actor);return this.activations.splice(t,1)[0]},createLoop:function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},newLoop:function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(e){const t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:a.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},Cy=function(e,t){a.bumpVerticalPos(n.boxMargin),t.height=n.boxMargin,t.starty=a.getVerticalPos();const o=O.getNoteRect();o.x=t.startx,o.y=t.starty,o.width=t.width||n.width,o.class="note";const r=e.append("g"),c=O.drawRect(r,o),s=O.getTextObj();s.x=t.startx,s.y=t.starty,s.width=o.width,s.dy="1em",s.text=t.message,s.class="noteText",s.fontFamily=n.noteFontFamily,s.fontSize=n.noteFontSize,s.fontWeight=n.noteFontWeight,s.anchor=n.noteAlign,s.textMargin=n.noteMargin,s.valign="center";const l=ds(r,s),i=Math.round(l.map(e=>(e._groups||e)[0][0].getBBox().height).reduce((e,t)=>e+t));c.attr("height",i+2*n.noteMargin),t.height+=i+2*n.noteMargin,a.bumpVerticalPos(i+2*n.noteMargin),t.stopy=t.starty+i+2*n.noteMargin,t.stopx=t.startx+o.width,a.insert(t.startx,t.starty,t.stopx,t.stopy),a.models.addNote(t)},qn=e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),Yn=e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),rc=e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight});function vP(e,t){a.bumpVerticalPos(10);const{startx:r,stopx:c,message:l}=t,u=h.splitBreaks(l).length,i=p.calculateTextDimensions(l,qn(n)),d=i.height/u;t.height+=d,a.bumpVerticalPos(d);let o,s=i.height-10;const m=i.width;if(r===c){o=a.getVerticalPos()+s,n.rightAngles||(s+=n.boxMargin,o=a.getVerticalPos()+s),s+=30;const e=Math.max(m/2,n.width/2);a.insert(r-e,a.getVerticalPos()-10+s,c+e,a.getVerticalPos()+30+s)}else s+=n.boxMargin,o=a.getVerticalPos()+s,a.insert(r,o-10,c,o);return a.bumpVerticalPos(s),t.height+=s,t.stopy=t.starty+t.height,a.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),o}Ey=function(e,t,s,o){const{startx:r,stopx:d,starty:f,message:u,type:c,sequenceIndex:v,sequenceVisible:h}=t,m=p.calculateTextDimensions(u,qn(n)),a=O.getTextObj();a.x=r,a.y=f+10,a.width=d-r,a.class="messageText",a.dy="1em",a.text=u,a.fontFamily=n.messageFontFamily,a.fontSize=n.messageFontSize,a.fontWeight=n.messageFontWeight,a.anchor=n.messageAlign,a.valign="center",a.textMargin=n.wrapPadding,a.tspan=!1,ds(e,a);const g=m.width;let i;r===d?n.rightAngles?i=e.append("path").attr("d",`M  ${r},${s} H ${r+Math.max(n.width/2,g/2)} V ${s+25} H ${r}`):i=e.append("path").attr("d","M "+r+","+s+" C "+(r+60)+","+(s-10)+" "+(r+60)+","+(s+30)+" "+r+","+(s+20)):(i=e.append("line"),i.attr("x1",r),i.attr("y1",s),i.attr("x2",d),i.attr("y2",s)),c===o.db.LINETYPE.DOTTED||c===o.db.LINETYPE.DOTTED_CROSS||c===o.db.LINETYPE.DOTTED_POINT||c===o.db.LINETYPE.DOTTED_OPEN?(i.style("stroke-dasharray","3, 3"),i.attr("class","messageLine1")):i.attr("class","messageLine0");let l="";n.arrowMarkerAbsolute&&(l=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,l=l.replace(/\(/g,"\\("),l=l.replace(/\)/g,"\\)")),i.attr("stroke-width",2),i.attr("stroke","none"),i.style("fill","none"),(c===o.db.LINETYPE.SOLID||c===o.db.LINETYPE.DOTTED)&&i.attr("marker-end","url("+l+"#arrowhead)"),(c===o.db.LINETYPE.SOLID_POINT||c===o.db.LINETYPE.DOTTED_POINT)&&i.attr("marker-end","url("+l+"#filled-head)"),(c===o.db.LINETYPE.SOLID_CROSS||c===o.db.LINETYPE.DOTTED_CROSS)&&i.attr("marker-end","url("+l+"#crosshead)"),(h||n.showSequenceNumbers)&&(i.attr("marker-start","url("+l+"#sequencenumber)"),e.append("text").attr("x",r).attr("y",s+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(v))},ic=function(e,t,s,o,i,r){if(i.hideUnusedParticipants===!0){const e=new Set;r.forEach(t=>{e.add(t.from),e.add(t.to)}),s=s.filter(t=>e.has(t))}let l=0,d=0,c=0;for(const r of s){const i=t[r];i.width=i.width||n.width,i.height=Math.max(i.height||n.height,n.height),i.margin=i.margin||n.actorMargin,i.x=l+d,i.y=o;const u=O.drawActor(e,i,n);c=Math.max(c,u),a.insert(i.x,o,i.x+i.width,i.height),l+=i.width,d+=i.margin,a.models.addActor(i)}a.bumpVerticalPos(c)},Xd=function(e,t,s,o){let i=0,a=0;for(const l of s){const r=t[l],d=Py(r),c=O.drawPopup(e,r,d,n,n.forceMenus,o);c.height>i&&(i=c.height),c.width+r.x>a&&(a=c.width+r.x)}return{maxHeight:i,maxWidth:a}},eu=function(e){U(n,e),e.fontFamily&&(n.actorFontFamily=n.noteFontFamily=n.messageFontFamily=e.fontFamily),e.fontSize&&(n.actorFontSize=n.noteFontSize=n.messageFontSize=e.fontSize),e.fontWeight&&(n.actorFontWeight=n.noteFontWeight=n.messageFontWeight=e.fontWeight)},na=function(e){return a.activations.filter(function(t){return t.actor===e})},nu=function(e,t){const n=t[e],s=na(e),o=s.reduce(function(e,t){return Math.min(e,t.startx)},n.x+n.width/2),i=s.reduce(function(e,t){return Math.max(e,t.stopx)},n.x+n.width/2);return[o,i]};function st(t,s,o,i,r){a.bumpVerticalPos(o);let c=i;if(s.id&&s.message&&t[s.id]){const o=t[s.id].width,a=qn(n);s.message=p.wrapLabel(`[${s.message}]`,o-2*n.wrapPadding,a),s.width=o,s.wrap=!0;const l=p.calculateTextDimensions(s.message,a),r=Math.max(l.height,n.labelBoxHeight);c=i+r,e.debug(`${r} - ${s.message}`)}r(s),a.bumpVerticalPos(c)}Ry=function(s,o,r,c){const{securityLevel:p,sequence:T}=t();n=T;let w;p==="sandbox"&&(w=i("#i"+o));const F=i(p==="sandbox"?w.nodes()[0].contentDocument.body:"body"),M=p==="sandbox"?w.nodes()[0].contentDocument:document;a.init(),e.debug(c.db);const l=p==="sandbox"?F.select(`[id="${o}"]`):i(`[id="${o}"]`),h=c.db.getActors(),y=c.db.getActorKeys(),f=c.db.getMessages(),b=c.db.getDiagramTitle(),C=EP(h,f,c);n.height=AP(h,C),O.insertComputerIcon(l),O.insertDatabaseIcon(l),O.insertClockIcon(l),ic(l,h,y,0,n,f);const d=Xy(f,h,C,c);O.insertArrowHead(l),O.insertArrowCrossHead(l),O.insertArrowFilledHead(l),O.insertSequenceNumber(l);function z(e,t){const s=a.endActivation(e);s.starty+18>t&&(s.starty=t-6,t+=12),O.drawActivation(l,s,t,n,na(e.from.actor).length),a.insert(s.startx,t-10,s.stopx,t)}let m=1,j=1;const E=[];f.forEach(function(t){let s,i,o;switch(t.type){case c.db.LINETYPE.NOTE:i=t.noteModel,Cy(l,i);break;case c.db.LINETYPE.ACTIVE_START:a.newActivation(t,l,h);break;case c.db.LINETYPE.ACTIVE_END:z(t,a.getVerticalPos());break;case c.db.LINETYPE.LOOP_START:st(d,t,n.boxMargin,n.boxMargin+n.boxTextMargin,e=>a.newLoop(e));break;case c.db.LINETYPE.LOOP_END:s=a.endLoop(),O.drawLoop(l,s,"loop",n),a.bumpVerticalPos(s.stopy-a.getVerticalPos()),a.models.addLoop(s);break;case c.db.LINETYPE.RECT_START:st(d,t,n.boxMargin,n.boxMargin,e=>a.newLoop(void 0,e.message));break;case c.db.LINETYPE.RECT_END:s=a.endLoop(),O.drawBackgroundRect(l,s),a.models.addLoop(s),a.bumpVerticalPos(s.stopy-a.getVerticalPos());break;case c.db.LINETYPE.OPT_START:st(d,t,n.boxMargin,n.boxMargin+n.boxTextMargin,e=>a.newLoop(e));break;case c.db.LINETYPE.OPT_END:s=a.endLoop(),O.drawLoop(l,s,"opt",n),a.bumpVerticalPos(s.stopy-a.getVerticalPos()),a.models.addLoop(s);break;case c.db.LINETYPE.ALT_START:st(d,t,n.boxMargin,n.boxMargin+n.boxTextMargin,e=>a.newLoop(e));break;case c.db.LINETYPE.ALT_ELSE:st(d,t,n.boxMargin+n.boxTextMargin,n.boxMargin,e=>a.addSectionToLoop(e));break;case c.db.LINETYPE.ALT_END:s=a.endLoop(),O.drawLoop(l,s,"alt",n),a.bumpVerticalPos(s.stopy-a.getVerticalPos()),a.models.addLoop(s);break;case c.db.LINETYPE.PAR_START:st(d,t,n.boxMargin,n.boxMargin+n.boxTextMargin,e=>a.newLoop(e));break;case c.db.LINETYPE.PAR_AND:st(d,t,n.boxMargin+n.boxTextMargin,n.boxMargin,e=>a.addSectionToLoop(e));break;case c.db.LINETYPE.PAR_END:s=a.endLoop(),O.drawLoop(l,s,"par",n),a.bumpVerticalPos(s.stopy-a.getVerticalPos()),a.models.addLoop(s);break;case c.db.LINETYPE.AUTONUMBER:m=t.message.start||m,j=t.message.step||j,t.message.visible?c.db.enableSequenceNumbers():c.db.disableSequenceNumbers();break;case c.db.LINETYPE.CRITICAL_START:st(d,t,n.boxMargin,n.boxMargin+n.boxTextMargin,e=>a.newLoop(e));break;case c.db.LINETYPE.CRITICAL_OPTION:st(d,t,n.boxMargin+n.boxTextMargin,n.boxMargin,e=>a.addSectionToLoop(e));break;case c.db.LINETYPE.CRITICAL_END:s=a.endLoop(),O.drawLoop(l,s,"critical",n),a.bumpVerticalPos(s.stopy-a.getVerticalPos()),a.models.addLoop(s);break;case c.db.LINETYPE.BREAK_START:st(d,t,n.boxMargin,n.boxMargin+n.boxTextMargin,e=>a.newLoop(e));break;case c.db.LINETYPE.BREAK_END:s=a.endLoop(),O.drawLoop(l,s,"break",n),a.bumpVerticalPos(s.stopy-a.getVerticalPos()),a.models.addLoop(s);break;default:try{o=t.msgModel,o.starty=a.getVerticalPos(),o.sequenceIndex=m,o.sequenceVisible=c.db.showSequenceNumbers();const e=vP(l,o);E.push({messageModel:o,lineStartY:e}),a.models.addMessage(o)}catch(t){e.error("error while drawing message",t)}}[c.db.LINETYPE.SOLID_OPEN,c.db.LINETYPE.DOTTED_OPEN,c.db.LINETYPE.SOLID,c.db.LINETYPE.DOTTED,c.db.LINETYPE.SOLID_CROSS,c.db.LINETYPE.DOTTED_CROSS,c.db.LINETYPE.SOLID_POINT,c.db.LINETYPE.DOTTED_POINT].includes(t.type)&&(m=m+j)}),E.forEach(e=>Ey(l,e.messageModel,e.lineStartY,c)),n.mirrorActors&&(a.bumpVerticalPos(n.boxMargin*2),ic(l,h,y,a.getVerticalPos(),n,f),a.bumpVerticalPos(n.boxMargin),Fd(l,a.getVerticalPos()));const v=Xd(l,h,y,M),{bounds:u}=a.getBounds();e.debug("For line height fix Querying: #"+o+" .actor-line");const S=L0("#"+o+" .actor-line");S.attr("y2",u.stopy);let x=u.stopy-u.starty;x<v.maxHeight&&(x=v.maxHeight);let g=x+2*n.diagramMarginY;n.mirrorActors&&(g=g-n.boxMargin+n.bottomMarginAdj);let _=u.stopx-u.startx;_<v.maxWidth&&(_=v.maxWidth);const k=_+2*n.diagramMarginX;b&&l.append("text").text(b).attr("x",(u.stopx-u.startx)/2-2*n.diagramMarginX).attr("y",-25),Fe(l,g,k,n.useMaxWidth);const A=b?40:0;l.attr("viewBox",u.startx-n.diagramMarginX+" -"+(n.diagramMarginY+A)+" "+k+" "+(g+A)),e.debug(`models:`,a.models)};function EP(t,s,o){const i={};return s.forEach(function(e){if(t[e.to]&&t[e.from]){const s=t[e.to];if(e.placement===o.db.PLACEMENT.LEFTOF&&!s.prevActor)return;if(e.placement===o.db.PLACEMENT.RIGHTOF&&!s.nextActor)return;const c=e.placement!==void 0,r=!c,l=c?Yn(n):qn(n),d=e.wrap?p.wrapLabel(e.message,n.width-2*n.wrapPadding,l):e.message,u=p.calculateTextDimensions(d,l),a=u.width+2*n.wrapPadding;r&&e.from===s.nextActor?i[e.to]=Math.max(i[e.to]||0,a):r&&e.from===s.prevActor?i[e.from]=Math.max(i[e.from]||0,a):r&&e.from===e.to?(i[e.from]=Math.max(i[e.from]||0,a/2),i[e.to]=Math.max(i[e.to]||0,a/2)):e.placement===o.db.PLACEMENT.RIGHTOF?i[e.from]=Math.max(i[e.from]||0,a):e.placement===o.db.PLACEMENT.LEFTOF?i[s.prevActor]=Math.max(i[s.prevActor]||0,a):e.placement===o.db.PLACEMENT.OVER&&(s.prevActor&&(i[s.prevActor]=Math.max(i[s.prevActor]||0,a/2)),s.nextActor&&(i[e.from]=Math.max(i[e.from]||0,a/2)))}}),e.debug("maxMessageWidthPerActor:",i),i}Py=function(e){let t=0;const s=rc(n);for(const i in e.links){const a=p.calculateTextDimensions(i,s),o=a.width+2*n.wrapPadding+2*n.boxMargin;t<o&&(t=o)}return t};function AP(e,t){let s=0;Object.keys(e).forEach(t=>{const o=e[t];o.wrap&&(o.description=p.wrapLabel(o.description,n.width-2*n.wrapPadding,rc(n)));const i=p.calculateTextDimensions(o.description,rc(n));o.width=o.wrap?n.width:Math.max(n.width,i.width+2*n.wrapPadding),o.height=o.wrap?Math.max(i.height,n.height):n.height,s=Math.max(s,o.height)});for(const o in t){const s=e[o];if(!s)continue;const i=e[s.nextActor];if(!i)continue;const a=t[o],r=a+n.actorMargin-s.width/2-i.width/2;s.margin=Math.max(r,n.actorMargin)}return Math.max(s,n.height)}Hy=function(t,s,o){const c=s[t.from].x,l=s[t.to].x,a=t.wrap&&t.message;let r=p.calculateTextDimensions(a?p.wrapLabel(t.message,n.width,Yn(n)):t.message,Yn(n));const i={width:a?n.width:Math.max(n.width,r.width+2*n.noteMargin),height:0,startx:s[t.from].x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===o.db.PLACEMENT.RIGHTOF?(i.width=a?Math.max(n.width,r.width):Math.max(s[t.from].width/2+s[t.to].width/2,r.width+2*n.noteMargin),i.startx=c+(s[t.from].width+n.actorMargin)/2):t.placement===o.db.PLACEMENT.LEFTOF?(i.width=a?Math.max(n.width,r.width+2*n.noteMargin):Math.max(s[t.from].width/2+s[t.to].width/2,r.width+2*n.noteMargin),i.startx=c-i.width+(s[t.from].width-n.actorMargin)/2):t.to===t.from?(r=p.calculateTextDimensions(a?p.wrapLabel(t.message,Math.max(n.width,s[t.from].width),Yn(n)):t.message,Yn(n)),i.width=a?Math.max(n.width,s[t.from].width):Math.max(s[t.from].width,n.width,r.width+2*n.noteMargin),i.startx=c+(s[t.from].width-i.width)/2):(i.width=Math.abs(c+s[t.from].width/2-(l+s[t.to].width/2))+n.actorMargin,i.startx=c<l?c+s[t.from].width/2-n.actorMargin/2:l+s[t.to].width/2-n.actorMargin/2),a&&(i.message=p.wrapLabel(t.message,i.width-2*n.wrapPadding,Yn(n))),e.debug(`NM:[${i.startx},${i.stopx},${i.starty},${i.stopy}:${i.width},${i.height}=${t.message}]`),i},Ky=function(e,t,s){let a=!1;if([s.db.LINETYPE.SOLID_OPEN,s.db.LINETYPE.DOTTED_OPEN,s.db.LINETYPE.SOLID,s.db.LINETYPE.DOTTED,s.db.LINETYPE.SOLID_CROSS,s.db.LINETYPE.DOTTED_CROSS,s.db.LINETYPE.SOLID_POINT,s.db.LINETYPE.DOTTED_POINT].includes(e.type)&&(a=!0),!a)return{};const o=nu(e.from,t),i=nu(e.to,t),r=o[0]<=i[0]?1:0,c=o[0]<i[0]?0:1,l=[...o,...i],d=Math.abs(i[c]-o[r]);e.wrap&&e.message&&(e.message=p.wrapLabel(e.message,Math.max(d+2*n.wrapPadding,n.width),qn(n)));const u=p.calculateTextDimensions(e.message,qn(n));return{width:Math.max(e.wrap?0:u.width+2*n.wrapPadding,d+2*n.wrapPadding,n.width),height:0,startx:o[r],stopx:i[c],starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,l),toBounds:Math.max.apply(null,l)}},Xy=function(t,s,o,i){const d={},l=[];let r,u,c;return t.forEach(function(e){switch(e.id=p.random({length:10}),e.type){case i.db.LINETYPE.LOOP_START:case i.db.LINETYPE.ALT_START:case i.db.LINETYPE.OPT_START:case i.db.LINETYPE.PAR_START:case i.db.LINETYPE.CRITICAL_START:case i.db.LINETYPE.BREAK_START:l.push({id:e.id,msg:e.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case i.db.LINETYPE.ALT_ELSE:case i.db.LINETYPE.PAR_AND:case i.db.LINETYPE.CRITICAL_OPTION:e.message&&(r=l.pop(),d[r.id]=r,d[e.id]=r,l.push(r));break;case i.db.LINETYPE.LOOP_END:case i.db.LINETYPE.ALT_END:case i.db.LINETYPE.OPT_END:case i.db.LINETYPE.PAR_END:case i.db.LINETYPE.CRITICAL_END:case i.db.LINETYPE.BREAK_END:r=l.pop(),d[r.id]=r;break;case i.db.LINETYPE.ACTIVE_START:{const t=s[e.from?e.from.actor:e.to.actor],i=na(e.from?e.from.actor:e.to.actor).length,o=t.x+t.width/2+(i-1)*n.activationWidth/2,r={startx:o,stopx:o+n.activationWidth,actor:e.from.actor,enabled:!0};a.activations.push(r)}break;case i.db.LINETYPE.ACTIVE_END:{const t=a.activations.map(e=>e.actor).lastIndexOf(e.from.actor);delete a.activations.splice(t,1)[0]}break}const t=e.placement!==void 0;t?(u=Hy(e,s,i),e.noteModel=u,l.forEach(e=>{r=e,r.from=Math.min(r.from,u.startx),r.to=Math.max(r.to,u.startx+u.width),r.width=Math.max(r.width,Math.abs(r.from-r.to))-n.labelBoxWidth})):(c=Ky(e,s,i),e.msgModel=c,c.startx&&c.stopx&&l.length>0&&l.forEach(t=>{if(r=t,c.startx===c.stopx){const t=s[e.from],o=s[e.to];r.from=Math.min(t.x-c.width/2,t.x-t.width/2,r.from),r.to=Math.max(o.x+c.width/2,o.x+t.width/2,r.to),r.width=Math.max(r.width,Math.abs(r.to-r.from))-n.labelBoxWidth}else r.from=Math.min(c.startx,r.from),r.to=Math.max(c.stopx,r.to),r.width=Math.max(r.width,c.width)-n.labelBoxWidth}))}),a.activations=[],e.debug("Loop type widths:",d),d},lu={bounds:a,drawActors:ic,drawActorsPopup:Xd,setConf:eu,draw:Ry},Ar=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},b=[1,2],h=[1,3],r=[1,5],n=[1,7],S=[2,5],A=[1,15],k=[1,17],c=[1,21],l=[1,22],d=[1,23],u=[1,24],s=[1,37],m=[1,25],f=[1,26],p=[1,27],g=[1,28],v=[1,29],E=[1,32],j=[1,33],y=[1,34],_=[1,35],w=[1,36],O=[1,39],x=[1,40],C=[1,41],i=[1,42],o=[1,38],z=[1,45],t=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],a=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],M=[1,4,5,7,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],D=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],F={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,classDefStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,class:42,CLASSENTITY_IDS:43,STYLECLASS:44,openDirective:45,typeDirective:46,closeDirective:47,":":48,argDirective:49,direction_tb:50,direction_bt:51,direction_rl:52,direction_lr:53,eol:54,";":55,EDGE_STATE:56,STYLE_SEPARATOR:57,left_of:58,right_of:59,open_directive:60,type_directive:61,arg_directive:62,close_directive:63,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"class",43:"CLASSENTITY_IDS",44:"STYLECLASS",48:":",50:"direction_tb",51:"direction_bt",52:"direction_rl",53:"direction_lr",55:";",56:"EDGE_STATE",57:"STYLE_SEPARATOR",58:"left_of",59:"right_of",60:"open_directive",61:"type_directive",62:"arg_directive",63:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[11,3],[11,3],[12,3],[6,3],[6,5],[32,1],[32,1],[32,1],[32,1],[54,1],[54,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1],[45,1],[46,1],[49,1],[47,1]],performAction:function(t,n,s,o,i,a){var l,d,u,c=a.length-1;switch(i){case 4:return o.setRootDoc(a[c]),a[c];case 5:this.$=[];break;case 6:a[c]!="nl"&&(a[c-1].push(a[c]),this.$=a[c-1]);break;case 7:case 8:this.$=a[c];break;case 9:this.$="nl";break;case 12:this.$=a[c];break;case 13:const e=a[c-1];e.description=o.trimColon(a[c]),this.$=e;break;case 14:this.$={stmt:"relation",state1:a[c-2],state2:a[c]};break;case 15:const t=o.trimColon(a[c]);this.$={stmt:"relation",state1:a[c-3],state2:a[c-1],description:t};break;case 19:this.$={stmt:"state",id:a[c-3],type:"default",description:"",doc:a[c-1]};break;case 20:d=a[c],l=a[c-2].trim(),a[c].match(":")&&(u=a[c].split(":"),d=u[0],l=[l,u[1]]),this.$={stmt:"state",id:d,type:"default",description:l};break;case 21:this.$={stmt:"state",id:a[c-3],type:"default",description:a[c-5],doc:a[c-1]};break;case 22:this.$={stmt:"state",id:a[c],type:"fork"};break;case 23:this.$={stmt:"state",id:a[c],type:"join"};break;case 24:this.$={stmt:"state",id:a[c],type:"choice"};break;case 25:this.$={stmt:"state",id:o.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:a[c-1].trim(),note:{position:a[c-2].trim(),text:a[c].trim()}};break;case 30:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 31:case 32:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 33:case 34:this.$={stmt:"classDef",id:a[c-1].trim(),classes:a[c].trim()};break;case 35:this.$={stmt:"applyClass",id:a[c-1].trim(),styleClass:a[c].trim()};break;case 38:o.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:o.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:o.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:o.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:a[c].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:a[c-2].trim(),classes:[a[c].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:a[c-2].trim(),classes:[a[c].trim()],type:"default",description:""};break;case 50:o.parseDirective("%%{","open_directive");break;case 51:o.parseDirective(a[c],"type_directive");break;case 52:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 53:o.parseDirective("}%%","close_directive","state");break}},table:[{3:1,4:b,5:h,6:4,7:r,45:6,60:n},{1:[3]},{3:8,4:b,5:h,6:4,7:r,45:6,60:n},{3:9,4:b,5:h,6:4,7:r,45:6,60:n},{3:10,4:b,5:h,6:4,7:r,45:6,60:n},e([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],S,{8:11}),{46:12,61:[1,13]},{61:[2,50]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:A,5:k,6:30,9:14,10:16,11:18,12:19,13:20,16:c,17:l,19:d,22:u,24:s,25:m,26:f,27:p,28:g,29:v,32:31,33:E,35:j,37:y,38:_,42:w,45:6,50:O,51:x,52:C,53:i,56:o,60:n},{47:43,48:[1,44],63:z},e([48,63],[2,51]),e(t,[2,6]),{6:30,10:46,11:18,12:19,13:20,16:c,17:l,19:d,22:u,24:s,25:m,26:f,27:p,28:g,29:v,32:31,33:E,35:j,37:y,38:_,42:w,45:6,50:O,51:x,52:C,53:i,56:o,60:n},e(t,[2,8]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12],{14:[1,47],15:[1,48]}),e(t,[2,16]),{18:[1,49]},e(t,[2,18],{20:[1,50]}),{23:[1,51]},e(t,[2,22]),e(t,[2,23]),e(t,[2,24]),e(t,[2,25]),{30:52,31:[1,53],58:[1,54],59:[1,55]},e(t,[2,28]),e(t,[2,29]),{34:[1,56]},{36:[1,57]},e(t,[2,32]),{39:[1,58],41:[1,59]},{43:[1,60]},e(a,[2,44],{57:[1,61]}),e(a,[2,45],{57:[1,62]}),e(t,[2,38]),e(t,[2,39]),e(t,[2,40]),e(t,[2,41]),e(M,[2,36]),{49:63,62:[1,64]},e(M,[2,53]),e(t,[2,7]),e(t,[2,13]),{13:65,24:s,56:o},e(t,[2,17]),e(D,S,{8:66}),{24:[1,67]},{24:[1,68]},{23:[1,69]},{24:[2,48]},{24:[2,49]},e(t,[2,30]),e(t,[2,31]),{40:[1,70]},{40:[1,71]},{44:[1,72]},{24:[1,73]},{24:[1,74]},{47:75,63:z},{63:[2,52]},e(t,[2,14],{14:[1,76]}),{4:A,5:k,6:30,9:14,10:16,11:18,12:19,13:20,16:c,17:l,19:d,21:[1,77],22:u,24:s,25:m,26:f,27:p,28:g,29:v,32:31,33:E,35:j,37:y,38:_,42:w,45:6,50:O,51:x,52:C,53:i,56:o,60:n},e(t,[2,20],{20:[1,78]}),{31:[1,79]},{24:[1,80]},e(t,[2,33]),e(t,[2,34]),e(t,[2,35]),e(a,[2,46]),e(a,[2,47]),e(M,[2,37]),e(t,[2,15]),e(t,[2,19]),e(D,S,{8:81}),e(t,[2,26]),e(t,[2,27]),{4:A,5:k,6:30,9:14,10:16,11:18,12:19,13:20,16:c,17:l,19:d,21:[1,82],22:u,24:s,25:m,26:f,27:p,28:g,29:v,32:31,33:E,35:j,37:y,38:_,42:w,45:6,50:O,51:x,52:C,53:i,56:o,60:n},e(t,[2,21])],defaultActions:{7:[2,50],8:[2,1],9:[2,2],10:[2,3],54:[2,48],55:[2,49],64:[2,52]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,d,u,m,f,g,v,j,y,_,w,S=this,i=[0],b=[],c=[null],n=[],p=this.table,C="",h=0,x=0,k=2,O=1,E=n.slice.call(arguments,1),s=Object.create(this.lexer),l={yy:{}};for(y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(l.yy[y]=this.yy[y]);s.setInput(t,l.yy),l.yy.lexer=s,l.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),w=s.options&&s.options.ranges,typeof l.yy.parseError=="function"?this.parseError=l.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function A(){var e=b.pop()||s.lex()||O;return typeof e!="number"&&(e instanceof Array&&(b=e,e=b.pop()),e=S.symbols_[e]||e),e}for(d={};!0;){if(u=i[i.length-1],this.defaultActions[u]?a=this.defaultActions[u]:((o===null||typeof o=="undefined")&&(o=A()),a=p[u]&&p[u][o]),typeof a=="undefined"||!a.length||!a[0]){g="",f=[];for(m in p[u])this.terminals_[m]&&m>k&&f.push("'"+this.terminals_[m]+"'");s.showPosition?g="Parse error on line "+(h+1)+`:
`+s.showPosition()+`
Expecting `+f.join(", ")+", got '"+(this.terminals_[o]||o)+"'":g="Parse error on line "+(h+1)+": Unexpected "+(o==O?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(g,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:f})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+o);switch(a[0]){case 1:i.push(o),c.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,x=s.yyleng,C=s.yytext,h=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],d.$=c[c.length-r],d._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},w&&(d._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(d,[C,x,h,l.yy,a[1],c,n].concat(E)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),c=c.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),c.push(d.$),n.push(d._$),_=p[i[i.length-2]][i[i.length-1]],i.push(_);break;case 3:return!0}}return!0}},N=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return 41;case 1:return 50;case 2:return 51;case 3:return 52;case 4:return 53;case 5:return this.begin("open_directive"),60;case 6:return this.begin("type_directive"),61;case 7:return this.popState(),this.begin("arg_directive"),48;case 8:return this.popState(),this.popState(),63;case 9:return 62;case 10:break;case 11:break;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:break;case 17:return this.pushState("SCALE"),17;case 18:return 18;case 19:this.popState();break;case 20:return this.begin("acc_title"),33;case 21:return this.popState(),"acc_title_value";case 22:return this.begin("acc_descr"),35;case 23:return this.popState(),"acc_descr_value";case 24:this.begin("acc_descr_multiline");break;case 25:this.popState();break;case 26:return"acc_descr_multiline_value";case 27:return this.pushState("CLASSDEF"),38;case 28:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 29:return this.popState(),this.pushState("CLASSDEFID"),39;case 30:return this.popState(),40;case 31:return this.pushState("CLASS"),42;case 32:return this.popState(),this.pushState("CLASS_STYLE"),43;case 33:return this.popState(),44;case 34:return this.pushState("SCALE"),17;case 35:return 18;case 36:this.popState();break;case 37:this.pushState("STATE");break;case 38:return this.popState(),n.yytext=n.yytext.slice(0,-8).trim(),25;case 39:return this.popState(),n.yytext=n.yytext.slice(0,-8).trim(),26;case 40:return this.popState(),n.yytext=n.yytext.slice(0,-10).trim(),27;case 41:return this.popState(),n.yytext=n.yytext.slice(0,-8).trim(),25;case 42:return this.popState(),n.yytext=n.yytext.slice(0,-8).trim(),26;case 43:return this.popState(),n.yytext=n.yytext.slice(0,-10).trim(),27;case 44:return 50;case 45:return 51;case 46:return 52;case 47:return 53;case 48:this.begin("STATE_STRING");break;case 49:return this.popState(),this.pushState("STATE_ID"),"AS";case 50:return this.popState(),"ID";case 51:this.popState();break;case 52:return"STATE_DESCR";case 53:return 19;case 54:this.popState();break;case 55:return this.popState(),this.pushState("struct"),20;case 56:break;case 57:return this.popState(),21;case 58:break;case 59:return this.begin("NOTE"),29;case 60:return this.popState(),this.pushState("NOTE_ID"),58;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:this.popState(),this.pushState("FLOATING_NOTE");break;case 63:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 64:break;case 65:return"NOTE_TEXT";case 66:return this.popState(),"ID";case 67:return this.popState(),this.pushState("NOTE_TEXT"),24;case 68:return this.popState(),n.yytext=n.yytext.substr(2).trim(),31;case 69:return this.popState(),n.yytext=n.yytext.slice(0,-8).trim(),31;case 70:return 7;case 71:return 7;case 72:return 16;case 73:return 56;case 74:return 24;case 75:return n.yytext=n.yytext.trim(),14;case 76:return 15;case 77:return 28;case 78:return 57;case 79:return 5;case 80:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[14,15],inclusive:!1},close_directive:{rules:[14,15],inclusive:!1},arg_directive:{rules:[8,9,14,15],inclusive:!1},type_directive:{rules:[7,8,14,15],inclusive:!1},open_directive:{rules:[6,14,15],inclusive:!1},struct:{rules:[14,15,27,31,37,44,45,46,47,56,57,58,59,73,74,75,76,77],inclusive:!1},FLOATING_NOTE_ID:{rules:[66],inclusive:!1},FLOATING_NOTE:{rules:[63,64,65],inclusive:!1},NOTE_TEXT:{rules:[68,69],inclusive:!1},NOTE_ID:{rules:[67],inclusive:!1},NOTE:{rules:[60,61,62],inclusive:!1},CLASS_STYLE:{rules:[33],inclusive:!1},CLASS:{rules:[32],inclusive:!1},CLASSDEFID:{rules:[30],inclusive:!1},CLASSDEF:{rules:[28,29],inclusive:!1},acc_descr_multiline:{rules:[25,26],inclusive:!1},acc_descr:{rules:[23],inclusive:!1},acc_title:{rules:[21],inclusive:!1},SCALE:{rules:[18,19,35,36],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[50],inclusive:!1},STATE_STRING:{rules:[51,52],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[14,15,38,39,40,41,42,43,48,49,53,54,55],inclusive:!1},ID:{rules:[14,15],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,10,11,12,13,15,16,17,20,22,24,27,31,34,37,55,59,70,71,72,73,74,75,76,78,79,80],inclusive:!0}}};return e}();F.lexer=N;function T(){this.yy={}}return T.prototype=F,F.Parser=T,new T}(),Ar.parser=Ar,uu=Ar,Zy=(e,t)=>{var n;return((n=t?.state)==null?void 0:n.defaultRenderer)!=="dagre-wrapper"&&e.match(/^\s*stateDiagram/)!==null},Jy=(e,t)=>{var n;return e.match(/^\s*stateDiagram-v2/)!==null||!!(e.match(/^\s*stateDiagram/)&&((n=t?.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},mu="LR",e_="TB",Ai="state",or="relation",n_="classDef",f_="applyClass",Vs="default",vu="divider",Qa="[*]",xu="start",Cu=Qa,Mu="end",zu="color",Du="fill",y_="bgFill",O_=",";function z_(){return{}}Vu=mu,Oa=[],_s=z_(),Uu=()=>({relations:[],states:{},documents:{}}),va={root:Uu()},G=va.root,Ts=0,Yu=0,R_={LINE:0,DOTTED_LINE:1},B_={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},sa=e=>JSON.parse(JSON.stringify(e)),Q_=function(e,t,n){_.parseDirective(this,e,t,n)},vw=t=>{e.info("Setting root doc",t),Oa=t},bw=()=>Oa,Zi=(e,t,n)=>{if(t.stmt===or)Zi(e,t.state1,!0),Zi(e,t.state2,!1);else if(t.stmt===Ai&&t.id==="[*]"&&(t.id=n?e.id+"_start":e.id+"_end",t.start=n),t.doc){const s=[];let n=[],e;for(e=0;e<t.doc.length;e++)if(t.doc[e].type===vu){const o=sa(t.doc[e]);o.doc=sa(n),s.push(o),n=[]}else n.push(t.doc[e]);if(s.length>0&&n.length>0){const e={stmt:Ai,id:v4(),type:"divider",doc:sa(n)};s.push(sa(e)),t.doc=s}t.doc.forEach(e=>Zi(t,e,!0))}},Ow=()=>(Zi({id:"root"},{id:"root",doc:Oa},!0),{id:"root",doc:Oa}),xw=t=>{let n;t.doc?n=t.doc:n=t,e.info(n),s1(!0),e.info("Extract",n),n.forEach(e=>{switch(e.stmt){case Ai:Xt(e.id,e.type,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles);break;case or:c1(e.state1,e.state2,e.description);break;case n_:l1(e.id,e.classes);break;case f_:ir(e.id,e.styleClass);break}})},Xt=function(n,s=Vs,o=null,i=null,a=null,r=null,c=null,l=null){if(G.states[n]===void 0?(e.info("Adding state ",n,i),G.states[n]={id:n,descriptions:[],type:s,doc:o,note:a,classes:[],styles:[],textStyles:[]}):(G.states[n].doc||(G.states[n].doc=o),G.states[n].type||(G.states[n].type=s)),i&&(e.info("Setting state description",n,i),typeof i=="string"&&nr(n,i.trim()),typeof i=="object"&&i.forEach(e=>nr(n,e.trim()))),a&&(G.states[n].note=a,G.states[n].note.text=h.sanitizeText(G.states[n].note.text,t())),r){e.info("Setting state classes",n,r);const t=typeof r=="string"?[r]:r;t.forEach(e=>ir(n,e.trim()))}if(c){e.info("Setting state styles",n,c);const t=typeof c=="string"?[c]:c;t.forEach(e=>Jw(n,e.trim()))}if(l){e.info("Setting state styles",n,c);const t=typeof l=="string"?[l]:l;t.forEach(e=>eO(n,e.trim()))}},s1=function(e){va={root:Uu()},G=va.root,Ts=0,_s=z_(),e||Ce()},gs=function(e){return G.states[e]},Dw=function(){return G.states},$w=function(){e.info("Documents = ",va)},Kw=function(){return G.relations};function r1(e=""){let t=e;return e===Qa&&(Ts++,t=`${xu}${Ts}`),t}function Xl(e="",t=Vs){return e===Qa?xu:t}function CH(e=""){let t=e;return e===Cu&&(Ts++,t=`${Mu}${Ts}`),t}function EH(e="",t=Vs){return e===Cu?Mu:t}function kH(e,n,s){let o=r1(e.id),a=Xl(e.id,e.type),i=r1(n.id),r=Xl(n.id,n.type);Xt(o,a,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),Xt(i,r,n.doc,n.description,n.note,n.classes,n.styles,n.textStyles),G.relations.push({id1:o,id2:i,relationTitle:h.sanitizeText(s,t())})}c1=function(e,n,s){if(typeof e=="object")kH(e,n,s);else{const o=r1(e),a=Xl(e),i=CH(n),r=EH(n);Xt(o,a),Xt(i,r),G.relations.push({id1:o,id2:i,title:h.sanitizeText(s,t())})}},nr=function(e,n){const s=G.states[e],o=n.startsWith(":")?n.replace(":","").trim():n;s.descriptions.push(h.sanitizeText(o,t()))},Xw=function(e){return e.substring(0,1)===":"?e.substr(2).trim():e.trim()},Qw=()=>(Yu++,"divider-id-"+Yu),l1=function(e,t=""){_s[e]===void 0&&(_s[e]={id:e,styles:[],textStyles:[]});const n=_s[e];t!=null&&t.split(O_).forEach(e=>{const t=e.replace(/([^;]*);/,"$1").trim();if(e.match(zu)){const e=t.replace(Du,y_),s=e.replace(zu,Du);n.textStyles.push(s)}n.styles.push(t)})},Zw=function(){return _s},ir=function(e,t){e.split(",").forEach(function(e){let n=gs(e);if(n===void 0){const t=e.trim();Xt(t),n=gs(t)}n.classes.push(t)})},Jw=function(e,t){const n=gs(e);n!==void 0&&n.textStyles.push(t)},eO=function(e,t){const n=gs(e);n!==void 0&&n.textStyles.push(t)},tO=()=>Vu,rO=e=>{Vu=e},cO=e=>e&&e[0]===":"?e.substr(1).trim():e.trim(),it={parseDirective:Q_,getConfig:()=>t().state,addState:Xt,clear:s1,getState:gs,getStates:Dw,getRelations:Kw,getClasses:Zw,getDirection:tO,addRelation:c1,getDividerId:Qw,setDirection:rO,cleanupLabel:Xw,lineType:R_,relationType:B_,logDocuments:$w,getRootDoc:bw,setRootDoc:vw,getRootDocV2:Ow,extract:xw,trimColon:cO,getAccTitle:Ee,setAccTitle:je,getAccDescription:xe,setAccDescription:ke,addStyleClass:l1,setCssClass:ir,addDescription:nr,setDiagramTitle:Je,getDiagramTitle:ut},dr={},uO=(e,t)=>{dr[e]=t},hO=e=>dr[e],y1=()=>Object.keys(dr),mO=()=>y1().length,pO={get:hO,set:uO,keys:y1,size:mO},gO=e=>e.append("circle").attr("class","start-state").attr("r",t().state.sizeUnit).attr("cx",t().state.padding+t().state.sizeUnit).attr("cy",t().state.padding+t().state.sizeUnit),jO=e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",t().state.textHeight).attr("class","divider").attr("x2",t().state.textHeight*2).attr("y1",0).attr("y2",0),yO=(e,n)=>{const s=e.append("text").attr("x",2*t().state.padding).attr("y",t().state.textHeight+2*t().state.padding).attr("font-size",t().state.fontSize).attr("class","state-title").text(n.id),o=s.node().getBBox();return e.insert("rect",":first-child").attr("x",t().state.padding).attr("y",t().state.padding).attr("width",o.width+2*t().state.padding).attr("height",o.height+2*t().state.padding).attr("rx",t().state.radius),s},_O=(e,n)=>{const u=function(e,n,s){const o=e.append("tspan").attr("x",2*t().state.padding).text(n);s||o.attr("dy",t().state.textHeight)},d=e.append("text").attr("x",2*t().state.padding).attr("y",t().state.textHeight+1.3*t().state.padding).attr("font-size",t().state.fontSize).attr("class","state-title").text(n.descriptions[0]),i=d.node().getBBox(),s=i.height,a=e.append("text").attr("x",t().state.padding).attr("y",s+t().state.padding*.4+t().state.dividerMargin+t().state.textHeight).attr("class","state-description");let r=!0,o=!0;n.descriptions.forEach(function(e){r||(u(a,e,o),o=!1),r=!1});const h=e.append("line").attr("x1",t().state.padding).attr("y1",t().state.padding+s+t().state.dividerMargin/2).attr("y2",t().state.padding+s+t().state.dividerMargin/2).attr("class","descr-divider"),c=a.node().getBBox(),l=Math.max(c.width,i.width);return h.attr("x2",l+3*t().state.padding),e.insert("rect",":first-child").attr("x",t().state.padding).attr("y",t().state.padding).attr("width",l+2*t().state.padding).attr("height",c.height+s+2*t().state.padding).attr("rx",t().state.radius),e},xO=(e,n,s)=>{const c=t().state.padding,u=2*t().state.padding,m=e.node().getBBox(),i=m.width,l=m.x,d=e.append("text").attr("x",0).attr("y",t().state.titleShift).attr("font-size",t().state.fontSize).attr("class","state-title").text(n.id),f=d.node().getBBox(),r=f.width+u;let o=Math.max(r,i);o===i&&(o=o+u);let a;const h=e.node().getBBox();n.doc,a=l-c,r>i&&(a=(i-o)/2+c),Math.abs(l-h.x)<c&&r>i&&(a=l-(r-i)/2);const p=1-t().state.textHeight;return e.insert("rect",":first-child").attr("x",a).attr("y",p).attr("class",s?"alt-composit":"composit").attr("width",o).attr("height",h.height+t().state.textHeight+t().state.titleShift+1).attr("rx","0"),d.attr("x",a+c),r<=i&&d.attr("x",l+(o-u)/2-r/2+c),e.insert("rect",":first-child").attr("x",a).attr("y",t().state.titleShift-t().state.textHeight-t().state.padding).attr("width",o).attr("height",t().state.textHeight*3).attr("rx",t().state.radius),e.insert("rect",":first-child").attr("x",a).attr("y",t().state.titleShift-t().state.textHeight-t().state.padding).attr("width",o).attr("height",h.height+3+2*t().state.textHeight).attr("rx",t().state.radius),e},CO=e=>(e.append("circle").attr("class","end-state-outer").attr("r",t().state.sizeUnit+t().state.miniPadding).attr("cx",t().state.padding+t().state.sizeUnit+t().state.miniPadding).attr("cy",t().state.padding+t().state.sizeUnit+t().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",t().state.sizeUnit).attr("cx",t().state.padding+t().state.sizeUnit+2).attr("cy",t().state.padding+t().state.sizeUnit+2)),EO=(e,n)=>{let s=t().state.forkWidth,o=t().state.forkHeight;if(n.parentId){let e=s;s=o,o=e}return e.append("rect").style("stroke","black").style("fill","black").attr("width",s).attr("height",o).attr("x",t().state.padding).attr("y",t().state.padding)},kO=(e,n,s,o)=>{let a=0;const i=o.append("text");i.style("text-anchor","start"),i.attr("class","noteText");let r=e.replace(/\r\n/g,"<br/>");r=r.replace(/\n/g,"<br/>");const l=r.split(h.lineBreakRegex);let c=1.25*t().state.noteMargin;for(const o of l){const e=o.trim();if(e.length>0){const o=i.append("tspan");if(o.text(e),c===0){const e=o.node().getBBox();c+=e.height}a+=c,o.attr("x",n+t().state.noteMargin),o.attr("y",s+a+1.25*t().state.noteMargin)}}return{textWidth:i.node().getBBox().width,textHeight:a}},SO=(e,n)=>{n.attr("class","state-note");const s=n.append("rect").attr("x",0).attr("y",t().state.padding),o=n.append("g"),{textWidth:i,textHeight:a}=kO(e,0,0,o);return s.attr("height",a+2*t().state.noteMargin),s.attr("width",i+t().state.noteMargin*2),s},A1=function(e,n){const i=n.id,o={id:i,label:n.id,width:0,height:0},s=e.append("g").attr("id",i).attr("class","stateGroup");n.type==="start"&&gO(s),n.type==="end"&&CO(s),(n.type==="fork"||n.type==="join")&&EO(s,n),n.type==="note"&&SO(n.note.text,s),n.type==="divider"&&jO(s),n.type==="default"&&n.descriptions.length===0&&yO(s,n),n.type==="default"&&n.descriptions.length>0&&_O(s,n);const a=s.node().getBBox();return o.width=a.width+2*t().state.padding,o.height=a.height+2*t().state.padding,pO.set(i,o),o},S1=0,MO=function(n,s,o){const a=function(e){switch(e){case it.relationType.AGGREGATION:return"aggregation";case it.relationType.EXTENSION:return"extension";case it.relationType.COMPOSITION:return"composition";case it.relationType.DEPENDENCY:return"dependency"}};s.points=s.points.filter(e=>!Number.isNaN(e.y));const r=s.points,c=uo().x(function(e){return e.x}).y(function(e){return e.y}).curve(_o),l=n.append("path").attr("d",c(r)).attr("id","edge"+S1).attr("class","transition");let i="";if(t().state.arrowMarkerAbsolute&&(i=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,i=i.replace(/\(/g,"\\("),i=i.replace(/\)/g,"\\)")),l.attr("marker-end","url("+i+"#"+a(it.relationType.DEPENDENCY)+"End)"),o.title!==void 0){const d=n.append("g").attr("class","stateLabel"),{x:l,y:r}=p.calcLabelPosition(s.points),a=h.getRows(o.title);let i=0;const m=[];let c=0,f=0;for(let t=0;t<=a.length;t++){const n=d.append("text").attr("text-anchor","middle").text(a[t]).attr("x",l).attr("y",r+i),s=n.node().getBBox();if(c=Math.max(c,s.width),f=Math.min(f,s.x),e.info(s.x,l,r+i),i===0){const t=n.node().getBBox();i=t.height,e.info("Title height",i,r)}m.push(n)}let u=i*a.length;if(a.length>1){const e=(a.length-1)*i*.5;m.forEach((t,n)=>t.attr("y",r+n*i-e)),u=i*a.length}const g=d.node().getBBox();d.insert("rect",":first-child").attr("class","box").attr("x",l-c/2-t().state.padding/2).attr("y",r-u/2-t().state.padding/2-3.5).attr("width",c+t().state.padding).attr("height",u+t().state.padding),e.info(g)}S1++},vr={},FO=function(){},TO=function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},zO=function(n,s,o,a){ye=t().state;const l=t().securityLevel;let d;l==="sandbox"&&(d=i("#i"+s));const m=i(l==="sandbox"?d.nodes()[0].contentDocument.body:"body"),v=l==="sandbox"?d.nodes()[0].contentDocument:document;e.debug("Rendering diagram "+n);const r=m.select(`[id='${s}']`);TO(r);const p=new z({multigraph:!0,compound:!0,rankdir:"RL"});p.setDefaultEdgeLabel(function(){return{}});const g=a.db.getRootDoc();L1(g,r,void 0,!1,m,v,a);const h=ye.padding,c=r.node().getBBox(),u=c.width+h*2,f=c.height+h*2,b=u*1.75;Fe(r,f,b,ye.useMaxWidth),r.attr("viewBox",`${c.x-ye.padding}  ${c.y-ye.padding} `+u+" "+f)},BO=e=>e?e.length*ye.fontSizeFactor:1,L1=(t,n,s,o,i,a,r)=>{const c=new z({compound:!0,multigraph:!0});let m,d=!0;for(m=0;m<t.length;m++)if(t[m].stmt==="relation"){d=!1;break}s?c.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:d?1:ye.edgeLengthFactor,nodeSep:d?1:50,isMultiGraph:!0}):c.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:d?1:ye.edgeLengthFactor,nodeSep:d?1:50,ranker:"tight-tree",isMultiGraph:!0}),c.setDefaultEdgeLabel(function(){return{}}),r.db.extract(t);const g=r.db.getStates(),v=r.db.getRelations(),b=Object.keys(g);for(const l of b){const t=g[l];s&&(t.parentId=s);let e;if(t.doc){let s=n.append("g").attr("id",t.id).attr("class","stateGroup");e=L1(t.doc,s,t.id,!o,i,a,r);{s=xO(s,t,o);let n=s.node().getBBox();e.width=n.width,e.height=n.height+ye.padding/2,vr[t.id]={y:ye.compositTitleSize}}}else e=A1(n,t);if(t.note){const o={descriptions:[],id:t.id+"-note",note:t.note,type:"note"},s=A1(n,o);t.note.position==="left of"?(c.setNode(e.id+"-note",s),c.setNode(e.id,e)):(c.setNode(e.id,e),c.setNode(e.id+"-note",s)),c.setParent(e.id,e.id+"-group"),c.setParent(e.id+"-note",e.id+"-group")}else c.setNode(e.id,e)}e.debug("Count=",c.nodeCount(),c);let p=0;v.forEach(function(t){p++,e.debug("Setting edge",t),c.setEdge(t.id1,t.id2,{relation:t,width:BO(t.title),height:ye.labelHeight*h.getRows(t.title).length,labelpos:"c"},"id"+p)}),Rs(c),e.debug("Graph after layout",c.nodes());const l=n.node();c.nodes().forEach(function(t){if(t!==void 0&&c.node(t)!==void 0){e.warn("Node "+t+": "+JSON.stringify(c.node(t))),i.select("#"+l.id+" #"+t).attr("transform","translate("+(c.node(t).x-c.node(t).width/2)+","+(c.node(t).y+(vr[t]?vr[t].y:0)-c.node(t).height/2)+" )"),i.select("#"+l.id+" #"+t).attr("data-x-shift",c.node(t).x-c.node(t).width/2);const n=a.querySelectorAll("#"+l.id+" #"+t+" .divider");n.forEach(e=>{const n=e.parentElement;let s=0,t=0;n&&(n.parentElement&&(s=n.parentElement.getBBox().width),t=parseInt(n.getAttribute("data-x-shift"),10),Number.isNaN(t)&&(t=0)),e.setAttribute("x1",0-t+8),e.setAttribute("x2",s-t-8)})}else e.debug("No Node "+t+": "+JSON.stringify(c.node(t)))});let f=l.getBBox();c.edges().forEach(function(t){t!==void 0&&c.edge(t)!==void 0&&(e.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(c.edge(t))),MO(n,c.edge(t),c.edge(t).relation))}),f=l.getBBox();const u={id:s||"root",label:s||"root",width:0,height:0};return u.width=f.width+2*ye.padding,u.height=f.height+2*ye.padding,e.debug("Doc rendered",u,c),u},WO={setConf:FO,draw:zO},Yo="rect",wr="rectWithTitle",qO="start",ex="end",ix="divider",ax="roundedWithTitle",cx="note",lx="noteGroup",zn="statediagram",ux="state",jx=`${zn}-${ux}`,m4="transition",Cx="note",Ax="note-edge",Fx=`${m4} ${Ax}`,Ix=`${zn}-${Cx}`,Bx="cluster",Wx=`${zn}-${Bx}`,lC="cluster-alt",dC=`${zn}-${lC}`,D4="parent",N4="note",hC="state",Xr="----",mC=`${Xr}${N4}`,L4=`${Xr}${D4}`,R4="fill:none",P4="fill: #333",I4="c",B4="text",W4="normal",Aa={},Dt=0,_C=function(e){const t=Object.keys(e);for(const n of t)e[n]},MC=function(t,n){e.trace("Extracting classes"),n.db.clear();try{return n.parser.parse(t),n.db.extract(n.db.getRootDocV2()),n.db.getClasses()}catch(e){return e}};function YI(e){return e==null?"":e.classes?e.classes.join(" "):""}function v0(e="",t=0,n="",s=Xr){const o=n!==null&&n.length>0?`${s}${n}`:"";return`${hC}-${e}${o}-${t}`}Qs=(n,s,o,i,a,r)=>{const c=o.id,l=YI(i[c]);if(c!=="root"){let i=Yo;o.start===!0&&(i=qO),o.start===!1&&(i=ex),o.type!==Vs&&(i=o.type),Aa[c]||(Aa[c]={id:c,shape:i,description:h.sanitizeText(c,t()),classes:`${l} ${jx}`});const s=Aa[c];o.description&&(Array.isArray(s.description)?(s.shape=wr,s.description.push(o.description)):s.description.length>0?(s.shape=wr,s.description===c?s.description=[o.description]:s.description=[s.description,o.description]):(s.shape=Yo,s.description=o.description),s.description=h.sanitizeTextOrArray(s.description,t())),s.description.length===1&&s.shape===wr&&(s.shape=Yo),!s.type&&o.doc&&(e.info("Setting cluster for ",c,bc(o)),s.type="group",s.dir=bc(o),s.shape=o.type===vu?ix:ax,s.classes=s.classes+" "+Wx+" "+(r?dC:""));const a={labelStyle:"",shape:s.shape,labelText:s.description,classes:s.classes,style:"",id:c,dir:s.dir,domId:v0(c,Dt),type:s.type,padding:15};if(o.note){const e={labelStyle:"",shape:cx,labelText:o.note.text,classes:Ix,style:"",id:c+mC+"-"+Dt,domId:v0(c,Dt,N4),type:s.type,padding:15},l={labelStyle:"",shape:lx,labelText:o.note.text,classes:s.classes,style:"",id:c+L4,domId:v0(c,Dt,D4),type:"group",padding:0};Dt++;const t=c+L4;n.setNode(t,l),n.setNode(e.id,e),n.setNode(c,a),n.setParent(c,t),n.setParent(e.id,t);let i=c,r=e.id;o.note.position==="left of"&&(i=e.id,r=c),n.setEdge(i,r,{arrowhead:"none",arrowType:"",style:R4,labelStyle:"",classes:Fx,arrowheadStyle:P4,labelpos:I4,labelType:B4,thickness:W4})}else n.setNode(c,a)}s&&s.id!=="root"&&(e.trace("Setting node ",c," to be child of its parent ",s.id),n.setParent(c,s.id)),o.doc&&(e.trace("Adding nodes children "),UC(n,o,o.doc,i,a,!r))},UC=(n,s,o,i,a,r)=>{e.trace("items",o),o.forEach(e=>{switch(e.stmt){case Ai:Qs(n,s,e,i,a,r);break;case Vs:Qs(n,s,e,i,a,r);break;case or:{Qs(n,s,e.state1,i,a,r),Qs(n,s,e.state2,i,a,r);const o={id:"edge"+Dt,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:R4,labelStyle:"",label:h.sanitizeText(e.description,t()),arrowheadStyle:P4,labelpos:I4,labelType:B4,thickness:W4,classes:m4};n.setEdge(e.state1.id,e.state2.id,o,Dt),Dt++}break}})},bc=(e,t=e_)=>{let n=t;if(e.doc)for(let t=0;t<e.doc.length;t++){const s=e.doc[t];s.stmt==="dir"&&(n=s.value)}return n},hE=function(n,s,o,a){e.info("Drawing state diagram (v2)",s),Aa={};let y=a.db.getDirection();y===void 0&&(y=mu);const{securityLevel:u,state:c}=t(),x=c.nodeSpacing||50,O=c.rankSpacing||50;e.info(a.db.getRootDocV2()),a.db.extract(a.db.getRootDocV2()),e.info(a.db.getRootDocV2());const w=a.db.getStates(),m=new z({multigraph:!0,compound:!0}).setGraph({rankdir:bc(a.db.getRootDocV2()),nodesep:x,ranksep:O,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});Qs(m,void 0,a.db.getRootDocV2(),w,a.db,!0);let f;u==="sandbox"&&(f=i("#i"+s));const g=i(u==="sandbox"?f.nodes()[0].contentDocument.body:"body"),r=g.select(`[id="${s}"]`),_=g.select("#"+s+" g");Nl(_,m,["barb"],zn,s);const l=8;p.insertTitle(r,"statediagramTitleText",c.titleTopMargin,a.db.getDiagramTitle());const d=r.node().getBBox(),b=d.width+l*2,j=d.height+l*2;r.attr("class",zn);const h=r.node().getBBox();Fe(r,j,b,c.useMaxWidth);const v=`${h.x-l} ${h.y-l} ${b} ${j}`;e.debug(`viewBox ${v}`),r.attr("viewBox",v);const C=document.querySelectorAll('[id="'+s+'"] .edgeLabel .label');for(const t of C){const n=t.getBBox(),e=document.createElementNS("http://www.w3.org/2000/svg",Yo);e.setAttribute("rx",0),e.setAttribute("ry",0),e.setAttribute("width",n.width),e.setAttribute("height",n.height),t.insertBefore(e,t.firstChild)}},mE={setConf:_C,getClasses:MC,draw:hE},Oc=function(){var e=function(e,t,n,s){for(n=n||{},s=e.length;s--;n[e[s]]=t);return n},h=[1,2],n=[1,5],t=[6,9,11,17,18,20,22,23,24,26],r=[1,15],i=[1,16],a=[1,17],m=[1,18],c=[1,19],l=[1,20],d=[1,24],u=[4,6,9,11,17,18,20,22,23,24,26],s={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(t,n,s,o,i,a){var c=a.length-1;switch(i){case 1:return a[c-1];case 3:this.$=[];break;case 4:a[c-1].push(a[c]),this.$=a[c-1];break;case 5:case 6:this.$=a[c];break;case 7:case 8:this.$=[];break;case 11:o.setDiagramTitle(a[c].substr(6)),this.$=a[c].substr(6);break;case 12:this.$=a[c].trim(),o.setAccTitle(this.$);break;case 13:case 14:this.$=a[c].trim(),o.setAccDescription(this.$);break;case 15:o.addSection(a[c].substr(8)),this.$=a[c].substr(8);break;case 16:o.addTask(a[c-1],a[c]),this.$="task";break;case 18:o.parseDirective("%%{","open_directive");break;case 19:o.parseDirective(a[c],"type_directive");break;case 20:a[c]=a[c].trim().replace(/'/g,'"'),o.parseDirective(a[c],"arg_directive");break;case 21:o.parseDirective("}%%","close_directive","journey");break}},table:[{3:1,4:h,7:3,12:4,26:n},{1:[3]},e(t,[2,3],{5:6}),{3:7,4:h,7:3,12:4,26:n},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:r,18:i,20:a,22:m,23:c,24:l,26:n},{1:[2,2]},{14:22,15:[1,23],29:d},e([15,29],[2,19]),e(t,[2,8],{1:[2,1]}),e(t,[2,4]),{7:21,10:25,12:4,17:r,18:i,20:a,22:m,23:c,24:l,26:n},e(t,[2,6]),e(t,[2,7]),e(t,[2,11]),{19:[1,26]},{21:[1,27]},e(t,[2,14]),e(t,[2,15]),{25:[1,28]},e(t,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},e(t,[2,5]),e(t,[2,12]),e(t,[2,13]),e(t,[2,16]),e(u,[2,9]),{14:32,29:d},{29:[2,20]},{11:[1,33]},e(u,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(t,n){if(n.recoverable)this.trace(t);else{var s=new Error(t);throw s.hash=n,s}},parse:function(t){var o,a,r,d,u,m,f,g,v,j,y,_,w,S=this,i=[0],b=[],c=[null],n=[],p=this.table,C="",h=0,x=0,k=2,O=1,E=n.slice.call(arguments,1),s=Object.create(this.lexer),l={yy:{}};for(y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(l.yy[y]=this.yy[y]);s.setInput(t,l.yy),l.yy.lexer=s,l.yy.parser=this,typeof s.yylloc=="undefined"&&(s.yylloc={}),v=s.yylloc,n.push(v),w=s.options&&s.options.ranges,typeof l.yy.parseError=="function"?this.parseError=l.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function A(){var e=b.pop()||s.lex()||O;return typeof e!="number"&&(e instanceof Array&&(b=e,e=b.pop()),e=S.symbols_[e]||e),e}for(d={};!0;){if(u=i[i.length-1],this.defaultActions[u]?a=this.defaultActions[u]:((o===null||typeof o=="undefined")&&(o=A()),a=p[u]&&p[u][o]),typeof a=="undefined"||!a.length||!a[0]){g="",f=[];for(m in p[u])this.terminals_[m]&&m>k&&f.push("'"+this.terminals_[m]+"'");s.showPosition?g="Parse error on line "+(h+1)+`:
`+s.showPosition()+`
Expecting `+f.join(", ")+", got '"+(this.terminals_[o]||o)+"'":g="Parse error on line "+(h+1)+": Unexpected "+(o==O?"end of input":"'"+(this.terminals_[o]||o)+"'"),this.parseError(g,{text:s.match,token:this.terminals_[o]||o,line:s.yylineno,loc:v,expected:f})}if(a[0]instanceof Array&&a.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+o);switch(a[0]){case 1:i.push(o),c.push(s.yytext),n.push(s.yylloc),i.push(a[1]),o=null,x=s.yyleng,C=s.yytext,h=s.yylineno,v=s.yylloc;break;case 2:if(r=this.productions_[a[1]][1],d.$=c[c.length-r],d._$={first_line:n[n.length-(r||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(r||1)].first_column,last_column:n[n.length-1].last_column},w&&(d._$.range=[n[n.length-(r||1)].range[0],n[n.length-1].range[1]]),j=this.performAction.apply(d,[C,x,h,l.yy,a[1],c,n].concat(E)),typeof j!="undefined")return j;r&&(i=i.slice(0,-1*r*2),c=c.slice(0,-1*r),n=n.slice(0,-1*r)),i.push(this.productions_[a[1]][0]),c.push(d.$),n.push(d._$),_=p[i[i.length-2]][i[i.length-1]],i.push(_);break;case 3:return!0}}return!0}},f=function(){var e={EOF:1,parseError:function(t,n){if(this.yy.parser)this.yy.parser.parseError(t,n);else throw new Error(t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t,e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,t=e.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s,o,n=e.length,t=e.split(/(?:\r\n?|\n)/g);return this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n,s=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),o=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===s.length?this.yylloc.first_column:0)+s[s.length-t.length].length-t[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+t+"^"},test_match:function(e,t){var n,s,o,i;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],o=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(i in s)this[i]=s[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),s=0;s<o.length;s++)if(n=this._input.match(this.rules[o[s]]),n&&(!t||n[0].length>t[0].length))if(t=n,i=s,this.options.backtrack_lexer){if(e=this.test_match(n,o[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}else if(!this.options.flex)break;return t?(e=this.test_match(t,o[i]),e!==!1&&e):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,n,s){switch(s){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:break;case 6:break;case 7:return 11;case 8:break;case 9:break;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[}])/i,/^(?:[^}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};return e}();s.lexer=f;function o(){this.yy={}}return o.prototype=s,s.Parser=o,new o}(),Oc.parser=Oc,fE=Oc,bE=e=>e.match(/^\s*journey/)!==null,es="",kc=[],No=[],Mo=[],jE=function(e,t,n){_.parseDirective(this,e,t,n)},yE=function(){kc.length=0,No.length=0,es="",Mo.length=0,Ce()},_E=function(e){es=e,kc.push(e)},wE=function(){return kc},OE=function(){let e=P0();const n=100;let t=0;for(;!e&&t<n;)e=P0(),t++;return No.push(...Mo),No},xE=function(){const e=[];No.forEach(t=>{t.people&&e.push(...t.people)});const t=new Set(e);return[...t].sort()},CE=function(e,t){const n=t.substr(1).split(":");let s=0,o=[];n.length===1?(s=Number(n[0]),o=[]):(s=Number(n[0]),o=n[1].split(","));const i=o.map(e=>e.trim()),a={section:es,type:es,people:i,task:e,score:s};Mo.push(a)},EE=function(e){const t={section:es,type:es,description:e,task:e,classes:[]};No.push(t)},P0=function(){const t=function(e){return Mo[e].processed};let e=!0;for(const[n,s]of Mo.entries())t(n),e=e&&s.processed;return e},kE=function(){return xE()},H0={parseDirective:jE,getConfig:()=>t().journey,clear:yE,setDiagramTitle:Je,getDiagramTitle:ut,setAccTitle:je,getAccTitle:Ee,setAccDescription:ke,getAccDescription:xe,addSection:_E,getSections:wE,getTasks:OE,addTask:CE,addTaskOrg:EE,getActors:kE},Ho=function(e,t){const n=e.append("rect");return n.attr("x",t.x),n.attr("y",t.y),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("width",t.width),n.attr("height",t.height),n.attr("rx",t.rx),n.attr("ry",t.ry),t.class!==void 0&&n.attr("class",t.class),n},AE=function(e,t){const n=15,o=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",n).attr("stroke-width",2).attr("overflow","visible"),s=e.append("g");s.append("circle").attr("cx",t.cx-n/3).attr("cy",t.cy-n/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),s.append("circle").attr("cx",t.cx+n/3).attr("cy",t.cy-n/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function i(e){const s=Od().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(n/2).outerRadius(n/2.2);e.append("path").attr("class","mouth").attr("d",s).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}function a(e){const s=Od().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(n/2).outerRadius(n/2.2);e.append("path").attr("class","mouth").attr("d",s).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}function r(e){e.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return t.score>3?i(s):t.score<3?a(s):r(s),o},I0=function(e,t){const n=e.append("circle");return n.attr("cx",t.cx),n.attr("cy",t.cy),n.attr("class","actor-"+t.pos),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("r",t.r),n.class!==void 0&&n.attr("class",n.class),t.title!==void 0&&n.append("title").text(t.title),n},B0=function(e,t){const o=t.text.replace(/<br\s*\/?>/gi," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class!==void 0&&n.attr("class",t.class);const s=n.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.text(o),n},ME=function(e,t){function s(e,t,n,s,o){return e+","+t+" "+(e+n)+","+t+" "+(e+n)+","+(t+s-o)+" "+(e+n-o*1.2)+","+(t+s)+" "+e+","+(t+s)}const n=e.append("polygon");n.attr("points",s(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,B0(e,t)},FE=function(e,t,n){const o=e.append("g"),s=Lc();s.x=t.x,s.y=t.y,s.fill=t.fill,s.width=n.width,s.height=n.height,s.class="journey-section section-type-"+t.num,s.rx=3,s.ry=3,Ho(o,s),U0(n)(t.text,o,s.x,s.y,s.width,s.height,{class:"journey-section section-type-"+t.num},n,t.colour)},W0=-1,TE=function(e,t,n){const i=t.x+n.width/2,o=e.append("g");W0++;const r=300+5*30;o.append("line").attr("id","task"+W0).attr("x1",i).attr("y1",t.y).attr("x2",i).attr("y2",r).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),AE(o,{cx:i,cy:300+(5-t.score)*30,score:t.score});const s=Lc();s.x=t.x,s.y=t.y,s.fill=t.fill,s.width=n.width,s.height=n.height,s.class="task task-type-"+t.num,s.rx=3,s.ry=3,Ho(o,s);let a=t.x+14;t.people.forEach(e=>{const n=t.actors[e].color,s={cx:a,cy:t.y,r:7,fill:n,stroke:"#000",title:e,pos:t.actors[e].position};I0(o,s),a+=10}),U0(n)(t.task,o,s.x,s.y,s.width,s.height,{class:"task"},n,t.colour)},zE=function(e,t){const n=Ho(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"});n.lower()},DE=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},Lc=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},U0=function(){function n(t,n,s,o,i,a,r,c){const l=n.append("text").attr("x",s+i/2).attr("y",o+a/2+5).style("font-color",c).style("text-anchor","middle").text(t);e(l,r)}function t(t,n,s,o,i,a,r,c,l){const{taskFontSize:d,taskFontFamily:h}=c,u=t.split(/<br\s*\/?>/gi);for(let t=0;t<u.length;t++){const m=t*d-d*(u.length-1)/2,c=n.append("text").attr("x",s+i/2).attr("y",o).attr("fill",l).style("text-anchor","middle").style("font-size",d).style("font-family",h);c.append("tspan").attr("x",s+i/2).attr("dy",m).text(u[t]),c.attr("y",o+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),e(c,r)}}function s(n,s,o,i,a,r,c,l){const d=s.append("switch"),h=d.append("foreignObject").attr("x",o).attr("y",i).attr("width",a).attr("height",r).attr("position","fixed"),u=h.append("xhtml:div").style("display","table").style("height","100%").style("width","100%");u.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),t(n,d,o,i,a,r,c,l),e(u,c)}function e(e,t){for(const n in t)n in t&&e.attr(n,t[n])}return function(e){return e.textPlacement==="fo"?s:e.textPlacement==="old"?n:t}}(),NE=function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},wo={drawRect:Ho,drawCircle:I0,drawSection:FE,drawText:B0,drawLabel:ME,drawTask:TE,drawBackgroundRect:zE,getTextObj:DE,getNoteRect:Lc,initGraphics:NE},YE=function(e){const t=Object.keys(e);t.forEach(function(t){ni[t]=e[t]})},pt={};function NB(e){const s=t().journey;let n=60;Object.keys(pt).forEach(t=>{const o=pt[t].color,i={cx:20,cy:n,r:7,fill:o,stroke:"#000",pos:pt[t].position};wo.drawCircle(e,i);const a={x:40,y:n+7,fill:"#666",text:t,textMargin:s.boxTextMargin|5};wo.drawText(e,a),n+=20})}ni=t().journey,on=ni.leftMargin,nk=function(e,n,s,o){const r=t().journey;o.db.clear(),o.parser.parse(e+`
`);const f=t().securityLevel;let m;f==="sandbox"&&(m=i("#i"+n));const b=i(f==="sandbox"?m.nodes()[0].contentDocument.body:"body");ge.init();const a=b.select("#"+n);wo.initGraphics(a);const v=o.db.getTasks(),h=o.db.getDiagramTitle(),g=o.db.getActors();for(const e in pt)delete pt[e];let u=0;g.forEach(e=>{pt[e]={color:r.actorColours[u%r.actorColours.length],position:u},u++}),NB(a),ge.insert(0,0,on,Object.keys(pt).length*50),ck(a,v,0);const c=ge.getBounds();h&&a.append("text").text(h).attr("x",on).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const d=c.stopy-c.starty+2*r.diagramMarginY,l=on+c.stopx+2*r.diagramMarginX;Fe(a,d,l,r.useMaxWidth),a.append("line").attr("x1",on).attr("y1",r.height*4).attr("x2",l-on-4).attr("y2",r.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const p=h?70:0;a.attr("viewBox",`${c.startx} -25 ${l} ${d+p}`),a.attr("preserveAspectRatio","xMinYMin meet"),a.attr("height",d+p+25)},ge={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(e,t,n,s){e[t]===void 0?e[t]=n:e[t]=s(n,e[t])},updateBounds:function(e,n,s,o){const a=t().journey,i=this;let r=0;function c(t){return function(l){r++;const d=i.sequenceItems.length-r+1;i.updateVal(l,"starty",n-d*a.boxMargin,Math.min),i.updateVal(l,"stopy",o+d*a.boxMargin,Math.max),i.updateVal(ge.data,"startx",e-d*a.boxMargin,Math.min),i.updateVal(ge.data,"stopx",s+d*a.boxMargin,Math.max),t==="activation"||(i.updateVal(l,"startx",e-d*a.boxMargin,Math.min),i.updateVal(l,"stopx",s+d*a.boxMargin,Math.max),i.updateVal(ge.data,"starty",n-d*a.boxMargin,Math.min),i.updateVal(ge.data,"stopy",o+d*a.boxMargin,Math.max))}}this.sequenceItems.forEach(c())},insert:function(e,t,n,s){const o=Math.min(e,n),i=Math.max(e,n),a=Math.min(t,s),r=Math.max(t,s);this.updateVal(ge.data,"startx",o,Math.min),this.updateVal(ge.data,"starty",a,Math.min),this.updateVal(ge.data,"stopx",i,Math.max),this.updateVal(ge.data,"stopy",r,Math.max),this.updateBounds(o,a,i,r)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},qc=ni.sectionFills,Z0=ni.sectionColours,ck=function(e,n,s){const o=t().journey;let l="";const d=o.height*2+o.diagramMarginY,u=s+d;let i=0,r="#CCC",c="black",a=0;for(const[s,t]of n.entries()){if(l!==t.section){r=qc[i%qc.length],a=i%qc.length,c=Z0[i%Z0.length];const n={x:s*o.taskMargin+s*o.width+on,y:50,text:t.section,fill:r,num:a,colour:c};wo.drawSection(e,n,o),l=t.section,i++}const d=t.people.reduce((e,t)=>(pt[t]&&(e[t]=pt[t]),e),{});t.x=s*o.taskMargin+s*o.width+on,t.y=u,t.width=o.diagramMarginX,t.height=o.diagramMarginY,t.colour=c,t.fill=r,t.num=a,t.actors=d,wo.drawTask(e,t,o),ge.insert(t.x,t.y,t.x+t.width+o.taskMargin,300+5*30)}},e2={setConf:YE,draw:nk},r2={},lk=function(e){r2={...r2,...e}},dk=(t,n,s)=>{try{e.debug(`Renering svg for syntax error
`);const o=i("#"+n),t=o.append("g");t.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),t.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),t.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),t.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),t.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),t.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),t.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),t.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+s),o.attr("height",100),o.attr("width",500),o.attr("viewBox","768 0 912 512")}catch(t){e.error("Error while rendering info diagram"),e.error(gS(t))}},Xc={setConf:lk,draw:dk},u2=!1,mo=()=>{if(u2)return;u2=!0,$("error",{db:{clear:()=>{}},styles:j0,renderer:Xc,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},e=>e.toLowerCase().trim()==="error"),$("c4",{parser:Ak,db:V2,renderer:j3,styles:A0,init:e=>{j3.setConf(e.c4)}},Sk),$("class",{parser:C3,db:En,renderer:uw,styles:Is,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,En.clear()}},oS),$("classDiagram",{parser:C3,db:En,renderer:rb,styles:Is,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,En.clear()}},iS),$("er",{parser:ib,db:B9,renderer:j9,styles:g0},sb),$("gantt",{parser:up,db:Ll,renderer:Rh,styles:y0},lp),$("info",{parser:Ph,db:Tm,renderer:$m,styles:_0},k8),$("pie",{parser:V8,db:mf,renderer:Df,styles:O0},q8),$("requirement",{parser:Pf,db:S5,renderer:a9,styles:x0},If),$("sequence",{parser:l9,db:bd,renderer:lu,styles:E0,init:e=>{if(e.sequence||(e.sequence={}),e.sequence.arrowMarkerAbsolute=e.arrowMarkerAbsolute,"sequenceDiagram"in e)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");bd.setWrap(e.wrap),lu.setConf(e.sequence)}},d9),$("state",{parser:uu,db:it,renderer:WO,styles:Ei,init:e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,it.clear()}},Zy),$("stateDiagram",{parser:uu,db:it,renderer:mE,styles:Ei,init:e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,it.clear()}},Jy),$("journey",{parser:fE,db:H0,renderer:e2,styles:k0,init:e=>{e2.setConf(e.journey),H0.clear()}},bE),$("flowchart",{parser:pd,db:bt,renderer:Tr,styles:zi,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,rg.setConf(e.flowchart),bt.clear(),bt.setGen("gen-1")}},p9),$("flowchart-v2",{parser:pd,db:bt,renderer:Tr,styles:zi,init:e=>{e.flowchart||(e.flowchart={}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,K4({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}}),Tr.setConf(e.flowchart),bt.clear(),bt.setGen("gen-2")}},f9),$("gitGraph",{parser:pE,db:rk,renderer:xk,styles:Ek},gE)},Qc=class{constructor(n,s){xs(this,"type","graph"),xs(this,"parser"),xs(this,"renderer"),xs(this,"db"),xs(this,"detectTypeFailed",!1);var a,r;this.txt=n;const i=t();this.txt=n;try{this.type=Or(n,i)}catch(e){this.handleError(e,s),this.type="error",this.detectTypeFailed=!0}const o=R0(this.type);e.debug("Type "+this.type),this.db=o.db,(r=(a=this.db).clear)==null?void 0:r.call(a),this.renderer=o.renderer,this.parser=o.parser;const c=this.parser.parse.bind(this.parser);this.parser.parse=e=>c(wS(e,this.db)),this.parser.parser.yy=this.db,o.init&&(o.init(i),e.debug("Initialized diagram "+this.type,i)),this.txt+=`
`,this.parse(this.txt,s)}parse(e,t){var n,s;if(this.detectTypeFailed)return!1;try{return e=e+`
`,(s=(n=this.db).clear)==null?void 0:s.call(n),this.parser.parse(e),!0}catch(e){this.handleError(e,t)}return!1}handleError(e,t){if(t===void 0)throw e;if(S4(e)){t(e.str,e.hash);return}t(e)}getParser(){return this.parser}getType(){return this.type}},Zc=(e,n)=>{const s=Or(e,t());try{R0(s)}catch{const t=rx(s);if(!t)throw new Error(`Diagram ${s} not found.`);return t().then(({diagram:t})=>($(s,t,void 0),new Qc(e,n)))}return new Qc(e,n)},Jc=Qc;function JB(e,t){is(t)||e.attr("aria-roledescription",t)}function eV(e,t,n,s){if(e.insert===void 0)return;if(t||n){{if(n){const t="chart-desc-"+s;e.attr("aria-describedby",t),e.insert("desc",":first-child").attr("id",t).text(n)}if(t){const n="chart-title-"+s;e.attr("aria-labelledby",n),e.insert("title",":first-child").attr("id",n).text(t)}}}else return}el=["graph","flowchart","flowchart-v2","stateDiagram","stateDiagram-v2"],m2="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",f2="sandbox",v2="loose",uk="http://www.w3.org/2000/svg",b2="http://www.w3.org/1999/xlink",y2="http://www.w3.org/1999/xhtml",hk="100%",mk="100%",fk="border:0;margin:0;",vk="margin:0",jk="allow-top-navigation-by-user-activation allow-popups",kk='The "iframe" tag is not supported by your browser.',O2=["foreignobject"],x2=["dominant-baseline"];function gV(e,t){mo();const n=new Jc(e,t);return n.parse(e,t)}async function vV(e,t){mo();const n=await Zc(e,t);return n.parse(e,t)}C2=function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(e){return e.substring(0,e.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(e){return e.substring(0,e.length-1)}),t=t.replace(/#\w+;/g,function(e){const t=e.substring(1,e.length-1),n=/^\+?\d+$/.test(t);return n?"\uFB02\xB0\xB0"+t+"\xB6\xDF":"\uFB02\xB0"+t+"\xB6\xDF"}),t},rl=function(e){let t=e;return t=t.replace(/ﬂ°°/g,"&#"),t=t.replace(/ﬂ°/g,"&"),t=t.replace(/¶ß/g,";"),t},E2=(e,t,n=[])=>`
.${e} ${t} { ${n.join(" !important; ")} !important; }`,Fk=(e,t,n={})=>{var o;let s="";if(e.themeCSS!==void 0&&(s+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(s+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(s+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),!is(n)&&el.includes(t)){const t=e.htmlLabels||((o=e.flowchart)==null?void 0:o.htmlLabels),i=["> *","span"],a=["rect","polygon","ellipse","circle","path"],r=t?i:a;for(const t in n){const e=n[t];is(e.styles)||r.forEach(t=>{s+=E2(e.id,t,e.styles)}),is(e.textStyles)||(s+=E2(e.id,"tspan",e.textStyles))}}return s},k2=(e,t,n,s)=>{const o=Fk(e,t,n),i=iE(t,o,e.themeVariables);return $0(UN(`${s}{${i}}`),$N)},A2=(e="",t,n)=>{let s=e;return!n&&!t&&(s=s.replace(/marker-end="url\(.*?#/g,'marker-end="url(#')),s=rl(s),s=s.replace(/<br>/g,"<br/>"),s},z2=(e="",t)=>{const n=t?t.viewBox.baseVal.height+"px":mk,s=btoa('<body style="'+vk+'">'+e+"</body>");return`<iframe style="width:${hk};height:${n};${fk}" src="data:text/html;base64,${s}" sandbox="${jk}">
  ${kk}
</iframe>`},Si=(e,t,n,s,o)=>{const i=e.append("div");i.attr("id",n),s&&i.attr("style",s);const a=i.append("svg").attr("id",t).attr("width","100%").attr("xmlns",uk);return o&&a.attr("xmlns:xlink",o),a.append("g"),e};function Gl(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}D2=(e,t,n,s)=>{var o,i,a;(o=e.getElementById(t))==null?void 0:o.remove(),(i=e.getElementById(n))==null?void 0:i.remove(),(a=e.getElementById(s))==null?void 0:a.remove()},Pk=function(n,s,o,a){var y,_,O,x,E;mo(),vs();const v=p.detectInit(s);v&&(rn(v),Pa(v));const d=t();e.debug(d),s.length>((E=d?.maxTextSize)!=null?E:5e4)&&(s=m2),s=s.replace(/\r\n?/g,`
`);const L="#"+n,m="i"+n,T="#"+m,g="d"+n,h="#"+g;let r=i("body");const u=d.securityLevel===f2,A=d.securityLevel===v2,P=d.fontFamily;if(a!==void 0){if(a&&(a.innerHTML=""),u){const e=Gl(i(a),m);r=i(e.nodes()[0].contentDocument.body),r.node().style.margin=0}else r=i(a);Si(r,n,g,`font-family: ${P}`,b2)}else{if(D2(document,n,g,m),u){const e=Gl(i("body"),m);r=i(e.nodes()[0].contentDocument.body),r.node().style.margin=0}else r=i("body");Si(r,n,g)}s=C2(s);let l,j;try{if(l=Zc(s),"then"in l)throw new Error("Diagram is a promise. Use renderAsync.")}catch(e){l=new Jc("error"),j=e}const k=r.select(h).node(),f=l.type,w=k.firstChild,S=w.firstChild,M=el.includes(f)?l.renderer.getClasses(s,l):{},F=k2(d,f,M,L),C=document.createElement("style");C.innerHTML=F,w.insertBefore(C,S);try{l.renderer.draw(s,n,Qi.version,l)}catch(e){throw Xc.draw(s,n,Qi.version),e}const z=r.select(`${h} svg`),D=(O=(x=l.db).getAccTitle)==null?void 0:O.call(x),N=(y=(_=l.db).getAccDescription)==null?void 0:y.call(_);TA(f,z,D,N),r.select(`[id="${n}"]`).selectAll("foreignobject > *").attr("xmlns",y2);let c=r.select(h).node().innerHTML;if(e.debug("config.arrowMarkerAbsolute",d.arrowMarkerAbsolute),c=A2(c,u,B(d.arrowMarkerAbsolute)),u){const e=r.select(h+" svg").node();c=z2(c,e)}else A||(c=Ao.default.sanitize(c,{ADD_TAGS:O2,ADD_ATTR:x2}));if(o!==void 0)switch(f){case"flowchart":case"flowchart-v2":o(c,bt.bindFunctions);break;case"gantt":o(c,Ll.bindFunctions);break;case"class":case"classDiagram":o(c,En.bindFunctions);break;default:o(c)}else e.debug("CB = undefined!");_d();const R=u?T:h,b=i(R).node();if(b&&"remove"in b&&b.remove(),j)throw j;return c},Hk=async function(n,s,o,a){var y,_,O,x,E;mo(),vs();const v=p.detectInit(s);v&&(rn(v),Pa(v));const l=t();e.debug(l),s.length>((E=l?.maxTextSize)!=null?E:5e4)&&(s=m2),s=s.replace(/\r\n?/g,`
`);const L="#"+n,m="i"+n,T="#"+m,g="d"+n,h="#"+g;let r=i("body");const u=l.securityLevel===f2,A=l.securityLevel===v2,P=l.fontFamily;if(a!==void 0){if(a&&(a.innerHTML=""),u){const e=Gl(i(a),m);r=i(e.nodes()[0].contentDocument.body),r.node().style.margin=0}else r=i(a);Si(r,n,g,`font-family: ${P}`,b2)}else{if(D2(document,n,g,m),u){const e=Gl(i("body"),m);r=i(e.nodes()[0].contentDocument.body),r.node().style.margin=0}else r=i("body");Si(r,n,g)}s=C2(s);let d,j;try{d=await Zc(s)}catch(e){d=new Jc("error"),j=e}const k=r.select(h).node(),f=d.type,w=k.firstChild,S=w.firstChild,M=el.includes(f)?d.renderer.getClasses(s,d):{},F=k2(l,f,M,L),C=document.createElement("style");C.innerHTML=F,w.insertBefore(C,S);try{await d.renderer.draw(s,n,Qi.version,d)}catch(e){throw Xc.draw(s,n,Qi.version),e}const z=r.select(`${h} svg`),D=(O=(x=d.db).getAccTitle)==null?void 0:O.call(x),N=(y=(_=d.db).getAccDescription)==null?void 0:y.call(_);TA(f,z,D,N),r.select(`[id="${n}"]`).selectAll("foreignobject > *").attr("xmlns",y2);let c=r.select(h).node().innerHTML;if(e.debug("config.arrowMarkerAbsolute",l.arrowMarkerAbsolute),c=A2(c,u,B(l.arrowMarkerAbsolute)),u){const e=r.select(h+" svg").node();c=z2(c,e)}else A||(c=Ao.default.sanitize(c,{ADD_TAGS:O2,ADD_ATTR:x2}));if(o!==void 0)switch(f){case"flowchart":case"flowchart-v2":o(c,bt.bindFunctions);break;case"gantt":o(c,Ll.bindFunctions);break;case"class":case"classDiagram":o(c,En.bindFunctions);break;default:o(c)}else e.debug("CB = undefined!");_d();const R=u?T:h,b=i(R).node();if(b&&"remove"in b&&b.remove(),j)throw j;return c},mn={},hA=function(t,n,s,o){try{if(n!==void 0)switch(n=n.trim(),s){case"open_directive":mn={};break;case"type_directive":if(!mn)throw new Error("currentDirective is undefined");mn.type=n.toLowerCase();break;case"arg_directive":if(!mn)throw new Error("currentDirective is undefined");mn.args=JSON.parse(n);break;case"close_directive":yA(t,mn,o),mn=void 0;break}}catch(t){e.error(`Error while rendering sequenceDiagram directive: ${n} jison context: ${s}`),e.error(t.message)}},yA=function(t,n,s){switch(e.debug(`Directive type=${n.type} with args:`,n.args),n.type){case"init":case"initialize":{["config"].forEach(e=>{n.args[e]!==void 0&&(s==="flowchart-v2"&&(s="flowchart"),n.args[s]=n.args[e],delete n.args[e])}),e.debug("sanitize in handleDirective",n.args),rn(n.args),e.debug("sanitize in handleDirective (done)",n.args),Pa(n.args);break}case"wrap":case"nowrap":t&&t.setWrap&&t.setWrap(n.type==="wrap");break;case"themeCss":e.warn("themeCss encountered");break;default:e.warn(`Unhandled directive: source: '%%{${n.type}: ${JSON.stringify(n.args?n.args:{})}}%%`,n);break}};function zV(e={}){var t;e?.fontFamily&&!((t=e.themeVariables)==null?void 0:t.fontFamily)&&(e.themeVariables={fontFamily:e.fontFamily}),gC(e),e?.theme&&e.theme in dt?e.themeVariables=dt[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=dt.default.getThemeVariables(e.themeVariables));const n=typeof e=="object"?pC(e):V4();$r(n.logLevel),mo()}function TA(e,t,n,s){JB(t,e),eV(t,n,s,t.attr("id"))}_=Object.freeze({render:Pk,renderAsync:Hk,parse:gV,parseAsync:vV,parseDirective:hA,initialize:zV,getConfig:t,setConfig:K4,getSiteConfig:V4,updateSiteConfig:vC,reset:()=>{vs()},globalReset:()=>{vs($n)},defaultConfig:$n}),$r(t().logLevel),vs(t()),K2=!1,RA=async function(t,n,s){try{K2?await s3(t,n,s):J2(t,n,s)}catch(t){e.warn("Syntax Error rendering"),S4(t)&&e.warn(t.str),he.parseError&&he.parseError(t)}},G2=(t,n,s)=>{e.warn(t),S4(t)?(s&&s(t.str,t.hash),n.push({...t,message:t.str,error:t})):(s&&s(t),t instanceof Error&&n.push({str:t.message,message:t.message,hash:t.name,error:t}))},J2=function(t,n,s){const r=_.getConfig();t&&(he.sequenceConfig=t),e.debug(`${s?"":"No "}Callback function found`);let o;if(n===void 0)o=document.querySelectorAll(".mermaid");else if(typeof n=="string")o=document.querySelectorAll(n);else if(n instanceof HTMLElement)o=[n];else if(n instanceof NodeList)o=n;else throw new Error("Invalid argument nodes for mermaid.init");e.debug(`Found ${o.length} diagrams`),t?.startOnLoad!==void 0&&(e.debug("Start On Load: "+t?.startOnLoad),_.updateSiteConfig({startOnLoad:t?.startOnLoad}));const c=new p.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let i;const a=[];for(const t of Array.from(o)){if(e.info("Rendering diagram: "+t.id),t.getAttribute("data-processed"))continue;t.setAttribute("data-processed","true");const n=`mermaid-${c.next()}`;i=t.innerHTML,i=p.entityDecode(i).trim().replace(/<br\s*\/?>/gi,"<br/>");const r=p.detectInit(i);r&&e.debug("Detected early reinit: ",r);try{_.render(n,i,(e,o)=>{t.innerHTML=e,s!==void 0&&s(n),o&&o(t)},t)}catch(e){G2(e,a,he.parseError)}}if(a.length>0)throw a[0]},PA=e=>{for(const{id:t,detector:n,loader:s}of e)Q1(t,n,s)},HA=async t=>{e.debug(`Loading ${t.length} external diagrams`);const s=await Promise.allSettled(t.map(async({id:e,detector:t,loader:n})=>{const{diagram:s}=await n();$(e,s,t)})),n=s.filter(e=>e.status==="rejected");if(n.length>0){e.error(`Failed to load ${n.length} external diagrams`);for(const t of n)e.error(t);throw new Error(`Failed to load ${n.length} external diagrams`)}},s3=async function(t,n,s){const r=_.getConfig();t&&(he.sequenceConfig=t),e.debug(`${s?"":"No "}Callback function found`);let o;if(n===void 0)o=document.querySelectorAll(".mermaid");else if(typeof n=="string")o=document.querySelectorAll(n);else if(n instanceof HTMLElement)o=[n];else if(n instanceof NodeList)o=n;else throw new Error("Invalid argument nodes for mermaid.init");e.debug(`Found ${o.length} diagrams`),t?.startOnLoad!==void 0&&(e.debug("Start On Load: "+t?.startOnLoad),_.updateSiteConfig({startOnLoad:t?.startOnLoad}));const c=new p.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let i;const a=[];for(const t of Array.from(o)){if(e.info("Rendering diagram: "+t.id),t.getAttribute("data-processed"))continue;t.setAttribute("data-processed","true");const n=`mermaid-${c.next()}`;i=t.innerHTML,i=p.entityDecode(i).trim().replace(/<br\s*\/?>/gi,"<br/>");const r=p.detectInit(i);r&&e.debug("Detected early reinit: ",r);try{await _.renderAsync(n,i,(e,o)=>{t.innerHTML=e,s!==void 0&&s(n),o&&o(t)},t)}catch(e){G2(e,a,he.parseError)}}if(a.length>0)throw a[0]},IA=function(e){_.initialize(e)},BA=async(e,{lazyLoad:t=!0}={})=>{t?PA(e):await HA(e),K2=!0},l3=function(){if(he.startOnLoad){const{startOnLoad:e}=_.getConfig();e&&he.init()}},typeof document!="undefined"&&window.addEventListener("load",l3,!1),KA=function(e){he.parseError=e},qA=e=>_.parse(e,he.parseError),da=[],Rl=!1,f3=async()=>{if(Rl)return;for(Rl=!0;da.length>0;){const t=da.shift();if(t)try{await t()}catch(t){e.error("Error executing queue",t)}}Rl=!1},tS=t=>new Promise((n,s)=>{const o=()=>new Promise((o,i)=>{_.parseAsync(t,he.parseError).then(e=>{o(e),n(e)},t=>{e.error("Error parsing",t),i(t),s(t)})});da.push(o),f3()}),nS=(t,n,s,o)=>new Promise((i,a)=>{const r=()=>new Promise((r,c)=>{_.renderAsync(t,n,s,o).then(e=>{r(e),i(e)},t=>{e.error("Error parsing",t),c(t),a(t)})});da.push(r),f3()}),he={startOnLoad:!0,diagrams:{},mermaidAPI:_,parse:qA,parseAsync:tS,render:_.render,renderAsync:nS,init:RA,initThrowsErrors:J2,initThrowsErrorsAsync:s3,registerExternalDiagrams:BA,initialize:IA,parseError:void 0,contentLoaded:l3,setParseErrorHandler:KA},fS={theme:"default",fontFamily:'"Jost", -apple-system, blinkmacsystemfont, "Segoe UI", roboto, "Helvetica Neue", arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";'},document.addEventListener("DOMContentLoaded",()=>{he.initialize(fS),he.init(void 0,".language-mermaid")})})()